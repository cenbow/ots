<!DOCTYPE html><html>

<head>
<meta charset="utf-8">
<title>otsapi</title>
<style type="text/css">
body {
  font-family: Helvetica, arial, sans-serif;
  font-size: 14px;
  line-height: 1.6;
  padding-top: 10px;
  padding-bottom: 10px;
  background-color: white;
  padding: 30px; }

body > *:first-child {
  margin-top: 0 !important; }
body > *:last-child {
  margin-bottom: 0 !important; }

a {
  color: #4183C4; }
a.absent {
  color: #cc0000; }
a.anchor {
  display: block;
  padding-left: 30px;
  margin-left: -30px;
  cursor: pointer;
  position: absolute;
  top: 0;
  left: 0;
  bottom: 0; }

h1, h2, h3, h4, h5, h6 {
  margin: 20px 0 10px;
  padding: 0;
  font-weight: bold;
  -webkit-font-smoothing: antialiased;
  cursor: text;
  position: relative; }

h1:hover a.anchor, h2:hover a.anchor, h3:hover a.anchor, h4:hover a.anchor, h5:hover a.anchor, h6:hover a.anchor {
  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA09pVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoMTMuMCAyMDEyMDMwNS5tLjQxNSAyMDEyLzAzLzA1OjIxOjAwOjAwKSAgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OUM2NjlDQjI4ODBGMTFFMTg1ODlEODNERDJBRjUwQTQiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OUM2NjlDQjM4ODBGMTFFMTg1ODlEODNERDJBRjUwQTQiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo5QzY2OUNCMDg4MEYxMUUxODU4OUQ4M0REMkFGNTBBNCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo5QzY2OUNCMTg4MEYxMUUxODU4OUQ4M0REMkFGNTBBNCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PsQhXeAAAABfSURBVHjaYvz//z8DJYCRUgMYQAbAMBQIAvEqkBQWXI6sHqwHiwG70TTBxGaiWwjCTGgOUgJiF1J8wMRAIUA34B4Q76HUBelAfJYSA0CuMIEaRP8wGIkGMA54bgQIMACAmkXJi0hKJQAAAABJRU5ErkJggg==) no-repeat 10px center;
  text-decoration: none; }

h1 tt, h1 code {
  font-size: inherit; }

h2 tt, h2 code {
  font-size: inherit; }

h3 tt, h3 code {
  font-size: inherit; }

h4 tt, h4 code {
  font-size: inherit; }

h5 tt, h5 code {
  font-size: inherit; }

h6 tt, h6 code {
  font-size: inherit; }

h1 {
  font-size: 28px;
  color: black; }

h2 {
  font-size: 24px;
  border-bottom: 1px solid #cccccc;
  color: black; }

h3 {
  font-size: 18px; }

h4 {
  font-size: 16px; }

h5 {
  font-size: 14px; }

h6 {
  color: #777777;
  font-size: 14px; }

p, blockquote, ul, ol, dl, li, table, pre {
  margin: 15px 0; }

hr {
  background: transparent url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAECAYAAACtBE5DAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OENDRjNBN0E2NTZBMTFFMEI3QjRBODM4NzJDMjlGNDgiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OENDRjNBN0I2NTZBMTFFMEI3QjRBODM4NzJDMjlGNDgiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo4Q0NGM0E3ODY1NkExMUUwQjdCNEE4Mzg3MkMyOUY0OCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo4Q0NGM0E3OTY1NkExMUUwQjdCNEE4Mzg3MkMyOUY0OCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PqqezsUAAAAfSURBVHjaYmRABcYwBiM2QSA4y4hNEKYDQxAEAAIMAHNGAzhkPOlYAAAAAElFTkSuQmCC) repeat-x 0 0;
  border: 0 none;
  color: #cccccc;
  height: 4px;
  padding: 0;
}

body > h2:first-child {
  margin-top: 0;
  padding-top: 0; }
body > h1:first-child {
  margin-top: 0;
  padding-top: 0; }
  body > h1:first-child + h2 {
    margin-top: 0;
    padding-top: 0; }
body > h3:first-child, body > h4:first-child, body > h5:first-child, body > h6:first-child {
  margin-top: 0;
  padding-top: 0; }

a:first-child h1, a:first-child h2, a:first-child h3, a:first-child h4, a:first-child h5, a:first-child h6 {
  margin-top: 0;
  padding-top: 0; }

h1 p, h2 p, h3 p, h4 p, h5 p, h6 p {
  margin-top: 0; }

li p.first {
  display: inline-block; }
li {
  margin: 0; }
ul, ol {
  padding-left: 30px; }

ul :first-child, ol :first-child {
  margin-top: 0; }

dl {
  padding: 0; }
  dl dt {
    font-size: 14px;
    font-weight: bold;
    font-style: italic;
    padding: 0;
    margin: 15px 0 5px; }
    dl dt:first-child {
      padding: 0; }
    dl dt > :first-child {
      margin-top: 0; }
    dl dt > :last-child {
      margin-bottom: 0; }
  dl dd {
    margin: 0 0 15px;
    padding: 0 15px; }
    dl dd > :first-child {
      margin-top: 0; }
    dl dd > :last-child {
      margin-bottom: 0; }

blockquote {
  border-left: 4px solid #dddddd;
  padding: 0 15px;
  color: #777777; }
  blockquote > :first-child {
    margin-top: 0; }
  blockquote > :last-child {
    margin-bottom: 0; }

table {
  padding: 0;border-collapse: collapse; }
  table tr {
    border-top: 1px solid #cccccc;
    background-color: white;
    margin: 0;
    padding: 0; }
    table tr:nth-child(2n) {
      background-color: #f8f8f8; }
    table tr th {
      font-weight: bold;
      border: 1px solid #cccccc;
      margin: 0;
      padding: 6px 13px; }
    table tr td {
      border: 1px solid #cccccc;
      margin: 0;
      padding: 6px 13px; }
    table tr th :first-child, table tr td :first-child {
      margin-top: 0; }
    table tr th :last-child, table tr td :last-child {
      margin-bottom: 0; }

img {
  max-width: 100%; }

span.frame {
  display: block;
  overflow: hidden; }
  span.frame > span {
    border: 1px solid #dddddd;
    display: block;
    float: left;
    overflow: hidden;
    margin: 13px 0 0;
    padding: 7px;
    width: auto; }
  span.frame span img {
    display: block;
    float: left; }
  span.frame span span {
    clear: both;
    color: #333333;
    display: block;
    padding: 5px 0 0; }
span.align-center {
  display: block;
  overflow: hidden;
  clear: both; }
  span.align-center > span {
    display: block;
    overflow: hidden;
    margin: 13px auto 0;
    text-align: center; }
  span.align-center span img {
    margin: 0 auto;
    text-align: center; }
span.align-right {
  display: block;
  overflow: hidden;
  clear: both; }
  span.align-right > span {
    display: block;
    overflow: hidden;
    margin: 13px 0 0;
    text-align: right; }
  span.align-right span img {
    margin: 0;
    text-align: right; }
span.float-left {
  display: block;
  margin-right: 13px;
  overflow: hidden;
  float: left; }
  span.float-left span {
    margin: 13px 0 0; }
span.float-right {
  display: block;
  margin-left: 13px;
  overflow: hidden;
  float: right; }
  span.float-right > span {
    display: block;
    overflow: hidden;
    margin: 13px auto 0;
    text-align: right; }

code, tt {
  margin: 0 2px;
  padding: 0 5px;
  white-space: nowrap;
  border: 1px solid #eaeaea;
  background-color: #f8f8f8;
  border-radius: 3px; }

pre code {
  margin: 0;
  padding: 0;
  white-space: pre;
  border: none;
  background: transparent; }

.highlight pre {
  background-color: #f8f8f8;
  border: 1px solid #cccccc;
  font-size: 13px;
  line-height: 19px;
  overflow: auto;
  padding: 6px 10px;
  border-radius: 3px; }

pre {
  background-color: #f8f8f8;
  border: 1px solid #cccccc;
  font-size: 13px;
  line-height: 19px;
  overflow: auto;
  padding: 6px 10px;
  border-radius: 3px; }
  pre code, pre tt {
    background-color: transparent;
    border: none; }

sup {
    font-size: 0.83em;
    vertical-align: super;
    line-height: 0;
}
* {
	-webkit-print-color-adjust: exact;
}
@media screen and (min-width: 914px) {
    body {
        width: 854px;
        margin:0 auto;
    }
}
@media print {
	table, pre {
		page-break-inside: avoid;
	}
	pre {
		word-wrap: break-word;
	}
}
</style>
<style type="text/css">
/**
 * prism.js tomorrow night eighties for JavaScript, CoffeeScript, CSS and HTML
 * Based on https://github.com/chriskempson/tomorrow-theme
 * @author Rose Pritchard
 */

code[class*="language-"],
pre[class*="language-"] {
	color: #ccc;
	font-family: Consolas, Monaco, 'Andale Mono', monospace;
	direction: ltr;
	text-align: left;
	white-space: pre;
	word-spacing: normal;
	word-break: normal;
	line-height: 1.5;

	-moz-tab-size: 4;
	-o-tab-size: 4;
	tab-size: 4;

	-webkit-hyphens: none;
	-moz-hyphens: none;
	-ms-hyphens: none;
	hyphens: none;

}

/* Code blocks */
pre[class*="language-"] {
	padding: 1em;
	margin: .5em 0;
	overflow: auto;
}

:not(pre) > code[class*="language-"],
pre[class*="language-"] {
	background: #2d2d2d;
}

/* Inline code */
:not(pre) > code[class*="language-"] {
	padding: .1em;
	border-radius: .3em;
}

.token.comment,
.token.block-comment,
.token.prolog,
.token.doctype,
.token.cdata {
	color: #999;
}

.token.punctuation {
	color: #ccc;
}

.token.tag,
.token.attr-name,
.token.namespace,
.token.deleted {
	color: #e2777a;
}

.token.function-name {
	color: #6196cc;
}

.token.boolean,
.token.number,
.token.function {
	color: #f08d49;
}

.token.property,
.token.class-name,
.token.constant,
.token.symbol {
	color: #f8c555;
}

.token.selector,
.token.important,
.token.atrule,
.token.keyword,
.token.builtin {
	color: #cc99cd;
}

.token.string,
.token.char,
.token.attr-value,
.token.regex,
.token.variable {
	color: #7ec699;
}

.token.operator,
.token.entity,
.token.url {
	color: #67cdcc;
}

.token.important,
.token.bold {
	font-weight: bold;
}
.token.italic {
	font-style: italic;
}

.token.entity {
	cursor: help;
}

.token.inserted {
	color: green;
}
</style>
<style type="text/css">
pre.line-numbers {
	position: relative;
	padding-left: 3.8em;
	counter-reset: linenumber;
}

pre.line-numbers > code {
	position: relative;
}

.line-numbers .line-numbers-rows {
	position: absolute;
	pointer-events: none;
	top: 0;
	font-size: 100%;
	left: -3.8em;
	width: 3em; /* works for line-numbers below 1000 lines */
	letter-spacing: -1px;
	border-right: 1px solid #999;

	-webkit-user-select: none;
	-moz-user-select: none;
	-ms-user-select: none;
	user-select: none;

}

	.line-numbers-rows > span {
		pointer-events: none;
		display: block;
		counter-increment: linenumber;
	}

		.line-numbers-rows > span:before {
			content: counter(linenumber);
			color: #999;
			display: block;
			padding-right: 0.8em;
			text-align: right;
		}
</style>
</head>
<body>
<div style='width:300px; magin-top:20px'>
    <ul id="tree" class="ztree" style='width:100%;float:right'>
    </ul>
</div>

<p><article class='md-body' style="margin-left: 15%;"></p>

<h1 id="toc_0">OTS Api 文档</h1>

<h2 id="toc_1">版本</h2>

<table>
<thead>
<tr>
<th>版本</th>
<th>修改日期</th>
<th>修改人</th>
<th>备注</th>
</tr>
</thead>

<tbody>
<tr>
<td>1.0</td>
<td>2015-4-18</td>
<td>谷佳良</td>
<td>创建</td>
</tr>
<tr>
<td>1.1</td>
<td>2015-04-21</td>
<td>谷佳良</td>
<td>1.增加系统接口 <br> 2.修改1.0各接口 <br>3.合并支付接口 <br> 4. 合并支付确认接口</td>
</tr>
</tbody>
</table>

<h2 id="toc_2">通用定义</h2>

<h3 id="toc_3">时间定义</h3>

<ul>
<li>除特殊说明之外，所有时间通信使用北京时间通信。格式为 <code>14</code> 位 <code>yyyyMMddhhmmss</code>  ,例如<code>20141225140000</code> ，如果业务无需精确到秒，根据业务需要后面填充最小/最大时间。</li>
<li>注: 客户端需要自行处理时区问题，与服务器的通信均认为是北京时间。</li>
</ul>

<h3 id="toc_4">提交方式</h3>

<blockquote>
<p>所有提交一律使用post提交</p>
</blockquote>

<h3 id="toc_5">session管理</h3>

<p>客户端自身需要维护 session 管理，即使用同一个 session 的客户端进行 http 链接。</p>

<h3 id="toc_6">错误信息</h3>

<p>除下载文件外，所有返回信息均为 <code>json</code>，必定包含 <code>success</code> 属性，有错误时必定包含 <code>errorcode</code>属性</p>

<pre class="line-numbers"><code class="language-javascript">{
&quot;success&quot;:false,
&quot;errcode&quot;:&#39;-1&#39;,
&quot;errmsg&quot;:&#39;错误信息&#39;
}</code></pre>

<p>errorcode 表示:</p>

<pre><code>1. `-701`  session 超时或者不存在该 session
2. `-702`  该 session 因为密码被修改而失效
3. `-703`  该 session 因用户被禁用而失效</code></pre>

<h3 id="toc_7">下载文件错误信息</h3>

<p>下载文件时，所有错误信息使用 http 错误状态码提示:</p>

<ul>
<li><code>404</code> 表示未找到文件</li>
<li><code>403</code> 表示无权限下载 </li>
</ul>

<h3 id="toc_8">请求报文Url及参数格式</h3>

<blockquote>
<p><a href="http://ip:port/ots/%E4%B8%9A%E5%8A%A1%E7%B1%BB%E5%88%AB/%E4%B8%9A%E5%8A%A1%E5%9C%BA%E6%99%AF%EF%BC%88%E5%8A%A8%E8%AF%8D:%E6%9F%A5%E8%AF%A2-query%E6%88%96querylist%EF%BC%9B%E5%88%9B%E5%BB%BA-create%EF%BC%89">http://ip:port/ots/业务类别/业务场景（动词:查询-query或querylist；创建-create）</a></p>
</blockquote>

<pre><code>所有 url 全部使用小写英文字母
所有参数全部小写英文字母</code></pre>

<p>事例：</p>

<pre><code>http://ip:port/ots/hotel/querylist
http://ip:port/ots/score/modify
http://ip:port/ots/order/create
http://ip:port/ots/order/cancel</code></pre>

<h3 id="toc_9">报文中判断 true 和 false 的判断</h3>

<blockquote>
<p>报文中判断是否的字段，均使用（T/F），T 代表 true，F 代表 false</p>
</blockquote>

<h2 id="toc_10">酒店信息接口</h2>

<h3 id="toc_11"><code>「修」</code> 酒店综合信息查询</h3>

<hr>

<p><strong>业务说明：</strong></p>

<blockquote>
<p>根据参数信息，获取酒店的集合；排序规则优先级由高到低依次是：是否签约酒店（签约优先），指定排序项，距离，是否推荐，最低价格，酒店评分，增加满房标记位、月销量、可订房间数，返回一个图片，并给出总图数，返回可售房间数、文字、颜色（2.5）。增加返现标志，距离文字显示
眯客2.5新增需求，酒店离线的话则不显示该酒店</p>
</blockquote>

<p><strong>接口url：</strong></p>

<blockquote>
<p><a href="http://ip:port/ots/hotel/querylist">http://ip:port/ots/hotel/querylist</a></p>
</blockquote>

<p><strong>请求参数：</strong></p>

<table>
<thead>
<tr>
<th>字段</th>
<th>名称</th>
<th>是否必须</th>
<th>说明</th>
</tr>
</thead>

<tbody>
<tr>
<td>hotelid</td>
<td>酒店id</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>hotelname</td>
<td>酒店名</td>
<td>否</td>
<td>支持模糊</td>
</tr>
<tr>
<td>hoteladdr</td>
<td>酒店地址</td>
<td>否</td>
<td>支持模糊</td>
</tr>
<tr>
<td>keyword</td>
<td>关键字</td>
<td>否</td>
<td>对于hotelname和hoteladdr做模糊查询用</td>
</tr>
<tr>
<td>cityid</td>
<td>城市编码</td>
<td>是</td>
<td></td>
</tr>
<tr>
<td>disid</td>
<td>区县id</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>userlongitude</td>
<td>用户坐标(经度)</td>
<td>否</td>
<td>用户的经度</td>
</tr>
<tr>
<td>userlatitude</td>
<td>用户坐标(纬度)</td>
<td>否</td>
<td>用户的纬度</td>
</tr>
<tr>
<td>pillowlongitude</td>
<td>查询坐标(经度)</td>
<td>否</td>
<td>非搜索条件</td>
</tr>
<tr>
<td>pillowlatitude</td>
<td>查询坐标(纬度)</td>
<td>否</td>
<td>非搜索条件</td>
</tr>
<tr>
<td>range</td>
<td>附近范围</td>
<td>否</td>
<td>单位米，若查询坐标的值不为空，则取查询坐标方圆XXXX米的酒店</td>
</tr>
<tr>
<td>minprice</td>
<td>最低价格</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>maxprice</td>
<td>最高价格</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>bednum</td>
<td>房间床数量</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>startdateday</td>
<td>查询开始日期</td>
<td>否</td>
<td>yyyyMMdd</td>
</tr>
<tr>
<td>enddateday</td>
<td>查询结束日期</td>
<td>否</td>
<td>yyyyMMdd</td>
</tr>
<tr>
<td>startdate</td>
<td>入住时间</td>
<td>否</td>
<td>yyyyMMddhhmmss</td>
</tr>
<tr>
<td>enddate</td>
<td>离店时间</td>
<td>否</td>
<td>yyyyMMddhhmmss</td>
</tr>
<tr>
<td>page</td>
<td>第几页</td>
<td>是</td>
<td>|</td>
</tr>
<tr>
<td>limit</td>
<td>每页多少条</td>
<td>是</td>
<td></td>
</tr>
<tr>
<td>orderby</td>
<td>排序项目</td>
<td>否</td>
<td>1:距离(distance)<br> 2:是否推荐(recommend)<br> 3:最低价格(minprice)<br> 4: 酒店评分权重(score)<br> 5:人气（月销量）</td>
</tr>
<tr>
<td>isdiscount</td>
<td>是否考虑优惠价格</td>
<td>否</td>
<td>(T/F)，值为T，则最低价取优惠活动最低价，<br> 空或F则最低价取ota最低门市价</td>
</tr>
<tr>
<td>ishotelpic</td>
<td>是否返回酒店图片</td>
<td>否</td>
<td>(T/F)，空等同于F，值为T，则返回图片信息，<br> 空或F则不返回图片信息</td>
</tr>
<tr>
<td>isroomtype</td>
<td>是否返回房型信息</td>
<td>否</td>
<td>(T/F)，值为T，则返回房型信息，空或F则不返回房型信息</td>
</tr>
<tr>
<td>isroomtypepic</td>
<td>是否返回房型图片</td>
<td>否</td>
<td>(T/F)，值为T，则返回房型图片信息，<br>空或F则不返回房型图片信息</td>
</tr>
<tr>
<td>isroomtypefacility</td>
<td>是否返回房型设施</td>
<td>否</td>
<td>(T/F)，值为T，则返回房型设施信息，<br>空或F则不返回房型设施信息</td>
</tr>
<tr>
<td>isfacility</td>
<td>是否返回酒店设施</td>
<td>否</td>
<td>(T/F)，值为T，则返回酒店设施信息，<br>空或F则不返回酒店设施信息</td>
</tr>
<tr>
<td>isbusinesszone</td>
<td>是否返回酒店商圈信息</td>
<td>否</td>
<td>(T/F)，值为T，则返回酒店商圈信息，<br>空或F则不返回酒店设施信息</td>
</tr>
<tr>
<td>isbedtype</td>
<td>是否返回床型</td>
<td>否</td>
<td>(T/F)，值为T，则返回床型信息，<br>空或F则不返回酒店设施信息</td>
</tr>
<tr>
<td>isteambuying</td>
<td>是否返回团购信息</td>
<td>否</td>
<td>(T/F)，值为T，则返回团购信息，<br>空或F则不返回团购信息</td>
</tr>
<tr>
<td>ispms</td>
<td>是否签约</td>
<td>否</td>
<td>(T/F),值为T，则只返回签约酒店，<br>值为F或空，返回所有酒店</td>
</tr>
<tr>
<td>callmethod</td>
<td>调用来源</td>
<td>否</td>
<td>1-crs；<br>2-web；<br>3-wechat；<br>4-app(ios)；<br>5-app(Android)</td>
</tr>
<tr>
<td>callversion</td>
<td>调用版本</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>callentry</td>
<td>调用入口</td>
<td>否</td>
<td>1-摇一摇 <br>2-房态搜索入口<br> 3-切客</td>
</tr>
<tr>
<td>ip</td>
<td>IP地址</td>
<td>否</td>
<td>|</td>
</tr>
<tr>
<td>hoteltype</td>
<td>酒店类型</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>hardwarecode</td>
<td>硬件编码</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>otsversion</td>
<td>OTS版本</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>excludehotelid</td>
<td>排除酒店id</td>
<td>否</td>
<td>用户酒店附近搜索时，过滤当前的酒店</td>
</tr>
<tr>
<td>searchtype</td>
<td>搜索方式</td>
<td>否</td>
<td>0附近；<br>1商圈；<br>2机场车站；<br>3地铁路线；<br>4行政区；<br>5景点；<br>6医院；<br>7高校；<br>8酒店；<br>9地址；<br>-1不限)</td>
</tr>
<tr>
<td>posid</td>
<td>位置区域id</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>posname</td>
<td>位置区域名称</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>points</td>
<td>坐标集合</td>
<td>否</td>
<td>[[11,22], [10,12]]</td>
</tr>
<tr>
<td>bedtype</td>
<td>床型搜索</td>
<td>否</td>
<td>按指定床型搜索酒店:<br>1单床；<br>2双床；<br>-1不限。</td>
</tr>
</tbody>
</table>

<blockquote>
<p>API返回json数据示例：</p>
</blockquote>

<pre class="line-numbers"><code class="language-javascript">{
    &quot;success&quot;:true,
    &quot;errcode&quot;:,//错误码
    &quot;errmsg&quot;:,//错误信息
    &quot;count&quot;:,//酒店数量
    &quot;hotel&quot;:
        [{
            &quot;hotelid&quot;:,//酒店id
            &quot;hotelname&quot;:,//酒店名称
            &quot;hotelrulecode&quot;:,//酒店切客规则类型码（1001规则A；1002规则B）
            &quot;online&quot;:,//是否在线(T/F)
            &quot;hotelvc&quot;:,//是否有可售房（T/F）该字段根据入参入住时间和离店时间获取该酒店是否有可入住房间，并根据结果返回T、F
            &quot;detailaddr&quot;:,//酒店地址
            &quot;hoteldis&quot;:,//酒店所属区县
            &quot;hotelcity&quot;:,//酒店所属城市
            &quot;hotelprovince&quot;:,//酒店所属省份
            &quot;hotelphone&quot;:,//联系电话
            &quot;hoteldisc&quot;:,//酒店简介
            &quot;longitude&quot;:, //酒店坐标(经度)
            &quot;latitude&quot;:,//酒店坐标(纬度)
            &quot;distance&quot;:,//酒店距离xxx米，该距离表示屏幕坐标到酒店坐标的距离
            &quot;userdistance&quot;:,//距您xxx米，该距离表示用户坐标到屏幕坐标的距离
            &quot;isnear&quot;:,//是否最近酒店，distance值最小的酒店为T,其他为F
            &quot;grade&quot;:, //酒店评分
            &quot;scorecount&quot;:, //评价次数
            &quot;minprice&quot;:,//最低价格
            &quot;minpmsprice&quot;,//最低价格对应房型的门市价
            &quot;ispms&quot;:,//是否签约（T/F）
            &quot;hotelpicnum&quot;:,//酒店图片总数
            &quot;avlblroomnum&quot;:,//可订房间数
            &quot;avlblroomdes&quot;:,//可订房描述
            &quot;descolor&quot;:,   //描述字体颜色  （状态: &quot;&gt;3间房间&quot;    绿色   32ab18 状态：&quot;&lt;=仅剩3间&quot;   红色   fb4b40 状态：满房   灰色    989898）
            &quot;ordernummon&quot;:,//月订单数
            &quot;rcntordertimedes&quot;:, //最近订单时间描述
            &quot;distancestr&quot;: //距离描述
            &quot;isteambuying&quot;:,//是否团购（T/F）
      *「增」&quot;greetscore&quot;:1080,//受欢迎指数
       *「增」 &quot;repairinfo&quot;:&quot;2014年装修&quot;,//装修信息
        *「增」 &quot;highlights&quot;:[
                    { 
                        &quot;name&quot;: &quot;wifi&quot;,//特点描述
                        &quot;icon&quot;:&quot;http://7xip11.com2.z0.glb.qiniucdn.com/view_theme_roomtype_detail_icon_zhuozi.png&quot;,
                         &quot;id&quot;:44
                     }
                ],  //酒店特点
            &quot;isonpromo&quot;:    // 是否特价，是否特价, 0非，&gt;=1特价
            &quot;promoinfo&quot;:[{ // 特价活动信息
                        &quot;promoid&quot;:// 特价活动 id （1：今夜特价 2.今日特价 3 主题酒店 6.一元秒杀）
                        &quot;promotype&quot;: //特价活动类型 id
                        &quot;promoprice&quot;: // 特价活动价格
            
                        }]
            &quot;teambuying&quot;:[{//团购信息
                            &quot;teambuyingname&quot;:,//团购名称
                            &quot;url&quot;://团购地址
                         }],
            &quot;isrecommend&quot;://是否推荐（T/F）
            &quot;hotelpic&quot;:[{//酒店图片
                            &quot;name&quot;:,//图片名称
                            &quot;pic&quot;:[{//图片集合
                                    &quot;url&quot;://图片地址
                                  }]
                       }],
            &quot;hotelfacility&quot;:[{//酒店设施
                                &quot;facid&quot;:,//设施id
                                &quot;facname&quot;://设施名称
                            }],
            //交通
            &quot;businesszone&quot;:[{//商圈
                            &quot;businesszonename&quot;://商圈名称
                            }],
            &quot;roomtype&quot;:[{//房型
                            &quot;roomtypeid&quot;:,//房型id
                            &quot;roomtypename&quot;:,//房型名称
                            &quot;roomtypeprice&quot;:,//房型价格
                            &quot;roomtypepmsprice&quot;:,//门市价格
                            &quot;roomtypevc&quot;:,//是否有可售房（T/F）该字段根据入参入住时间和离店时间获取该房型是否有可入住房间，并根据结果返回T、F
                            &quot;maxarea&quot;:,//最大面积
                            &quot;minarea&quot;:,//最小面积
                            &quot;bednum&quot;:,//床数量（1：单床房，2：双床房，大于2：其他房）
                            &quot;roomnum&quot;:,//房间数量
                            &quot;count&quot;:0, //房间内床数             &quot;beds&quot;:[{//床型信息
                        &quot;bedtypename&quot;:,//床型(双人床，单人床)
                        &quot;bedlength&quot;: //尺寸(1.5米，1.8米)
                    ]},
            &quot;roomtypepic&quot;:[{//房型图片信息
                              &quot;name&quot;:&#39;&#39;,//图片名称
                            &quot;pic&quot;:[{//图片集合
                                    &quot;url&quot;://图片地址
                                 }]
                          }]
            &quot;roomtypefacility&quot;:[{//房间设施
                                &quot;roomtypefacid&quot;://设施id
                                &quot;roomtypefacname&quot;://设施名称
                                }]
        
            &quot;service&quot;:[{//酒店服务
                                &quot;serviceid&quot;:,//服务id
                                &quot;servicename&quot;:,//服务名称
                     }]
            &quot;iscashback&quot;:  //是否返现（T/F）
       }]

}</code></pre>

<h3 id="toc_12"><code>「修」</code> 特价房信息查询 『老接口』</h3>

<hr>

<p><strong>业务说明：</strong></p>

<blockquote>
<p>眯客 3.1 新增需求， 搜索特价房接口
<strong>接口url：</strong>
<a href="http://ip:port/ots/hotel/querypromolist">http://ip:port/ots/hotel/querypromolist</a></p>
</blockquote>

<p><strong>请求参数：</strong></p>

<table>
<thead>
<tr>
<th>字段</th>
<th>名称</th>
<th>是否必须</th>
<th>说明</th>
</tr>
</thead>

<tbody>
<tr>
<td>cityid</td>
<td>城市编码</td>
<td>是</td>
<td></td>
</tr>
<tr>
<td>promotype</td>
<td>特价房类型</td>
<td>是</td>
<td>按指定特价类型搜索酒店，&gt;=1</td>
</tr>
<tr>
<td>hotelid</td>
<td>酒店id</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>hotelname</td>
<td>酒店名</td>
<td>否</td>
<td>支持模糊</td>
</tr>
<tr>
<td>hoteladdr</td>
<td>酒店地址</td>
<td>否</td>
<td>支持模糊</td>
</tr>
<tr>
<td>keyword</td>
<td>关键字</td>
<td>否</td>
<td>对于hotelname和hoteladdr做模糊查询用</td>
</tr>
<tr>
<td>disid</td>
<td>区县id</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>userlongitude</td>
<td>用户坐标(经度)</td>
<td>否</td>
<td>用户的经度</td>
</tr>
<tr>
<td>userlatitude</td>
<td>用户坐标(纬度)</td>
<td>否</td>
<td>用户的纬度</td>
</tr>
<tr>
<td>pillowlongitude</td>
<td>查询坐标(经度)</td>
<td>否</td>
<td>非搜索条件</td>
</tr>
<tr>
<td>pillowlatitude</td>
<td>查询坐标(纬度)</td>
<td>否</td>
<td>非搜索条件</td>
</tr>
<tr>
<td>range</td>
<td>附近范围</td>
<td>否</td>
<td>单位米，若查询坐标的值不为空，则取查询坐标方圆XXXX米的酒店</td>
</tr>
<tr>
<td>minprice</td>
<td>最低价格</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>maxprice</td>
<td>最高价格</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>bednum</td>
<td>房间床数量</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>startdateday</td>
<td>查询开始日期</td>
<td>否</td>
<td>yyyyMMdd</td>
</tr>
<tr>
<td>enddateday</td>
<td>查询结束日期</td>
<td>否</td>
<td>yyyyMMdd</td>
</tr>
<tr>
<td>startdate</td>
<td>入住时间</td>
<td>否</td>
<td>yyyyMMddhhmmss</td>
</tr>
<tr>
<td>enddate</td>
<td>离店时间</td>
<td>否</td>
<td>yyyyMMddhhmmss</td>
</tr>
<tr>
<td>page</td>
<td>第几页</td>
<td>是</td>
<td>|</td>
</tr>
<tr>
<td>limit</td>
<td>每页多少条</td>
<td>是</td>
<td></td>
</tr>
<tr>
<td>orderby</td>
<td>排序项目</td>
<td>否</td>
<td>1:距离(distance)<br> 2:是否推荐(recommend)<br> 3:最低价格(minprice)<br> 4: 酒店评分权重(score)<br> 5:人气（月销量）</td>
</tr>
<tr>
<td>isdiscount</td>
<td>是否考虑优惠价格</td>
<td>否</td>
<td>(T/F)，值为T，则最低价取优惠活动最低价，<br> 空或F则最低价取ota最低门市价</td>
</tr>
<tr>
<td>ishotelpic</td>
<td>是否返回酒店图片</td>
<td>否</td>
<td>(T/F)，空等同于F，值为T，则返回图片信息，<br> 空或F则不返回图片信息</td>
</tr>
<tr>
<td>isroomtype</td>
<td>是否返回房型信息</td>
<td>否</td>
<td>(T/F)，值为T，则返回房型信息，空或F则不返回房型信息</td>
</tr>
<tr>
<td>isroomtypepic</td>
<td>是否返回房型图片</td>
<td>否</td>
<td>(T/F)，值为T，则返回房型图片信息，<br>空或F则不返回房型图片信息</td>
</tr>
<tr>
<td>isroomtypefacility</td>
<td>是否返回房型设施</td>
<td>否</td>
<td>(T/F)，值为T，则返回房型设施信息，<br>空或F则不返回房型设施信息</td>
</tr>
<tr>
<td>isfacility</td>
<td>是否返回酒店设施</td>
<td>否</td>
<td>(T/F)，值为T，则返回酒店设施信息，<br>空或F则不返回酒店设施信息</td>
</tr>
<tr>
<td>isbusinesszone</td>
<td>是否返回酒店商圈信息</td>
<td>否</td>
<td>(T/F)，值为T，则返回酒店商圈信息，<br>空或F则不返回酒店设施信息</td>
</tr>
<tr>
<td>isbedtype</td>
<td>是否返回床型</td>
<td>否</td>
<td>(T/F)，值为T，则返回床型信息，<br>空或F则不返回酒店设施信息</td>
</tr>
<tr>
<td>isteambuying</td>
<td>是否返回团购信息</td>
<td>否</td>
<td>(T/F)，值为T，则返回团购信息，<br>空或F则不返回团购信息</td>
</tr>
<tr>
<td>ispms</td>
<td>是否签约</td>
<td>否</td>
<td>(T/F),值为T，则只返回签约酒店，<br>值为F或空，返回所有酒店</td>
</tr>
<tr>
<td>callmethod</td>
<td>调用来源</td>
<td>否</td>
<td>1-crs；<br>2-web；<br>3-wechat；<br>4-app(ios)；<br>5-app(Android)</td>
</tr>
<tr>
<td>callversion</td>
<td>调用版本</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>callentry</td>
<td>调用入口</td>
<td>否</td>
<td>1-摇一摇 <br>2-房态搜索入口<br> 3-切客</td>
</tr>
<tr>
<td>ip</td>
<td>IP地址</td>
<td>否</td>
<td>|</td>
</tr>
<tr>
<td>hoteltype</td>
<td>酒店类型</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>hardwarecode</td>
<td>硬件编码</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>otsversion</td>
<td>OTS版本</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>excludehotelid</td>
<td>排除酒店id</td>
<td>否</td>
<td>用户酒店附近搜索时，过滤当前的酒店</td>
</tr>
<tr>
<td>searchtype</td>
<td>搜索方式</td>
<td>否</td>
<td>0附近；<br>1商圈；<br>2机场车站；<br>3地铁路线；<br>4行政区；<br>5景点；<br>6医院；<br>7高校；<br>8酒店；<br>9地址；<br>-1不限)</td>
</tr>
<tr>
<td>posid</td>
<td>位置区域id</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>posname</td>
<td>位置区域名称</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>points</td>
<td>坐标集合</td>
<td>否</td>
<td>[[11,22], [10,12]]</td>
</tr>
<tr>
<td>bedtype</td>
<td>床型搜索</td>
<td>否</td>
<td>按指定床型搜索酒店:<br>1单床；<br>2双床；<br>-1不限。</td>
</tr>
</tbody>
</table>

<blockquote>
<p>API返回json数据示例：</p>
</blockquote>

<pre class="line-numbers"><code class="language-javascript">{
    &quot;success&quot;:true,
    &quot;errcode&quot;:,//错误码
    &quot;errmsg&quot;:,//错误信息
    &quot;count&quot;:,//酒店数量
    &quot;hotel&quot;:
        [{
            &quot;hotelid&quot;:,//酒店id
            &quot;hotelname&quot;:,//酒店名称
            &quot;hotelrulecode&quot;:,//酒店切客规则类型码（1001规则A；1002规则B）
            &quot;online&quot;:,//是否在线(T/F)
            &quot;hotelvc&quot;:,//是否有可售房（T/F）该字段根据入参入住时间和离店时间获取该酒店是否有可入住房间，并根据结果返回T、F
            &quot;detailaddr&quot;:,//酒店地址
            &quot;hoteldis&quot;:,//酒店所属区县
            &quot;hotelcity&quot;:,//酒店所属城市
            &quot;hotelprovince&quot;:,//酒店所属省份
            &quot;hotelphone&quot;:,//联系电话
            &quot;hoteldisc&quot;:,//酒店简介
            &quot;longitude&quot;:, //酒店坐标(经度)
            &quot;latitude&quot;:,//酒店坐标(纬度)
            &quot;distance&quot;:,//酒店距离xxx米，该距离表示屏幕坐标到酒店坐标的距离
            &quot;userdistance&quot;:,//距您xxx米，该距离表示用户坐标到屏幕坐标的距离
            &quot;isnear&quot;:,//是否最近酒店，distance值最小的酒店为T,其他为F
            &quot;grade&quot;:, //酒店评分
            &quot;scorecount&quot;:, //评价次数
            &quot;minprice&quot;:,//最低价格
            &quot;minpmsprice&quot;,//最低价格对应房型的门市价
            &quot;ispms&quot;:,//是否签约（T/F）
            &quot;hotelpicnum&quot;:,//酒店图片总数
            &quot;avlblroomnum&quot;:,//可订房间数
            &quot;avlblroomdes&quot;:,//可订房描述
            &quot;descolor&quot;:,   //描述字体颜色  （状态: &quot;&gt;3间房间&quot;    绿色   32ab18 状态：&quot;&lt;=仅剩3间&quot;   红色   fb4b40 状态：满房   灰色    989898）
            &quot;ordernummon&quot;:,//月订单数
            &quot;rcntordertimedes&quot;:, //最近订单时间描述
            &quot;distancestr&quot;: //距离描述
            &quot;isteambuying&quot;:,//是否团购（T/F）
            &quot;isonpromo&quot;:    // 是否特价，是否特价, 0非，&gt;=1特价
            &quot;promoinfo&quot;:[{ // 特价活动信息
                        &quot;promoid&quot;:// 特价活动 id （1：今夜特价 2.今日特价 3 主题酒店 6.一元秒杀）
                        &quot;promotype&quot;: //特价活动类型 id
                        &quot;promoprice&quot;: // 特价活动价格
            
                        }],
      *「增」&quot;greetscore&quot;:1080,//受欢迎指数
       *「增」 &quot;repairinfo&quot;:&quot;2014年装修&quot;,//装修信息
        *「增」 &quot;highlights&quot;:[
                    { 
                        &quot;name&quot;: &quot;wifi&quot;,//特点描述
                        &quot;icon&quot;:&quot;http://7xip11.com2.z0.glb.qiniucdn.com/view_theme_roomtype_detail_icon_zhuozi.png&quot;,
                         &quot;id&quot;:44
                     }
                ],  //酒店特点
            &quot;teambuying&quot;:[{//团购信息
                            &quot;teambuyingname&quot;:,//团购名称
                            &quot;url&quot;://团购地址
                         }],
            &quot;isrecommend&quot;://是否推荐（T/F）
            &quot;hotelpic&quot;:[{//酒店图片
                            &quot;name&quot;:,//图片名称
                            &quot;pic&quot;:[{//图片集合
                                    &quot;url&quot;://图片地址
                                  }]
                       }],
            &quot;hotelfacility&quot;:[{//酒店设施
                                &quot;facid&quot;:,//设施id
                                &quot;facname&quot;://设施名称
                            }],
            //交通
            &quot;businesszone&quot;:[{//商圈
                            &quot;businesszonename&quot;://商圈名称
                            }],
            &quot;roomtype&quot;:[{//房型
                            &quot;roomtypeid&quot;:,//房型id
                            &quot;roomtypename&quot;:,//房型名称
                            &quot;roomtypeprice&quot;:,//房型价格
                            &quot;roomtypepmsprice&quot;:,//门市价格
                            &quot;roomtypevc&quot;:,//是否有可售房（T/F）该字段根据入参入住时间和离店时间获取该房型是否有可入住房间，并根据结果返回T、F
                            &quot;maxarea&quot;:,//最大面积
                            &quot;minarea&quot;:,//最小面积
                            &quot;bednum&quot;:,//床数量（1：单床房，2：双床房，大于2：其他房）
                            &quot;roomnum&quot;:,//房间数量
                            &quot;count&quot;:0, //房间内床数             &quot;beds&quot;:[{//床型信息
                        &quot;bedtypename&quot;:,//床型(双人床，单人床)
                        &quot;bedlength&quot;: //尺寸(1.5米，1.8米)
                    ]},
            &quot;roomtypepic&quot;:[{//房型图片信息
                              &quot;name&quot;:&#39;&#39;,//图片名称
                            &quot;pic&quot;:[{//图片集合
                                    &quot;url&quot;://图片地址
                                 }]
                          }]
            &quot;roomtypefacility&quot;:[{//房间设施
                                &quot;roomtypefacid&quot;://设施id
                                &quot;roomtypefacname&quot;://设施名称
                                }]
        
            &quot;service&quot;:[{//酒店服务
                                &quot;serviceid&quot;:,//服务id
                                &quot;servicename&quot;:,//服务名称
                     }]
            &quot;iscashback&quot;:  //是否返现（T/F）
       }],
       &quot;supplementhotel&quot;:[{
             &quot;hotelid&quot;:,//酒店id
            &quot;hotelname&quot;:,//酒店名称
            &quot;hotelrulecode&quot;:,//酒店切客规则类型码（1001规则A；1002规则B）
            &quot;online&quot;:,//是否在线(T/F)
            &quot;hotelvc&quot;:,//是否有可售房（T/F）该字段根据入参入住时间和离店时间获取该酒店是否有可入住房间，并根据结果返回T、F
            &quot;detailaddr&quot;:,//酒店地址
            &quot;hoteldis&quot;:,//酒店所属区县
            &quot;hotelcity&quot;:,//酒店所属城市
            &quot;hotelprovince&quot;:,//酒店所属省份
            &quot;hotelphone&quot;:,//联系电话
            &quot;hoteldisc&quot;:,//酒店简介
            &quot;longitude&quot;:, //酒店坐标(经度)
            &quot;latitude&quot;:,//酒店坐标(纬度)
            &quot;distance&quot;:,//酒店距离xxx米，该距离表示屏幕坐标到酒店坐标的距离
            &quot;userdistance&quot;:,//距您xxx米，该距离表示用户坐标到屏幕坐标的距离
            &quot;isnear&quot;:,//是否最近酒店，distance值最小的酒店为T,其他为F
            &quot;grade&quot;:, //酒店评分
            &quot;scorecount&quot;:, //评价次数
            &quot;minprice&quot;:,//最低价格
            &quot;minpmsprice&quot;,//最低价格对应房型的门市价
            &quot;ispms&quot;:,//是否签约（T/F）
            &quot;hotelpicnum&quot;:,//酒店图片总数
            &quot;avlblroomnum&quot;:,//可订房间数
            &quot;avlblroomdes&quot;:,//可订房描述
            &quot;descolor&quot;:,   //描述字体颜色  （状态: &quot;&gt;3间房间&quot;    绿色   32ab18 状态：&quot;&lt;=仅剩3间&quot;   红色   fb4b40 状态：满房   灰色    989898）
            &quot;ordernummon&quot;:,//月订单数
            &quot;rcntordertimedes&quot;:, //最近订单时间描述
            &quot;distancestr&quot;: //距离描述
            &quot;isteambuying&quot;:,//是否团购（T/F）
            &quot;isonpromo&quot;:    // 是否特价，是否特价, 0非，&gt;=1特价
            &quot;promoinfo&quot;:[{ // 特价活动信息
                        &quot;promoid&quot;:// 特价活动 id （1：今夜特价 2.今日特价 3 主题酒店 6.一元秒杀）
                        &quot;promotype&quot;: //特价活动类型 id
                        &quot;promoprice&quot;: // 特价活动价格
            
                        }],
        *「增」&quot;greetscore&quot;:1080,//受欢迎指数
       *「增」 &quot;repairinfo&quot;:&quot;2014年装修&quot;,//装修信息
        *「增」 &quot;highlights&quot;:[
                    { 
                        &quot;name&quot;: &quot;wifi&quot;,//特点描述
                        &quot;icon&quot;:&quot;http://7xip11.com2.z0.glb.qiniucdn.com/view_theme_roomtype_detail_icon_zhuozi.png&quot;,
                         &quot;id&quot;:44
                     }
                ],  //酒店特点
            &quot;teambuying&quot;:[{//团购信息
                            &quot;teambuyingname&quot;:,//团购名称
                            &quot;url&quot;://团购地址
                         }],
            &quot;isrecommend&quot;://是否推荐（T/F）
            &quot;hotelpic&quot;:[{//酒店图片
                            &quot;name&quot;:,//图片名称
                            &quot;pic&quot;:[{//图片集合
                                    &quot;url&quot;://图片地址
                                  }]
                       }],
            &quot;hotelfacility&quot;:[{//酒店设施
                                &quot;facid&quot;:,//设施id
                                &quot;facname&quot;://设施名称
                            }],
            //交通
            &quot;businesszone&quot;:[{//商圈
                            &quot;businesszonename&quot;://商圈名称
                            }],
            &quot;roomtype&quot;:[{//房型
                            &quot;roomtypeid&quot;:,//房型id
                            &quot;roomtypename&quot;:,//房型名称
                            &quot;roomtypeprice&quot;:,//房型价格
                            &quot;roomtypepmsprice&quot;:,//门市价格
                            &quot;roomtypevc&quot;:,//是否有可售房（T/F）该字段根据入参入住时间和离店时间获取该房型是否有可入住房间，并根据结果返回T、F
                            &quot;maxarea&quot;:,//最大面积
                            &quot;minarea&quot;:,//最小面积
                            &quot;bednum&quot;:,//床数量（1：单床房，2：双床房，大于2：其他房）
                            &quot;roomnum&quot;:,//房间数量
                            &quot;count&quot;:0, //房间内床数             &quot;beds&quot;:[{//床型信息
                        &quot;bedtypename&quot;:,//床型(双人床，单人床)
                        &quot;bedlength&quot;: //尺寸(1.5米，1.8米)
                    ]},
            &quot;roomtypepic&quot;:[{//房型图片信息
                              &quot;name&quot;:&#39;&#39;,//图片名称
                            &quot;pic&quot;:[{//图片集合
                                    &quot;url&quot;://图片地址
                                 }]
                          }]
            &quot;roomtypefacility&quot;:[{//房间设施
                                &quot;roomtypefacid&quot;://设施id
                                &quot;roomtypefacname&quot;://设施名称
                                }]
        
            &quot;service&quot;:[{//酒店服务
                                &quot;serviceid&quot;:,//服务id
                                &quot;servicename&quot;:,//服务名称
                     }]
            &quot;iscashback&quot;:  //是否返现（T/F）
       
       }]

}</code></pre>

<h3 id="toc_13">酒店详细信息查询</h3>

<hr>

<p><strong>业务说明：</strong></p>

<blockquote>
<p>根据酒店ID，获取酒店的详细信息。</p>
</blockquote>

<p><strong>接口url：</strong></p>

<blockquote>
<p><a href="http://ip:port/ots/hoteldetail/queryinfo">http://ip:port/ots/hoteldetail/queryinfo</a></p>
</blockquote>

<p><strong>请求参数：</strong></p>

<table>
<thead>
<tr>
<th>字段</th>
<th>名称</th>
<th>是否必须</th>
<th>说明</th>
</tr>
</thead>

<tbody>
<tr>
<td>hotelid</td>
<td>酒店id</td>
<td>是</td>
<td></td>
</tr>
<tr>
<td>callmethod</td>
<td>调用来源</td>
<td>否</td>
<td>1-crs；<br>2-web；<br>3-wechat；<br>4-app(ios)；<br>5-app(Android)</td>
</tr>
<tr>
<td>callversion</td>
<td>调用版本</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>ip</td>
<td>IP地址</td>
<td>否</td>
<td>|</td>
</tr>
<tr>
<td>hardwarecode</td>
<td>硬件编码</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>otsversion</td>
<td>OTS版本</td>
<td>否</td>
<td></td>
</tr>
</tbody>
</table>

<blockquote>
<p>API返回json数据示例：</p>
</blockquote>

<pre class="line-numbers"><code class="language-javascript">{
    &quot;success&quot;:true,
    &quot;errcode&quot;:,//错误码
    &quot;errmsg&quot;:,//错误信息
    &quot;hotel&quot;:{
            &quot;hotelid&quot;:,//酒店id
            &quot;hotelname&quot;:,//酒店名称
            &quot;detailaddr&quot;:,//酒店地址
            &quot;hoteldis&quot;:,//酒店所属区县
            &quot;hotelcity&quot;:,//酒店所属城市
            &quot;hotelprovince&quot;:,//酒店所属省份
            &quot;hotelphone&quot;:,//联系电话
            &quot;hoteldisc&quot;:,//酒店简介
            &quot;hotelfacility&quot;:[{//酒店设施
                            &quot;facid&quot;:,//设施id
                            &quot;facname&quot;://设施名称
            }]
    &quot;businesszone&quot;:[{//商圈
            &quot;businesszonename&quot;://商圈名称
    }],

    &quot;service&quot;[{//酒店服务
        &quot;serviceid&quot;:,//服务id
        &quot;servicename&quot;:,//服务名称
        }]
    &quot;trafficdec&quot;:,//交通描述
    &quot;viewspotdec&quot;:,//景点描述
    &quot;ambitustrafficdec&quot;:,// 周边交通描述
    &quot;ambituslifedec&quot;:,// 周边生活描述
    &quot;retentiontime&quot;:  18:00//保留时间
    &quot;defaultleavetime&quot;:  12:00// 默认离店时间
    &quot;iscashback&quot;:  //是否返现（T/F）

    }
}</code></pre>

<h3 id="toc_14">查询历史入住酒店信息</h3>

<hr>

<p><strong>业务说明：</strong></p>

<blockquote>
<p>此接口用于查看某用户在某个城市最近一年内曾经预订（IN、OK、PM）过的酒店的清单，按照最后一次预订的时间排序，最近预订的酒店排在最前
异常处理：
该房型没有房间预订，则报错，跳转到酒店详情页面。</p>
</blockquote>

<p><strong>接口url：</strong></p>

<blockquote>
<p><a href="http://ip:port/ots/history/querylist">http://ip:port/ots/history/querylist</a></p>
</blockquote>

<p><strong>请求参数：</strong></p>

<table>
<thead>
<tr>
<th>字段</th>
<th>名称</th>
<th>是否必须</th>
<th>说明</th>
</tr>
</thead>

<tbody>
<tr>
<td>token</td>
<td>用户令牌</td>
<td>是</td>
<td></td>
</tr>
<tr>
<td>citycode</td>
<td>所在城市</td>
<td>是</td>
<td></td>
</tr>
<tr>
<td>page</td>
<td>第几页</td>
<td>是</td>
<td></td>
</tr>
<tr>
<td>limit</td>
<td>每页多少条</td>
<td>是</td>
<td></td>
</tr>
<tr>
<td>callmethod</td>
<td>调用来源</td>
<td>否</td>
<td>1-crs；<br>2-web；<br>3-wechat；<br>4-app(ios)；<br>5-app(Android)</td>
</tr>
<tr>
<td>callversion</td>
<td>调用版本</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>ip</td>
<td>IP地址</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>hardwarecode</td>
<td>硬件编码</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>otsversion</td>
<td>OTS版本</td>
<td>否</td>
<td></td>
</tr>
</tbody>
</table>

<blockquote>
<p>API返回json数据示例：</p>
</blockquote>

<pre class="line-numbers"><code class="language-javascript">{
    &quot;success&quot;:true,
    &quot;errcode&quot;:,//错误码
    &quot;errmsg&quot;:,//错误信息
    &quot;hotel&quot; : [{
                    &quot;hotelid&quot;:,//酒店id
                    &quot;hotelame&quot;:,//酒店名字
                    &quot;roomtypeid&quot;:,// 预定历史房型
                    &quot;roomtypename&quot;:,//房型名字
                    &quot;roomno&quot;:,// 预定历史房间号
                    &quot;ordernummon&quot;:,//月销量
                    &quot;avlblroomnum&quot;:,//可订房间数
                    &quot;minprice&quot;:,//最低价格
                    &quot;minpmsprice&quot;,//最低价格对应房型的门市价                    &quot;avlblroomnum&quot;:,//可订房间数
                    &quot;avlblroomdes&quot;:,//可订房描述                     &quot;descolor&quot;:,//描述字体颜色 （状态: “&gt;3间房间”    绿色   32ab18 状态：&quot;&lt;=仅剩3间&quot;   红色   fb4b40 状态：满房   灰色    989898）
                    &quot;ordernummon&quot;:,//月订单数                   &quot;rcntordertimedes&quot;:,//最近订单时间描述 
                    &quot;pic&quot;:[{//酒店图片
                            &quot;name&quot;:,//图片名称
                            &quot;url&quot;: // url地址
                    }]
                }]
}</code></pre>

<h2 id="toc_15">房态</h2>

<h3 id="toc_16"><code>「修」</code> 酒店房态信息查询</h3>

<hr>

<p><strong>业务说明：</strong></p>

<blockquote>
<p>查询酒店房型房间信息 
眯客3.0增加控制，只查询可预定的房间。同时前端展示时默认只展示5个房间。</p>
</blockquote>

<p><strong>接口url：</strong></p>

<blockquote>
<p><a href="http://ip:port/ots/roomstate/querylist">http://ip:port/ots/roomstate/querylist</a></p>
</blockquote>

<p><strong>请求参数：</strong></p>

<table>
<thead>
<tr>
<th>字段</th>
<th>名称</th>
<th>是否必须</th>
<th>说明</th>
</tr>
</thead>

<tbody>
<tr>
<td>hotelid</td>
<td>酒店id</td>
<td>是</td>
<td></td>
</tr>
<tr>
<td>roomtypeid</td>
<td>房型id</td>
<td>否</td>
<td>|</td>
</tr>
<tr>
<td>startdateday</td>
<td>查询开始日期</td>
<td>否</td>
<td>yyyyMMdd</td>
</tr>
<tr>
<td>enddateday</td>
<td>查询结束日期</td>
<td>否</td>
<td>yyyyMMdd</td>
</tr>
<tr>
<td>startdate</td>
<td>入住时间</td>
<td>否</td>
<td>yyyyMMddhhmmss</td>
</tr>
<tr>
<td>enddate</td>
<td>离店时间</td>
<td>否</td>
<td>yyyyMMddhhmmss</td>
</tr>
<tr>
<td>roomstatus</td>
<td>返回房态类型</td>
<td>否</td>
<td>0或空-全部房间<br>，1-仅返回可售房,<br>2-仅返回不可售房</td>
</tr>
<tr>
<td>bednum</td>
<td>床数量</td>
<td>否</td>
<td>（1-1,2-2,3-其他，空-全部）</td>
</tr>
<tr>
<td>orderby</td>
<td>排序项目</td>
<td>否</td>
<td>暂时只有roomno</td>
</tr>
<tr>
<td>roomno</td>
<td>房间号</td>
<td>否</td>
<td>|</td>
</tr>
<tr>
<td>isShowAllRoom</td>
<td>是否显示所有的房间</td>
<td>否</td>
<td>默认为F. T：显示所有 F:不显示所有（默认只显示5间）</td>
</tr>
<tr>
<td>callmethod</td>
<td>调用来源</td>
<td>否</td>
<td>1-crs；<br>2-web；<br>3-wechat；<br>4-app(ios)；<br>5-app(Android)</td>
</tr>
<tr>
<td>callversion</td>
<td>调用版本</td>
<td>否</td>
<td>|</td>
</tr>
<tr>
<td>callentry</td>
<td>调用入口</td>
<td>否</td>
<td>1-摇一摇 <br>2-房态搜索入口<br> 3-切客</td>
</tr>
<tr>
<td>ip</td>
<td>IP地址</td>
<td>否</td>
<td>|</td>
</tr>
<tr>
<td>hardwarecode</td>
<td>硬件编码</td>
<td>否</td>
<td>|</td>
</tr>
<tr>
<td>otsversion</td>
<td>OTS版本</td>
<td>否</td>
<td>|</td>
</tr>
</tbody>
</table>

<blockquote>
<p>API返回 json 数据说明：</p>
</blockquote>

<pre class="line-numbers"><code class="language-javascript">{
    &quot;success&quot;:true,
    &quot;errcode&quot;:,//错误码
    &quot;errmsg&quot;:,//错误信息
    &quot;hotel&quot;:[{//酒店信息
        &quot;hotelid&quot;:,//酒店id
        &quot;hotelname&quot;:,//酒店名称
        &quot;hotelrulecode&quot;:,//酒店切客规则类型码（1001规则A；1002规则B）
        &quot;online&quot;:,//会否在线(T/F)
*「增」&quot;repairinfo&quot;:&quot;2014 年装修&quot;,//装修信息
        &quot;roomtype&quot;:[{//房型
        &quot;roomtypeid&quot;:,//房型id        
        &quot;bednum&quot;:,//床数量（1：单床房，2：双床房，大于2：其他房）
        &quot;roomtypename&quot;:,//房型名称
        &quot;roomtypeprice&quot;:,//房型价格
        &quot;roomtypepmsprice&quot;:,//门市价格
        &quot;ispromoting&quot;: //1在促销期间内/0
        &quot;promoid&quot;: &quot;1&quot;,// 特价活动id 1-今夜特价， 2-今日特价， 3-主题酒店， 6-一元秒杀
        &quot;promotype&quot;: &quot;3&quot;,// 特价活动类型
        &quot;isonpromo&quot;: &quot;1&quot;, //是否特价
        &quot;promostarttime&quot;: &quot;20:00&quot;, //特价开始时间
        &quot;promotext&quot;: &quot;该房间正在参与今夜特价活动，预订享受超低价。&quot;, //特价文案
        &quot;promodustartsec&quot;: &quot;0&quot;, //距离特价开始的秒数
        &quot;promoduendsec&quot;: &quot;19039&quot;,//距离特价结束的秒数
        &quot;promostatus&quot;: 1,//特价活动状态： -1-特价活动结束， 0-特价活动未开始， 1-特价活动中
        &quot;vcroomnum&quot;:,//可售房间数
        &quot;vctxt&quot;:&quot;&quot;, //可售房间数小于等于3,显示“仅剩x间”；等于0显示“满房,最近预定3小时前“；大于3间不显示
        &quot;count&quot;:0, //房间内床数
        &quot;beds&quot;:[{
            &quot;bedtypename&quot;:,//床型(双人床，单人床)
            &quot;bedlength&quot;: //尺寸(1.5米，1.8米)
        }],
        &quot;area&quot;:,//面积
        &quot;bedtypename&quot;:,//床型
        &quot;bedlength&quot;:,//床宽
        &quot;bathroomtype&quot;:,//卫浴类型
        &quot;bathmode&quot;:,//洗浴方式
        &quot;infrastructure&quot;: [{//基础设施
            &quot;infrastructureid&quot;:,// 基础设施id
            &quot;infrastructurename&quot;:,// 基础设施名称
        }]
        &quot;valueaddedfa&quot;: [{//增值设施
            &quot;valueaddedfaid&quot;:,// 增值设施id
            &quot;valueaddedfaname&quot;:,// 增值设施名称
        }]
        &quot;rooms&quot;:[{//房间信息
            &quot;roomid&quot;:,//房间id
            &quot;roomno&quot;:,//房间号
            &quot;isselected&quot;:  //T/F
            &quot;roomname&quot;:,//房间类型名称（取自roomtypename）
            &quot;roomstatus&quot;://房间状态（vc：可售；nvc：不可售）
            &quot;haswindow&quot;:,//是否有窗（T/F）
            &quot;floor&quot;:,//楼层
        }]
        &quot;cashbackcost&quot;:  //返现金额
        &quot;iscashback&quot;:  //是否返现（T/F）

}] 

}]
}</code></pre>

<blockquote>
<p>API返回json数据示例：</p>
</blockquote>

<pre class="line-numbers"><code class="language-javascript">{
    &quot;success&quot;:true,
    &quot;errcode&quot;:0,
    &quot;errmsg:&quot;&quot;,
    &quot;hotel&quot;: [
        {
            &quot;hotelid&quot;: 7027,
            &quot;hotelname&quot;: &quot;重庆鑫贵宾馆&quot;,
            &quot;hotelrulecode&quot;: 1002,
            &quot;visible&quot;: &quot;T&quot;,
            &quot;online&quot;: &quot;T&quot;,
            &quot;repairinfo&quot;:&quot;2014 年装修&quot;,
            &quot;roomtype&quot;: [
                {
                    &quot;roomtypeid&quot;: 32582,
                    &quot;bednum&quot;: 1,
                    &quot;roomtypename&quot;: &quot;特价单间&quot;,
                    &quot;roomtypeprice&quot;: 30,
                    &quot;roomtypepmsprice&quot;: 88,
                    &quot;vcroomnum&quot;: 3,
                    &quot;bed&quot;: {
                        &quot;count&quot;: 1,
                        &quot;beds&quot;: [
                            {
                                &quot;bedtypename&quot;: &quot;单床房&quot;,
                                &quot;bedlength&quot;: &quot;1.50米&quot;
                            }
                        ]
                    },
                    &quot;area&quot;: 12,
                    &quot;bedtypename&quot;: &quot;单床房&quot;,
                    &quot;bedlength&quot;: &quot;1.50米&quot;,
                    &quot;bathroomtype&quot;: &quot;独立卫浴&quot;,
                    &quot;infrastructure&quot;: [
                        {
                            &quot;infrastructureid&quot;: 15,
                            &quot;infrastructurename&quot;: &quot;24小时热水&quot;
                        },
                        {
                            &quot;infrastructureid&quot;: 18,
                            &quot;infrastructurename&quot;: &quot;拖鞋&quot;
                        },
                        {
                            &quot;infrastructureid&quot;: 19,
                            &quot;infrastructurename&quot;: &quot;电吹风&quot;
                        },
                        {
                            &quot;infrastructureid&quot;: 20,
                            &quot;infrastructurename&quot;: &quot;免费洗漱用品&quot;
                        },
                        {
                            &quot;infrastructureid&quot;: 21,
                            &quot;infrastructurename&quot;: &quot;免费瓶装水&quot;
                        },
                        {
                            &quot;infrastructureid&quot;: 39,
                            &quot;infrastructurename&quot;: &quot;电视&quot;
                        },
                        {
                            &quot;infrastructureid&quot;: 38,
                            &quot;infrastructurename&quot;: &quot;免费茶包&quot;
                        },
                        {
                            &quot;infrastructureid&quot;: 37,
                            &quot;infrastructurename&quot;: &quot;电热水壶&quot;
                        },
                        {
                            &quot;infrastructureid&quot;: 36,
                            &quot;infrastructurename&quot;: &quot;浴巾&quot;
                        },
                        {
                            &quot;infrastructureid&quot;: 35,
                            &quot;infrastructurename&quot;: &quot;毛巾&quot;
                        },
                        {
                            &quot;infrastructureid&quot;: 34,
                            &quot;infrastructurename&quot;: &quot;免费wifi&quot;
                        },
                        {
                            &quot;infrastructureid&quot;: 33,
                            &quot;infrastructurename&quot;: &quot;有线宽带&quot;
                        },
                        {
                            &quot;infrastructureid&quot;: 31,
                            &quot;infrastructurename&quot;: &quot;空调&quot;
                        }
                    ],
                    &quot;valueaddedfa&quot;: [
                        {
                            &quot;valueaddedfaid&quot;: 28,
                            &quot;valueaddedfaname&quot;: &quot;茶具&quot;
                        },
                        {
                            &quot;valueaddedfaid&quot;: 41,
                            &quot;valueaddedfaname&quot;: &quot;书桌&quot;
                        },
                        {
                            &quot;valueaddedfaid&quot;: 42,
                            &quot;valueaddedfaname&quot;: &quot;插线板&quot;
                        },
                        {
                            &quot;valueaddedfaid&quot;: 43,
                            &quot;valueaddedfaname&quot;: &quot;地板&quot;
                        },
                        {
                            &quot;valueaddedfaid&quot;: 53,
                            &quot;valueaddedfaname&quot;: &quot;地砖&quot;
                        },
                        {
                            &quot;valueaddedfaid&quot;: 54,
                            &quot;valueaddedfaname&quot;: &quot;地毯&quot;
                        }
                    ],
                    &quot;rooms&quot;: [
                        {
                            &quot;roomid&quot;: 179870,
                            &quot;roomno&quot;: &quot;106&quot;,
                            &quot;roomname&quot;: &quot;特价单间&quot;,
                            &quot;roomstatus&quot;: &quot;vc&quot;,
                            &quot;isselected&quot;: &quot;T&quot;,
                            &quot;haswindow&quot;: &quot;&quot;
                        },
                        {
                            &quot;roomid&quot;: 179871,
                            &quot;roomno&quot;: &quot;112&quot;,
                            &quot;roomname&quot;: &quot;特价单间&quot;,
                            &quot;roomstatus&quot;: &quot;vc&quot;,
                            &quot;isselected&quot;: &quot;F&quot;,
                            &quot;haswindow&quot;: &quot;&quot;
                        },
                        {
                            &quot;roomid&quot;: 179869,
                            &quot;roomno&quot;: &quot;113&quot;,
                            &quot;roomname&quot;: &quot;特价单间&quot;,
                            &quot;roomstatus&quot;: &quot;vc&quot;,
                            &quot;isselected&quot;: &quot;F&quot;,
                            &quot;haswindow&quot;: &quot;&quot;
                        }
                    ],
                    &quot;isfocus&quot;: &quot;F&quot;,
                    &quot;iscashback&quot;: &quot;F&quot;,
                    &quot;cashbackcost&quot;: 0,
                    &quot;vctxt&quot;: &quot;仅剩3间&quot;,
                    &quot;promoid&quot;: &quot;1&quot;,
                    &quot;promotype&quot;: &quot;1&quot;,
                    &quot;isonpromo&quot;: &quot;1&quot;,
                    &quot;promostarttime&quot;: &quot;20:00&quot;,
                    &quot;promotext&quot;: &quot;该房间正在参与今夜特价活动，预订享受超低价。&quot;,
                    &quot;promodustartsec&quot;: &quot;0&quot;,
                    &quot;promoduendsec&quot;: &quot;19039&quot;,
                    &quot;promostatus&quot;: 1,
                    &quot;roomtypepic&quot;: [
                        {
                            &quot;name&quot;: &quot;def&quot;,
                            &quot;pic&quot;: [
                                {
                                    &quot;url&quot;: &quot;https://dn-imke-pro.qbox.me/FrjHUa5KrsR5_LycE6tns6DF2Okk&quot;
                                }
                            ]
                        },
                        {
                            &quot;name&quot;: &quot;bed&quot;,
                            &quot;pic&quot;: []
                        },
                        {
                            &quot;name&quot;: &quot;toilet&quot;,
                            &quot;pic&quot;: []
                        }
                    ]
                },
                {
                    &quot;roomtypeid&quot;: 32584,
                    &quot;bednum&quot;: 2,
                    &quot;roomtypename&quot;: &quot;标间&quot;,
                    &quot;roomtypeprice&quot;: 60,
                    &quot;roomtypepmsprice&quot;: 108,
                    &quot;vcroomnum&quot;: 2,
                    &quot;bed&quot;: {
                        &quot;count&quot;: 2,
                        &quot;beds&quot;: [
                            {
                                &quot;bedtypename&quot;: &quot;双床房&quot;,
                                &quot;bedlength&quot;: &quot;1.20米&quot;
                            },
                            {
                                &quot;bedtypename&quot;: &quot;双床房&quot;,
                                &quot;bedlength&quot;: &quot;1.20米&quot;
                            }
                        ]
                    },
                    &quot;area&quot;: 13,
                    &quot;bedtypename&quot;: &quot;双床房&quot;,
                    &quot;bedlength&quot;: &quot;1.20,1.20米&quot;,
                    &quot;bathroomtype&quot;: &quot;独立卫浴&quot;,
                    &quot;infrastructure&quot;: [
                        {
                            &quot;infrastructureid&quot;: 15,
                            &quot;infrastructurename&quot;: &quot;24小时热水&quot;
                        },
                        {
                            &quot;infrastructureid&quot;: 18,
                            &quot;infrastructurename&quot;: &quot;拖鞋&quot;
                        },
                        {
                            &quot;infrastructureid&quot;: 19,
                            &quot;infrastructurename&quot;: &quot;电吹风&quot;
                        },
                        {
                            &quot;infrastructureid&quot;: 20,
                            &quot;infrastructurename&quot;: &quot;免费洗漱用品&quot;
                        },
                        {
                            &quot;infrastructureid&quot;: 21,
                            &quot;infrastructurename&quot;: &quot;免费瓶装水&quot;
                        },
                        {
                            &quot;infrastructureid&quot;: 39,
                            &quot;infrastructurename&quot;: &quot;电视&quot;
                        },
                        {
                            &quot;infrastructureid&quot;: 38,
                            &quot;infrastructurename&quot;: &quot;免费茶包&quot;
                        },
                        {
                            &quot;infrastructureid&quot;: 37,
                            &quot;infrastructurename&quot;: &quot;电热水壶&quot;
                        },
                        {
                            &quot;infrastructureid&quot;: 36,
                            &quot;infrastructurename&quot;: &quot;浴巾&quot;
                        },
                        {
                            &quot;infrastructureid&quot;: 35,
                            &quot;infrastructurename&quot;: &quot;毛巾&quot;
                        },
                        {
                            &quot;infrastructureid&quot;: 34,
                            &quot;infrastructurename&quot;: &quot;免费wifi&quot;
                        },
                        {
                            &quot;infrastructureid&quot;: 33,
                            &quot;infrastructurename&quot;: &quot;有线宽带&quot;
                        },
                        {
                            &quot;infrastructureid&quot;: 31,
                            &quot;infrastructurename&quot;: &quot;空调&quot;
                        }
                    ],
                    &quot;valueaddedfa&quot;: [
                        {
                            &quot;valueaddedfaid&quot;: 28,
                            &quot;valueaddedfaname&quot;: &quot;茶具&quot;
                        },
                        {
                            &quot;valueaddedfaid&quot;: 41,
                            &quot;valueaddedfaname&quot;: &quot;书桌&quot;
                        },
                        {
                            &quot;valueaddedfaid&quot;: 42,
                            &quot;valueaddedfaname&quot;: &quot;插线板&quot;
                        },
                        {
                            &quot;valueaddedfaid&quot;: 43,
                            &quot;valueaddedfaname&quot;: &quot;地板&quot;
                        },
                        {
                            &quot;valueaddedfaid&quot;: 53,
                            &quot;valueaddedfaname&quot;: &quot;地砖&quot;
                        },
                        {
                            &quot;valueaddedfaid&quot;: 54,
                            &quot;valueaddedfaname&quot;: &quot;地毯&quot;
                        }
                    ],
                    &quot;rooms&quot;: [
                        {
                            &quot;roomid&quot;: 179874,
                            &quot;roomno&quot;: &quot;108&quot;,
                            &quot;roomname&quot;: &quot;标间&quot;,
                            &quot;roomstatus&quot;: &quot;vc&quot;,
                            &quot;isselected&quot;: &quot;T&quot;,
                            &quot;haswindow&quot;: &quot;&quot;
                        },
                        {
                            &quot;roomid&quot;: 179876,
                            &quot;roomno&quot;: &quot;110&quot;,
                            &quot;roomname&quot;: &quot;标间&quot;,
                            &quot;roomstatus&quot;: &quot;vc&quot;,
                            &quot;isselected&quot;: &quot;F&quot;,
                            &quot;haswindow&quot;: &quot;&quot;
                        }
                    ],
                    &quot;isfocus&quot;: &quot;F&quot;,
                    &quot;iscashback&quot;: &quot;F&quot;,
                    &quot;cashbackcost&quot;: 0,
                    &quot;vctxt&quot;: &quot;仅剩2间&quot;,
                    &quot;promoid&quot;: &quot;1&quot;,
                    &quot;promotype&quot;: &quot;2&quot;,
                    &quot;isonpromo&quot;: &quot;1&quot;,
                    &quot;promostarttime&quot;: &quot;20:00&quot;,
                    &quot;promotext&quot;: &quot;该房间正在参与今夜特价活动，预订享受超低价。&quot;,
                    &quot;promodustartsec&quot;: &quot;0&quot;,
                    &quot;promoduendsec&quot;: &quot;19039&quot;,
                    &quot;promostatus&quot;: 1,
                    &quot;roomtypepic&quot;: [
                        {
                            &quot;name&quot;: &quot;def&quot;,
                            &quot;pic&quot;: [
                                {
                                    &quot;url&quot;: &quot;https://dn-imke-pro.qbox.me/Fm5kfFUFy_vr1kNFuC83MjjqAgn8&quot;
                                }
                            ]
                        },
                        {
                            &quot;name&quot;: &quot;bed&quot;,
                            &quot;pic&quot;: []
                        },
                        {
                            &quot;name&quot;: &quot;toilet&quot;,
                            &quot;pic&quot;: []
                        }
                    ]
                },
                {
                    &quot;roomtypeid&quot;: 32591,
                    &quot;bednum&quot;: 1,
                    &quot;roomtypename&quot;: &quot;豪华单间&quot;,
                    &quot;roomtypeprice&quot;: 90,
                    &quot;roomtypepmsprice&quot;: 158,
                    &quot;vcroomnum&quot;: 2,
                    &quot;bed&quot;: {
                        &quot;count&quot;: 1,
                        &quot;beds&quot;: [
                            {
                                &quot;bedtypename&quot;: &quot;单床房&quot;,
                                &quot;bedlength&quot;: &quot;1.50米&quot;
                            }
                        ]
                    },
                    &quot;area&quot;: 13,
                    &quot;bedtypename&quot;: &quot;单床房&quot;,
                    &quot;bedlength&quot;: &quot;1.50米&quot;,
                    &quot;bathroomtype&quot;: &quot;独立卫浴&quot;,
                    &quot;infrastructure&quot;: [
                        {
                            &quot;infrastructureid&quot;: 15,
                            &quot;infrastructurename&quot;: &quot;24小时热水&quot;
                        },
                        {
                            &quot;infrastructureid&quot;: 18,
                            &quot;infrastructurename&quot;: &quot;拖鞋&quot;
                        },
                        {
                            &quot;infrastructureid&quot;: 19,
                            &quot;infrastructurename&quot;: &quot;电吹风&quot;
                        },
                        {
                            &quot;infrastructureid&quot;: 20,
                            &quot;infrastructurename&quot;: &quot;免费洗漱用品&quot;
                        },
                        {
                            &quot;infrastructureid&quot;: 21,
                            &quot;infrastructurename&quot;: &quot;免费瓶装水&quot;
                        },
                        {
                            &quot;infrastructureid&quot;: 39,
                            &quot;infrastructurename&quot;: &quot;电视&quot;
                        },
                        {
                            &quot;infrastructureid&quot;: 38,
                            &quot;infrastructurename&quot;: &quot;免费茶包&quot;
                        },
                        {
                            &quot;infrastructureid&quot;: 37,
                            &quot;infrastructurename&quot;: &quot;电热水壶&quot;
                        },
                        {
                            &quot;infrastructureid&quot;: 36,
                            &quot;infrastructurename&quot;: &quot;浴巾&quot;
                        },
                        {
                            &quot;infrastructureid&quot;: 35,
                            &quot;infrastructurename&quot;: &quot;毛巾&quot;
                        },
                        {
                            &quot;infrastructureid&quot;: 34,
                            &quot;infrastructurename&quot;: &quot;免费wifi&quot;
                        },
                        {
                            &quot;infrastructureid&quot;: 33,
                            &quot;infrastructurename&quot;: &quot;有线宽带&quot;
                        },
                        {
                            &quot;infrastructureid&quot;: 31,
                            &quot;infrastructurename&quot;: &quot;空调&quot;
                        }
                    ],
                    &quot;valueaddedfa&quot;: [
                        {
                            &quot;valueaddedfaid&quot;: 40,
                            &quot;valueaddedfaname&quot;: &quot;电脑&quot;
                        },
                        {
                            &quot;valueaddedfaid&quot;: 41,
                            &quot;valueaddedfaname&quot;: &quot;书桌&quot;
                        },
                        {
                            &quot;valueaddedfaid&quot;: 42,
                            &quot;valueaddedfaname&quot;: &quot;插线板&quot;
                        },
                        {
                            &quot;valueaddedfaid&quot;: 43,
                            &quot;valueaddedfaname&quot;: &quot;地板&quot;
                        },
                        {
                            &quot;valueaddedfaid&quot;: 53,
                            &quot;valueaddedfaname&quot;: &quot;地砖&quot;
                        },
                        {
                            &quot;valueaddedfaid&quot;: 54,
                            &quot;valueaddedfaname&quot;: &quot;地毯&quot;
                        }
                    ],
                    &quot;rooms&quot;: [
                        {
                            &quot;roomid&quot;: 179865,
                            &quot;roomno&quot;: &quot;102&quot;,
                            &quot;roomname&quot;: &quot;豪华单间&quot;,
                            &quot;roomstatus&quot;: &quot;vc&quot;,
                            &quot;isselected&quot;: &quot;T&quot;,
                            &quot;haswindow&quot;: &quot;&quot;
                        },
                        {
                            &quot;roomid&quot;: 179867,
                            &quot;roomno&quot;: &quot;111&quot;,
                            &quot;roomname&quot;: &quot;豪华单间&quot;,
                            &quot;roomstatus&quot;: &quot;vc&quot;,
                            &quot;isselected&quot;: &quot;F&quot;,
                            &quot;haswindow&quot;: &quot;&quot;
                        }
                    ],
                    &quot;isfocus&quot;: &quot;F&quot;,
                    &quot;iscashback&quot;: &quot;F&quot;,
                    &quot;cashbackcost&quot;: 0,
                    &quot;vctxt&quot;: &quot;仅剩2间&quot;,
                    &quot;promoid&quot;: &quot;1&quot;,
                    &quot;promotype&quot;: &quot;3&quot;,
                    &quot;isonpromo&quot;: &quot;1&quot;,
                    &quot;promostarttime&quot;: &quot;20:00&quot;,
                    &quot;promotext&quot;: &quot;该房间正在参与今夜特价活动，预订享受超低价。&quot;,
                    &quot;promodustartsec&quot;: &quot;0&quot;,
                    &quot;promoduendsec&quot;: &quot;19039&quot;,
                    &quot;promostatus&quot;: 1,
                    &quot;roomtypepic&quot;: [
                        {
                            &quot;name&quot;: &quot;def&quot;,
                            &quot;pic&quot;: [
                                {
                                    &quot;url&quot;: &quot;https://dn-imke-pro.qbox.me/FhpVnndlJVQh4TU9vw_DqOrW4PVv&quot;
                                }
                            ]
                        },
                        {
                            &quot;name&quot;: &quot;bed&quot;,
                            &quot;pic&quot;: []
                        },
                        {
                            &quot;name&quot;: &quot;toilet&quot;,
                            &quot;pic&quot;: []
                        }
                    ]
                },
                {
                    &quot;roomtypeid&quot;: 29324,
                    &quot;bednum&quot;: 1,
                    &quot;roomtypename&quot;: &quot;豪华单间&quot;,
                    &quot;roomtypeprice&quot;: 138,
                    &quot;roomtypepmsprice&quot;: 158,
                    &quot;vcroomnum&quot;: 0,
                    &quot;bed&quot;: {
                        &quot;count&quot;: 1,
                        &quot;beds&quot;: [
                            {
                                &quot;bedtypename&quot;: &quot;单床房&quot;,
                                &quot;bedlength&quot;: &quot;1.50米&quot;
                            }
                        ]
                    },
                    &quot;area&quot;: 13,
                    &quot;bedtypename&quot;: &quot;单床房&quot;,
                    &quot;bedlength&quot;: &quot;1.50米&quot;,
                    &quot;bathroomtype&quot;: &quot;独立卫浴&quot;,
                    &quot;infrastructure&quot;: [
                        {
                            &quot;infrastructureid&quot;: 15,
                            &quot;infrastructurename&quot;: &quot;24小时热水&quot;
                        },
                        {
                            &quot;infrastructureid&quot;: 18,
                            &quot;infrastructurename&quot;: &quot;拖鞋&quot;
                        },
                        {
                            &quot;infrastructureid&quot;: 19,
                            &quot;infrastructurename&quot;: &quot;电吹风&quot;
                        },
                        {
                            &quot;infrastructureid&quot;: 20,
                            &quot;infrastructurename&quot;: &quot;免费洗漱用品&quot;
                        },
                        {
                            &quot;infrastructureid&quot;: 21,
                            &quot;infrastructurename&quot;: &quot;免费瓶装水&quot;
                        },
                        {
                            &quot;infrastructureid&quot;: 39,
                            &quot;infrastructurename&quot;: &quot;电视&quot;
                        },
                        {
                            &quot;infrastructureid&quot;: 38,
                            &quot;infrastructurename&quot;: &quot;免费茶包&quot;
                        },
                        {
                            &quot;infrastructureid&quot;: 37,
                            &quot;infrastructurename&quot;: &quot;电热水壶&quot;
                        },
                        {
                            &quot;infrastructureid&quot;: 36,
                            &quot;infrastructurename&quot;: &quot;浴巾&quot;
                        },
                        {
                            &quot;infrastructureid&quot;: 35,
                            &quot;infrastructurename&quot;: &quot;毛巾&quot;
                        },
                        {
                            &quot;infrastructureid&quot;: 34,
                            &quot;infrastructurename&quot;: &quot;免费wifi&quot;
                        },
                        {
                            &quot;infrastructureid&quot;: 33,
                            &quot;infrastructurename&quot;: &quot;有线宽带&quot;
                        },
                        {
                            &quot;infrastructureid&quot;: 31,
                            &quot;infrastructurename&quot;: &quot;空调&quot;
                        }
                    ],
                    &quot;valueaddedfa&quot;: [
                        {
                            &quot;valueaddedfaid&quot;: 40,
                            &quot;valueaddedfaname&quot;: &quot;电脑&quot;
                        },
                        {
                            &quot;valueaddedfaid&quot;: 41,
                            &quot;valueaddedfaname&quot;: &quot;书桌&quot;
                        },
                        {
                            &quot;valueaddedfaid&quot;: 42,
                            &quot;valueaddedfaname&quot;: &quot;插线板&quot;
                        },
                        {
                            &quot;valueaddedfaid&quot;: 43,
                            &quot;valueaddedfaname&quot;: &quot;地板&quot;
                        },
                        {
                            &quot;valueaddedfaid&quot;: 53,
                            &quot;valueaddedfaname&quot;: &quot;地砖&quot;
                        },
                        {
                            &quot;valueaddedfaid&quot;: 54,
                            &quot;valueaddedfaname&quot;: &quot;地毯&quot;
                        }
                    ],
                    &quot;rooms&quot;: [],
                    &quot;isfocus&quot;: &quot;F&quot;,
                    &quot;iscashback&quot;: &quot;F&quot;,
                    &quot;cashbackcost&quot;: 0,
                    &quot;vctxt&quot;: &quot;满房,最近预定3小时前&quot;,
                    &quot;isonpromo&quot;: &quot;0&quot;,
                    &quot;roomtypepic&quot;: [
                        {
                            &quot;name&quot;: &quot;def&quot;,
                            &quot;pic&quot;: [
                                {
                                    &quot;url&quot;: &quot;https://dn-imke-pro.qbox.me/FhpVnndlJVQh4TU9vw_DqOrW4PVv&quot;
                                }
                            ]
                        },
                        {
                            &quot;name&quot;: &quot;bed&quot;,
                            &quot;pic&quot;: []
                        },
                        {
                            &quot;name&quot;: &quot;toilet&quot;,
                            &quot;pic&quot;: []
                        }
                    ]
                },
                {
                    &quot;roomtypeid&quot;: 29325,
                    &quot;bednum&quot;: 1,
                    &quot;roomtypename&quot;: &quot;特价单间&quot;,
                    &quot;roomtypeprice&quot;: 68,
                    &quot;roomtypepmsprice&quot;: 88,
                    &quot;vcroomnum&quot;: 0,
                    &quot;bed&quot;: {
                        &quot;count&quot;: 1,
                        &quot;beds&quot;: [
                            {
                                &quot;bedtypename&quot;: &quot;单床房&quot;,
                                &quot;bedlength&quot;: &quot;1.50米&quot;
                            }
                        ]
                    },
                    &quot;area&quot;: 12,
                    &quot;bedtypename&quot;: &quot;单床房&quot;,
                    &quot;bedlength&quot;: &quot;1.50米&quot;,
                    &quot;bathroomtype&quot;: &quot;独立卫浴&quot;,
                    &quot;infrastructure&quot;: [
                        {
                            &quot;infrastructureid&quot;: 15,
                            &quot;infrastructurename&quot;: &quot;24小时热水&quot;
                        },
                        {
                            &quot;infrastructureid&quot;: 18,
                            &quot;infrastructurename&quot;: &quot;拖鞋&quot;
                        },
                        {
                            &quot;infrastructureid&quot;: 19,
                            &quot;infrastructurename&quot;: &quot;电吹风&quot;
                        },
                        {
                            &quot;infrastructureid&quot;: 20,
                            &quot;infrastructurename&quot;: &quot;免费洗漱用品&quot;
                        },
                        {
                            &quot;infrastructureid&quot;: 21,
                            &quot;infrastructurename&quot;: &quot;免费瓶装水&quot;
                        },
                        {
                            &quot;infrastructureid&quot;: 39,
                            &quot;infrastructurename&quot;: &quot;电视&quot;
                        },
                        {
                            &quot;infrastructureid&quot;: 38,
                            &quot;infrastructurename&quot;: &quot;免费茶包&quot;
                        },
                        {
                            &quot;infrastructureid&quot;: 37,
                            &quot;infrastructurename&quot;: &quot;电热水壶&quot;
                        },
                        {
                            &quot;infrastructureid&quot;: 36,
                            &quot;infrastructurename&quot;: &quot;浴巾&quot;
                        },
                        {
                            &quot;infrastructureid&quot;: 35,
                            &quot;infrastructurename&quot;: &quot;毛巾&quot;
                        },
                        {
                            &quot;infrastructureid&quot;: 34,
                            &quot;infrastructurename&quot;: &quot;免费wifi&quot;
                        },
                        {
                            &quot;infrastructureid&quot;: 33,
                            &quot;infrastructurename&quot;: &quot;有线宽带&quot;
                        },
                        {
                            &quot;infrastructureid&quot;: 31,
                            &quot;infrastructurename&quot;: &quot;空调&quot;
                        }
                    ],
                    &quot;valueaddedfa&quot;: [
                        {
                            &quot;valueaddedfaid&quot;: 28,
                            &quot;valueaddedfaname&quot;: &quot;茶具&quot;
                        },
                        {
                            &quot;valueaddedfaid&quot;: 41,
                            &quot;valueaddedfaname&quot;: &quot;书桌&quot;
                        },
                        {
                            &quot;valueaddedfaid&quot;: 42,
                            &quot;valueaddedfaname&quot;: &quot;插线板&quot;
                        },
                        {
                            &quot;valueaddedfaid&quot;: 43,
                            &quot;valueaddedfaname&quot;: &quot;地板&quot;
                        },
                        {
                            &quot;valueaddedfaid&quot;: 53,
                            &quot;valueaddedfaname&quot;: &quot;地砖&quot;
                        },
                        {
                            &quot;valueaddedfaid&quot;: 54,
                            &quot;valueaddedfaname&quot;: &quot;地毯&quot;
                        }
                    ],
                    &quot;rooms&quot;: [],
                    &quot;isfocus&quot;: &quot;F&quot;,
                    &quot;iscashback&quot;: &quot;F&quot;,
                    &quot;cashbackcost&quot;: 0,
                    &quot;vctxt&quot;: &quot;满房,最近预定3小时前&quot;,
                    &quot;isonpromo&quot;: &quot;0&quot;,
                    &quot;roomtypepic&quot;: [
                        {
                            &quot;name&quot;: &quot;def&quot;,
                            &quot;pic&quot;: [
                                {
                                    &quot;url&quot;: &quot;https://dn-imke-pro.qbox.me/FrjHUa5KrsR5_LycE6tns6DF2Okk&quot;
                                }
                            ]
                        },
                        {
                            &quot;name&quot;: &quot;bed&quot;,
                            &quot;pic&quot;: []
                        },
                        {
                            &quot;name&quot;: &quot;toilet&quot;,
                            &quot;pic&quot;: []
                        }
                    ]
                },
                {
                    &quot;roomtypeid&quot;: 29326,
                    &quot;bednum&quot;: 2,
                    &quot;roomtypename&quot;: &quot;标间&quot;,
                    &quot;roomtypeprice&quot;: 88,
                    &quot;roomtypepmsprice&quot;: 108,
                    &quot;vcroomnum&quot;: 0,
                    &quot;bed&quot;: {
                        &quot;count&quot;: 2,
                        &quot;beds&quot;: [
                            {
                                &quot;bedtypename&quot;: &quot;双床房&quot;,
                                &quot;bedlength&quot;: &quot;1.20米&quot;
                            },
                            {
                                &quot;bedtypename&quot;: &quot;双床房&quot;,
                                &quot;bedlength&quot;: &quot;1.20米&quot;
                            }
                        ]
                    },
                    &quot;area&quot;: 13,
                    &quot;bedtypename&quot;: &quot;双床房&quot;,
                    &quot;bedlength&quot;: &quot;1.20,1.20米&quot;,
                    &quot;bathroomtype&quot;: &quot;独立卫浴&quot;,
                    &quot;infrastructure&quot;: [
                        {
                            &quot;infrastructureid&quot;: 15,
                            &quot;infrastructurename&quot;: &quot;24小时热水&quot;
                        },
                        {
                            &quot;infrastructureid&quot;: 18,
                            &quot;infrastructurename&quot;: &quot;拖鞋&quot;
                        },
                        {
                            &quot;infrastructureid&quot;: 19,
                            &quot;infrastructurename&quot;: &quot;电吹风&quot;
                        },
                        {
                            &quot;infrastructureid&quot;: 20,
                            &quot;infrastructurename&quot;: &quot;免费洗漱用品&quot;
                        },
                        {
                            &quot;infrastructureid&quot;: 21,
                            &quot;infrastructurename&quot;: &quot;免费瓶装水&quot;
                        },
                        {
                            &quot;infrastructureid&quot;: 39,
                            &quot;infrastructurename&quot;: &quot;电视&quot;
                        },
                        {
                            &quot;infrastructureid&quot;: 38,
                            &quot;infrastructurename&quot;: &quot;免费茶包&quot;
                        },
                        {
                            &quot;infrastructureid&quot;: 37,
                            &quot;infrastructurename&quot;: &quot;电热水壶&quot;
                        },
                        {
                            &quot;infrastructureid&quot;: 36,
                            &quot;infrastructurename&quot;: &quot;浴巾&quot;
                        },
                        {
                            &quot;infrastructureid&quot;: 35,
                            &quot;infrastructurename&quot;: &quot;毛巾&quot;
                        },
                        {
                            &quot;infrastructureid&quot;: 34,
                            &quot;infrastructurename&quot;: &quot;免费wifi&quot;
                        },
                        {
                            &quot;infrastructureid&quot;: 33,
                            &quot;infrastructurename&quot;: &quot;有线宽带&quot;
                        },
                        {
                            &quot;infrastructureid&quot;: 31,
                            &quot;infrastructurename&quot;: &quot;空调&quot;
                        }
                    ],
                    &quot;valueaddedfa&quot;: [
                        {
                            &quot;valueaddedfaid&quot;: 28,
                            &quot;valueaddedfaname&quot;: &quot;茶具&quot;
                        },
                        {
                            &quot;valueaddedfaid&quot;: 41,
                            &quot;valueaddedfaname&quot;: &quot;书桌&quot;
                        },
                        {
                            &quot;valueaddedfaid&quot;: 42,
                            &quot;valueaddedfaname&quot;: &quot;插线板&quot;
                        },
                        {
                            &quot;valueaddedfaid&quot;: 43,
                            &quot;valueaddedfaname&quot;: &quot;地板&quot;
                        },
                        {
                            &quot;valueaddedfaid&quot;: 53,
                            &quot;valueaddedfaname&quot;: &quot;地砖&quot;
                        },
                        {
                            &quot;valueaddedfaid&quot;: 54,
                            &quot;valueaddedfaname&quot;: &quot;地毯&quot;
                        }
                    ],
                    &quot;rooms&quot;: [],
                    &quot;isfocus&quot;: &quot;F&quot;,
                    &quot;iscashback&quot;: &quot;F&quot;,
                    &quot;cashbackcost&quot;: 0,
                    &quot;vctxt&quot;: &quot;满房,最近预定3小时前&quot;,
                    &quot;isonpromo&quot;: &quot;0&quot;,
                    &quot;roomtypepic&quot;: [
                        {
                            &quot;name&quot;: &quot;def&quot;,
                            &quot;pic&quot;: [
                                {
                                    &quot;url&quot;: &quot;https://dn-imke-pro.qbox.me/Fm5kfFUFy_vr1kNFuC83MjjqAgn8&quot;
                                }
                            ]
                        },
                        {
                            &quot;name&quot;: &quot;bed&quot;,
                            &quot;pic&quot;: []
                        },
                        {
                            &quot;name&quot;: &quot;toilet&quot;,
                            &quot;pic&quot;: []
                        }
                    ]
                }
            ]
        }
    ]
 }</code></pre>

<h2 id="toc_17">特价活动</h2>

<h3 id="toc_18"><code>「增」</code> 获取特价活动价格区间</h3>

<p><strong>业务说明：</strong></p>

<blockquote>
<p>根据 promoid 获取特价活动价格区间</p>
</blockquote>

<p><strong>接口 url：</strong></p>

<blockquote>
<p><a href="http://ip:port/ots/promo/queryrange">http://ip:port/ots/promo/queryrange</a></p>
</blockquote>

<p><strong>请求参数：</strong></p>

<table>
<thead>
<tr>
<th>字段</th>
<th>名称</th>
<th>是否必须</th>
<th>说明</th>
</tr>
</thead>

<tbody>
<tr>
<td>promoid</td>
<td>特价活动 id</td>
<td>是</td>
<td>1. 今夜特价 <br> 2.今日特价<br> 3. 主题酒店 <br> 6. 一元秒杀</td>
</tr>
<tr>
<td>cityid</td>
<td>城市编码</td>
<td>是</td>
<td></td>
</tr>
<tr>
<td>callmethod</td>
<td>调用来源</td>
<td>是</td>
<td>1-crs；<br>2-web；<br>3-wechat；<br>4-app(ios)；<br>5-app(Android)</td>
</tr>
<tr>
<td>callversion</td>
<td>调用版本</td>
<td>是</td>
<td></td>
</tr>
<tr>
<td>ip</td>
<td>IP地址</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>hardwarecode</td>
<td>硬件编码</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>otsversion</td>
<td>OTS版本</td>
<td>否</td>
<td></td>
</tr>
</tbody>
</table>

<blockquote>
<p>API返回json返回说明：</p>
</blockquote>

<pre class="line-numbers"><code class="language-javascript">{
    &quot;success&quot;: true,
    &quot;promoid&quot;:1,               //特价活动 id
    &quot;step&quot;: 15,            //特价步长
    &quot;minprice&quot;: 10,       // 特价活动最低价
    &quot;maxprice&quot;: 100,        // 特价活动最高价
    &quot;promosec&quot;:0,             //距离特价活动开始的秒数
    &quot;promosecend&quot;:25235， //距离特价活动结束的秒数
    &quot;nextpromosec&quot;:71975      //距离下一次特价活动开始的秒数
    
}</code></pre>

<blockquote>
<p>API返回json返回说明：</p>
</blockquote>

<pre class="line-numbers"><code class="language-javascript">{
    &quot;success&quot;: true,
    &quot;promoid&quot;:1,
    &quot;step&quot;: 15, 
    &quot;minprice&quot;: 10,
    &quot;maxprice&quot;: 100,
    &quot;promosec&quot;:0,   
    &quot;promosecend&quot;:25235，
    &quot;nextpromosec&quot;:71975     
    
}</code></pre>

<h3 id="toc_19"><code>「增」</code> 特价房提醒</h3>

<hr>

<p><strong>业务说明：</strong></p>

<blockquote>
<p>记录用户提醒特价房要求。</p>
</blockquote>

<p><strong>接口url：</strong></p>

<blockquote>
<p><a href="http://ip:port/ots/remind/create">http://ip:port/ots/remind/create</a></p>
</blockquote>

<p><strong>请求参数：</strong></p>

<table>
<thead>
<tr>
<th>字段</th>
<th>名称</th>
<th>是否必须</th>
<th>说明</th>
</tr>
</thead>

<tbody>
<tr>
<td>token</td>
<td>用户令牌</td>
<td>是</td>
<td></td>
</tr>
<tr>
<td>hotelid</td>
<td>酒店id</td>
<td>是</td>
<td></td>
</tr>
<tr>
<td>roomtypeid</td>
<td>房型id</td>
<td>是</td>
<td></td>
</tr>
<tr>
<td>callmethod</td>
<td>调用来源</td>
<td>否</td>
<td>1-crs；<br>2-web；<br>3-wechat；<br>4-app(ios)；<br>5-app(Android)</td>
</tr>
<tr>
<td>callversion</td>
<td>调用版本</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>ip</td>
<td>IP地址</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>hardwarecode</td>
<td>硬件编码</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>otsversion</td>
<td>OTS版本</td>
<td>否</td>
<td></td>
</tr>
</tbody>
</table>

<blockquote>
<p>API返回json数据说明：</p>
</blockquote>

<pre class="line-numbers"><code class="language-javascript">{
    &quot;success&quot;:true,
    &quot;errcode&quot;:,//错误码
    &quot;errmsg&quot;://错误信息
}</code></pre>

<blockquote>
<p>API返回json数据示例：</p>
</blockquote>

<pre class="line-numbers"><code class="language-javascript">{
    &quot;success&quot;:true,
    &quot;errcode&quot;:0,
    &quot;errmsg&quot;:&quot;&quot;
}</code></pre>

<h3 id="toc_20"><code>「增」</code> 特价房信息查询</h3>

<hr>

<p><strong>业务说明：</strong></p>

<blockquote>
<p>眯客 3.2+ 新增需求， 搜索特价房接口</p>
</blockquote>

<p><strong>接口url：</strong></p>

<blockquote>
<p><a href="http://ip:port/ots/search/querypromo">http://ip:port/ots/search/querypromo</a></p>
</blockquote>

<p><strong>请求参数：</strong></p>

<table>
<thead>
<tr>
<th>字段</th>
<th>名称</th>
<th>是否必须</th>
<th>说明</th>
</tr>
</thead>

<tbody>
<tr>
<td>cityid</td>
<td>城市编码</td>
<td>是</td>
<td></td>
</tr>
<tr>
<td>hotelid</td>
<td>酒店id</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>hotelname</td>
<td>酒店名</td>
<td>否</td>
<td>支持模糊</td>
</tr>
<tr>
<td>hoteladdr</td>
<td>酒店地址</td>
<td>否</td>
<td>支持模糊</td>
</tr>
<tr>
<td>keyword</td>
<td>关键字</td>
<td>否</td>
<td>对于hotelname和hoteladdr做模糊查询用</td>
</tr>
<tr>
<td>disid</td>
<td>区县id</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>promoid</td>
<td>特价活动 id</td>
<td>是</td>
<td></td>
</tr>
<tr>
<td>minpromoprice</td>
<td>价格区间-小</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>maxpromoprice</td>
<td>价格区间-大</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>userlongitude</td>
<td>用户坐标(经度)</td>
<td>否</td>
<td>用户的经度</td>
</tr>
<tr>
<td>userlatitude</td>
<td>用户坐标(纬度)</td>
<td>否</td>
<td>用户的纬度</td>
</tr>
<tr>
<td>pillowlongitude</td>
<td>查询坐标(经度)</td>
<td>否</td>
<td>非搜索条件</td>
</tr>
<tr>
<td>pillowlatitude</td>
<td>查询坐标(纬度)</td>
<td>否</td>
<td>非搜索条件</td>
</tr>
<tr>
<td>range</td>
<td>附近范围</td>
<td>否</td>
<td>单位米，若查询坐标的值不为空，则取查询坐标方圆XXXX米的酒店</td>
</tr>
<tr>
<td>minprice</td>
<td>最低价格</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>maxprice</td>
<td>最高价格</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>bednum</td>
<td>房间床数量</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>startdateday</td>
<td>查询开始日期</td>
<td>否</td>
<td>yyyyMMdd</td>
</tr>
<tr>
<td>enddateday</td>
<td>查询结束日期</td>
<td>否</td>
<td>yyyyMMdd</td>
</tr>
<tr>
<td>startdate</td>
<td>入住时间</td>
<td>否</td>
<td>yyyyMMddhhmmss</td>
</tr>
<tr>
<td>enddate</td>
<td>离店时间</td>
<td>否</td>
<td>yyyyMMddhhmmss</td>
</tr>
<tr>
<td>page</td>
<td>第几页</td>
<td>是</td>
<td>|</td>
</tr>
<tr>
<td>limit</td>
<td>每页多少条</td>
<td>是</td>
<td></td>
</tr>
<tr>
<td>orderby</td>
<td>排序项目</td>
<td>否</td>
<td>1:距离(distance)<br> 2:是否推荐(recommend)<br> 3:最低价格(minprice)<br> 4: 酒店评分权重(score)<br> 5:人气（月销量）</td>
</tr>
<tr>
<td>isdiscount</td>
<td>是否考虑优惠价格</td>
<td>否</td>
<td>(T/F)，值为T，则最低价取优惠活动最低价，<br> 空或F则最低价取ota最低门市价</td>
</tr>
<tr>
<td>ishotelpic</td>
<td>是否返回酒店图片</td>
<td>否</td>
<td>(T/F)，空等同于F，值为T，则返回图片信息，<br> 空或F则不返回图片信息</td>
</tr>
<tr>
<td>isroomtype</td>
<td>是否返回房型信息</td>
<td>否</td>
<td>(T/F)，值为T，则返回房型信息，空或F则不返回房型信息</td>
</tr>
<tr>
<td>isroomtypepic</td>
<td>是否返回房型图片</td>
<td>否</td>
<td>(T/F)，值为T，则返回房型图片信息，<br>空或F则不返回房型图片信息</td>
</tr>
<tr>
<td>isroomtypefacility</td>
<td>是否返回房型设施</td>
<td>否</td>
<td>(T/F)，值为T，则返回房型设施信息，<br>空或F则不返回房型设施信息</td>
</tr>
<tr>
<td>isfacility</td>
<td>是否返回酒店设施</td>
<td>否</td>
<td>(T/F)，值为T，则返回酒店设施信息，<br>空或F则不返回酒店设施信息</td>
</tr>
<tr>
<td>isbusinesszone</td>
<td>是否返回酒店商圈信息</td>
<td>否</td>
<td>(T/F)，值为T，则返回酒店商圈信息，<br>空或F则不返回酒店设施信息</td>
</tr>
<tr>
<td>isbedtype</td>
<td>是否返回床型</td>
<td>否</td>
<td>(T/F)，值为T，则返回床型信息，<br>空或F则不返回酒店设施信息</td>
</tr>
<tr>
<td>isteambuying</td>
<td>是否返回团购信息</td>
<td>否</td>
<td>(T/F)，值为T，则返回团购信息，<br>空或F则不返回团购信息</td>
</tr>
<tr>
<td>ispms</td>
<td>是否签约</td>
<td>否</td>
<td>(T/F),值为T，则只返回签约酒店，<br>值为F或空，返回所有酒店</td>
</tr>
<tr>
<td>callmethod</td>
<td>调用来源</td>
<td>否</td>
<td>1-crs；<br>2-web；<br>3-wechat；<br>4-app(ios)；<br>5-app(Android)</td>
</tr>
<tr>
<td>callversion</td>
<td>调用版本</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>callentry</td>
<td>调用入口</td>
<td>否</td>
<td>1-摇一摇 <br>2-房态搜索入口<br> 3-切客</td>
</tr>
<tr>
<td>ip</td>
<td>IP地址</td>
<td>否</td>
<td>|</td>
</tr>
<tr>
<td>hoteltype</td>
<td>酒店类型</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>hardwarecode</td>
<td>硬件编码</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>otsversion</td>
<td>OTS版本</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>excludehotelid</td>
<td>排除酒店id</td>
<td>否</td>
<td>用户酒店附近搜索时，过滤当前的酒店</td>
</tr>
<tr>
<td>searchtype</td>
<td>搜索方式</td>
<td>否</td>
<td>0附近；<br>1商圈；<br>2机场车站；<br>3地铁路线；<br>4行政区；<br>5景点；<br>6医院；<br>7高校；<br>8酒店；<br>9地址；<br>-1不限)</td>
</tr>
<tr>
<td>posid</td>
<td>位置区域id</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>posname</td>
<td>位置区域名称</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>points</td>
<td>坐标集合</td>
<td>否</td>
<td>[[11,22], [10,12]]</td>
</tr>
<tr>
<td>bedtype</td>
<td>床型搜索</td>
<td>否</td>
<td>按指定床型搜索酒店:<br>1单床；<br>2双床；<br>-1不限。</td>
</tr>
</tbody>
</table>

<blockquote>
<p>API返回json数据示例：</p>
</blockquote>

<pre class="line-numbers"><code class="language-javascript">{
    &quot;success&quot;:true,
    &quot;errcode&quot;:,//错误码
    &quot;errmsg&quot;:,//错误信息
    &quot;count&quot;:,//酒店数量
    &quot;hotel&quot;:
        [{
            &quot;hotelid&quot;:,//酒店id
            &quot;hotelname&quot;:,//酒店名称
            &quot;hotelrulecode&quot;:,//酒店切客规则类型码（1001规则A；1002规则B）
            &quot;online&quot;:,//是否在线(T/F)
            &quot;hotelvc&quot;:,//是否有可售房（T/F）该字段根据入参入住时间和离店时间获取该酒店是否有可入住房间，并根据结果返回T、F
            &quot;detailaddr&quot;:,//酒店地址
            &quot;hoteldis&quot;:,//酒店所属区县
            &quot;hotelcity&quot;:,//酒店所属城市
            &quot;hotelprovince&quot;:,//酒店所属省份
            &quot;hotelphone&quot;:,//联系电话
            &quot;hoteldisc&quot;:,//酒店简介
            &quot;longitude&quot;:, //酒店坐标(经度)
            &quot;latitude&quot;:,//酒店坐标(纬度)
            &quot;distance&quot;:,//酒店距离xxx米，该距离表示屏幕坐标到酒店坐标的距离
            &quot;userdistance&quot;:,//距您xxx米，该距离表示用户坐标到屏幕坐标的距离
            &quot;isnear&quot;:,//是否最近酒店，distance值最小的酒店为T,其他为F
            &quot;grade&quot;:, //酒店评分
            &quot;scorecount&quot;:, //评价次数
            &quot;minprice&quot;:,//最低价格
            &quot;minpmsprice&quot;,//最低价格对应房型的门市价
            &quot;ispms&quot;:,//是否签约（T/F）
            &quot;hotelpicnum&quot;:,//酒店图片总数
            &quot;avlblroomnum&quot;:,//可订房间数
            &quot;avlblroomdes&quot;:,//可订房描述
            &quot;descolor&quot;:,   //描述字体颜色  （状态: &quot;&gt;3间房间&quot;    绿色   32ab18 状态：&quot;&lt;=仅剩3间&quot;   红色   fb4b40 状态：满房   灰色    989898）
            &quot;ordernummon&quot;:,//月订单数
            &quot;rcntordertimedes&quot;:, //最近订单时间描述
            &quot;distancestr&quot;: //距离描述
            &quot;isteambuying&quot;:,//是否团购（T/F）
       *「增」&quot;greetscore&quot;:1080,//受欢迎指数
       *「增」 &quot;repairinfo&quot;:&quot;2014年装修&quot;,//装修信息
       *「增」 &quot;highlights&quot;:[{ 
                        &quot;name&quot;: &quot;wifi&quot;,//特点描述
                        &quot;icon&quot;:&quot;http://7xip11.com2.z0.glb.qiniucdn.com/view_theme_roomtype_detail_icon_zhuozi.png&quot;,
                         &quot;id&quot;:44
                     }
                ],  //酒店特点
            &quot;isonpromo&quot;:    // 是否特价，是否特价, 0非，&gt;=1特价
            &quot;promoinfo&quot;:[{ // 特价活动信息
                        &quot;promoid&quot;:// 特价活动 id （1：今夜特价 2.今日特价 3 主题酒店 6.一元秒杀）
                        &quot;promotype&quot;: //特价活动类型 id
                        &quot;promoprice&quot;: // 特价活动价格
            
                        }]
            &quot;teambuying&quot;:[{//团购信息
                            &quot;teambuyingname&quot;:,//团购名称
                            &quot;url&quot;://团购地址
                         }],
            &quot;isrecommend&quot;://是否推荐（T/F）
            &quot;hotelpic&quot;:[{//酒店图片
                            &quot;name&quot;:,//图片名称
                            &quot;pic&quot;:[{//图片集合
                                    &quot;url&quot;://图片地址
                                  }],
                 &quot;width&quot;: //图片宽度,
                 &quot;height&quot;: //图片高度
                       }],
            &quot;hotelfacility&quot;:[{//酒店设施
                                &quot;facid&quot;:,//设施id
                                &quot;facname&quot;://设施名称
                            }],
            //交通
            &quot;businesszone&quot;:[{//商圈
                            &quot;businesszonename&quot;://商圈名称
                            }],
            &quot;roomtype&quot;:[{//房型
                            &quot;roomtypeid&quot;:,//房型id
                            &quot;roomtypename&quot;:,//房型名称
                            &quot;roomtypeprice&quot;:,//房型价格
                            &quot;roomtypepmsprice&quot;:,//门市价格
                            &quot;roomtypevc&quot;:,//是否有可售房（T/F）该字段根据入参入住时间和离店时间获取该房型是否有可入住房间，并根据结果返回T、F
                            &quot;maxarea&quot;:,//最大面积
                            &quot;minarea&quot;:,//最小面积
                            &quot;bednum&quot;:,//床数量（1：单床房，2：双床房，大于2：其他房）
                            &quot;roomnum&quot;:,//房间数量
                            &quot;count&quot;:0, //房间内床数             &quot;beds&quot;:[{//床型信息
                        &quot;bedtypename&quot;:,//床型(双人床，单人床)
                        &quot;bedlength&quot;: //尺寸(1.5米，1.8米)
                    ]},
            &quot;roomtypepic&quot;:[{//房型图片信息
                              &quot;name&quot;:&#39;&#39;,//图片名称
                            &quot;pic&quot;:[{//图片集合
                                    &quot;url&quot;://图片地址
                                 }],
                 &quot;width&quot;: //图片宽度,
                 &quot;height&quot;: //图片高度
                          }]
            &quot;roomtypefacility&quot;:[{//房间设施
                                &quot;roomtypefacid&quot;://设施id
                                &quot;roomtypefacname&quot;://设施名称
                                }]
        
            &quot;service&quot;:[{//酒店服务
                                &quot;serviceid&quot;:,//服务id
                                &quot;servicename&quot;:,//服务名称
                     }]
            &quot;iscashback&quot;:  //是否返现（T/F）
       }],
       &quot;supplementhotel&quot;:[{
             &quot;hotelid&quot;:,//酒店id
            &quot;hotelname&quot;:,//酒店名称
            &quot;hotelrulecode&quot;:,//酒店切客规则类型码（1001规则A；1002规则B）
            &quot;online&quot;:,//是否在线(T/F)
            &quot;hotelvc&quot;:,//是否有可售房（T/F）该字段根据入参入住时间和离店时间获取该酒店是否有可入住房间，并根据结果返回T、F
            &quot;detailaddr&quot;:,//酒店地址
            &quot;hoteldis&quot;:,//酒店所属区县
            &quot;hotelcity&quot;:,//酒店所属城市
            &quot;hotelprovince&quot;:,//酒店所属省份
            &quot;hotelphone&quot;:,//联系电话
            &quot;hoteldisc&quot;:,//酒店简介
            &quot;longitude&quot;:, //酒店坐标(经度)
            &quot;latitude&quot;:,//酒店坐标(纬度)
            &quot;distance&quot;:,//酒店距离xxx米，该距离表示屏幕坐标到酒店坐标的距离
            &quot;userdistance&quot;:,//距您xxx米，该距离表示用户坐标到屏幕坐标的距离
            &quot;isnear&quot;:,//是否最近酒店，distance值最小的酒店为T,其他为F
            &quot;grade&quot;:, //酒店评分
            &quot;scorecount&quot;:, //评价次数
            &quot;minprice&quot;:,//最低价格
            &quot;minpmsprice&quot;,//最低价格对应房型的门市价
            &quot;ispms&quot;:,//是否签约（T/F）
            &quot;hotelpicnum&quot;:,//酒店图片总数
            &quot;avlblroomnum&quot;:,//可订房间数
            &quot;avlblroomdes&quot;:,//可订房描述
            &quot;descolor&quot;:,   //描述字体颜色  （状态: &quot;&gt;3间房间&quot;    绿色   32ab18 状态：&quot;&lt;=仅剩3间&quot;   红色   fb4b40 状态：满房   灰色    989898）
            &quot;ordernummon&quot;:,//月订单数
            &quot;rcntordertimedes&quot;:, //最近订单时间描述
            &quot;distancestr&quot;: //距离描述
            &quot;isteambuying&quot;:,//是否团购（T/F）
       *「增」&quot;greetscore&quot;:1080,//受欢迎指数
       *「增」 &quot;repairinfo&quot;:&quot;2014年装修&quot;,//装修信息
        *「增」 &quot;highlights&quot;:[
                    { 
                        &quot;name&quot;: &quot;wifi&quot;,//特点描述
                        &quot;icon&quot;:&quot;http://7xip11.com2.z0.glb.qiniucdn.com/view_theme_roomtype_detail_icon_zhuozi.png&quot;,
                         &quot;id&quot;:44
                     }
                ],  //酒店特点
            &quot;isonpromo&quot;:    // 是否特价，是否特价, 0非，&gt;=1特价
            &quot;promoinfo&quot;:[{ // 特价活动信息
                        &quot;promoid&quot;:// 特价活动 id （1：今夜特价 2.今日特价 3 主题酒店 6.一元秒杀）
                        &quot;promotype&quot;: //特价活动类型 id
                        &quot;promoprice&quot;: // 特价活动价格
            
                        }]
            &quot;teambuying&quot;:[{//团购信息
                            &quot;teambuyingname&quot;:,//团购名称
                            &quot;url&quot;://团购地址
                         }],
            &quot;isrecommend&quot;://是否推荐（T/F）
            &quot;hotelpic&quot;:[{//酒店图片
                            &quot;name&quot;:,//图片名称
                            &quot;pic&quot;:[{//图片集合
                                    &quot;url&quot;://图片地址
                                  }]
                       }],
            &quot;hotelfacility&quot;:[{//酒店设施
                                &quot;facid&quot;:,//设施id
                                &quot;facname&quot;://设施名称
                            }],
            //交通
            &quot;businesszone&quot;:[{//商圈
                            &quot;businesszonename&quot;://商圈名称
                            }],
            &quot;roomtype&quot;:[{//房型
                            &quot;roomtypeid&quot;:,//房型id
                            &quot;roomtypename&quot;:,//房型名称
                            &quot;roomtypeprice&quot;:,//房型价格
                            &quot;roomtypepmsprice&quot;:,//门市价格
                            &quot;roomtypevc&quot;:,//是否有可售房（T/F）该字段根据入参入住时间和离店时间获取该房型是否有可入住房间，并根据结果返回T、F
                            &quot;maxarea&quot;:,//最大面积
                            &quot;minarea&quot;:,//最小面积
                            &quot;bednum&quot;:,//床数量（1：单床房，2：双床房，大于2：其他房）
                            &quot;roomnum&quot;:,//房间数量
                            &quot;count&quot;:0, //房间内床数             &quot;beds&quot;:[{//床型信息
                        &quot;bedtypename&quot;:,//床型(双人床，单人床)
                        &quot;bedlength&quot;: //尺寸(1.5米，1.8米)
                    ]},
            &quot;roomtypepic&quot;:[{//房型图片信息
                              &quot;name&quot;:&#39;&#39;,//图片名称
                            &quot;pic&quot;:[{//图片集合
                                    &quot;url&quot;://图片地址
                                 }],
                 &quot;width&quot;: //图片宽度,
                 &quot;height&quot;: //图片高度
                          }]
            &quot;roomtypefacility&quot;:[{//房间设施
                                &quot;roomtypefacid&quot;://设施id
                                &quot;roomtypefacname&quot;://设施名称
                                }]
        
            &quot;service&quot;:[{//酒店服务
                                &quot;serviceid&quot;:,//服务id
                                &quot;servicename&quot;:,//服务名称
                     }]
            &quot;iscashback&quot;:  //是否返现（T/F）
       
       }]

}</code></pre>

<h3 id="toc_21"><code>「增」</code> 主题房信息查询</h3>

<hr>

<p><strong>业务说明：</strong></p>

<blockquote>
<p>眯客 3.2+ 新增需求， 主题房搜索接口</p>
</blockquote>

<p><strong>接口url：</strong></p>

<blockquote>
<p><a href="http://ip:port/ots/search/querythemes">http://ip:port/ots/search/querythemes</a></p>
</blockquote>

<p><strong>请求参数：</strong></p>

<table>
<thead>
<tr>
<th>字段</th>
<th>名称</th>
<th>是否必须</th>
<th>说明</th>
</tr>
</thead>

<tbody>
<tr>
<td>cityid</td>
<td>城市编码</td>
<td>是</td>
<td></td>
</tr>
<tr>
<td>hotelid</td>
<td>酒店id</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>hotelname</td>
<td>酒店名</td>
<td>否</td>
<td>支持模糊</td>
</tr>
<tr>
<td>hoteladdr</td>
<td>酒店地址</td>
<td>否</td>
<td>支持模糊</td>
</tr>
<tr>
<td>keyword</td>
<td>关键字</td>
<td>否</td>
<td>对于hotelname和hoteladdr做模糊查询用</td>
</tr>
<tr>
<td>disid</td>
<td>区县id</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>userlongitude</td>
<td>用户坐标(经度)</td>
<td>否</td>
<td>用户的经度</td>
</tr>
<tr>
<td>userlatitude</td>
<td>用户坐标(纬度)</td>
<td>否</td>
<td>用户的纬度</td>
</tr>
<tr>
<td>pillowlongitude</td>
<td>查询坐标(经度)</td>
<td>否</td>
<td>非搜索条件</td>
</tr>
<tr>
<td>pillowlatitude</td>
<td>查询坐标(纬度)</td>
<td>否</td>
<td>非搜索条件</td>
</tr>
<tr>
<td>range</td>
<td>附近范围</td>
<td>否</td>
<td>单位米，若查询坐标的值不为空，则取查询坐标方圆XXXX米的酒店</td>
</tr>
<tr>
<td>minprice</td>
<td>最低价格</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>maxprice</td>
<td>最高价格</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>bednum</td>
<td>房间床数量</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>startdateday</td>
<td>查询开始日期</td>
<td>否</td>
<td>yyyyMMdd</td>
</tr>
<tr>
<td>enddateday</td>
<td>查询结束日期</td>
<td>否</td>
<td>yyyyMMdd</td>
</tr>
<tr>
<td>startdate</td>
<td>入住时间</td>
<td>否</td>
<td>yyyyMMddhhmmss</td>
</tr>
<tr>
<td>enddate</td>
<td>离店时间</td>
<td>否</td>
<td>yyyyMMddhhmmss</td>
</tr>
<tr>
<td>page</td>
<td>第几页</td>
<td>是</td>
<td>|</td>
</tr>
<tr>
<td>limit</td>
<td>每页多少条</td>
<td>是</td>
<td></td>
</tr>
<tr>
<td>orderby</td>
<td>排序项目</td>
<td>否</td>
<td>1:距离(distance)<br> 2:是否推荐(recommend)<br> 3:最低价格(minprice)<br> 4: 酒店评分权重(score)<br> 5:人气（月销量）</td>
</tr>
<tr>
<td>isdiscount</td>
<td>是否考虑优惠价格</td>
<td>否</td>
<td>(T/F)，值为T，则最低价取优惠活动最低价，<br> 空或F则最低价取ota最低门市价</td>
</tr>
<tr>
<td>ishotelpic</td>
<td>是否返回酒店图片</td>
<td>否</td>
<td>(T/F)，空等同于F，值为T，则返回图片信息，<br> 空或F则不返回图片信息</td>
</tr>
<tr>
<td>isroomtype</td>
<td>是否返回房型信息</td>
<td>否</td>
<td>(T/F)，值为T，则返回房型信息，空或F则不返回房型信息</td>
</tr>
<tr>
<td>isroomtypepic</td>
<td>是否返回房型图片</td>
<td>否</td>
<td>(T/F)，值为T，则返回房型图片信息，<br>空或F则不返回房型图片信息</td>
</tr>
<tr>
<td>isroomtypefacility</td>
<td>是否返回房型设施</td>
<td>否</td>
<td>(T/F)，值为T，则返回房型设施信息，<br>空或F则不返回房型设施信息</td>
</tr>
<tr>
<td>isfacility</td>
<td>是否返回酒店设施</td>
<td>否</td>
<td>(T/F)，值为T，则返回酒店设施信息，<br>空或F则不返回酒店设施信息</td>
</tr>
<tr>
<td>isbusinesszone</td>
<td>是否返回酒店商圈信息</td>
<td>否</td>
<td>(T/F)，值为T，则返回酒店商圈信息，<br>空或F则不返回酒店设施信息</td>
</tr>
<tr>
<td>isbedtype</td>
<td>是否返回床型</td>
<td>否</td>
<td>(T/F)，值为T，则返回床型信息，<br>空或F则不返回酒店设施信息</td>
</tr>
<tr>
<td>isteambuying</td>
<td>是否返回团购信息</td>
<td>否</td>
<td>(T/F)，值为T，则返回团购信息，<br>空或F则不返回团购信息</td>
</tr>
<tr>
<td>ispms</td>
<td>是否签约</td>
<td>否</td>
<td>(T/F),值为T，则只返回签约酒店，<br>值为F或空，返回所有酒店</td>
</tr>
<tr>
<td>callmethod</td>
<td>调用来源</td>
<td>否</td>
<td>1-crs；<br>2-web；<br>3-wechat；<br>4-app(ios)；<br>5-app(Android)</td>
</tr>
<tr>
<td>callversion</td>
<td>调用版本</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>callentry</td>
<td>调用入口</td>
<td>否</td>
<td>1-摇一摇 <br>2-房态搜索入口<br> 3-切客</td>
</tr>
<tr>
<td>ip</td>
<td>IP地址</td>
<td>否</td>
<td>|</td>
</tr>
<tr>
<td>hoteltype</td>
<td>酒店类型</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>hardwarecode</td>
<td>硬件编码</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>otsversion</td>
<td>OTS版本</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>excludehotelid</td>
<td>排除酒店id</td>
<td>否</td>
<td>用户酒店附近搜索时，过滤当前的酒店</td>
</tr>
<tr>
<td>searchtype</td>
<td>搜索方式</td>
<td>否</td>
<td>0附近；<br>1商圈；<br>2机场车站；<br>3地铁路线；<br>4行政区；<br>5景点；<br>6医院；<br>7高校；<br>8酒店；<br>9地址；<br>-1不限)</td>
</tr>
<tr>
<td>posid</td>
<td>位置区域id</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>posname</td>
<td>位置区域名称</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>points</td>
<td>坐标集合</td>
<td>否</td>
<td>[[11,22], [10,12]]</td>
</tr>
<tr>
<td>bedtype</td>
<td>床型搜索</td>
<td>否</td>
<td>按指定床型搜索酒店:<br>1单床；<br>2双床；<br>-1不限。</td>
</tr>
</tbody>
</table>

<blockquote>
<p>API返回json数据示例：</p>
</blockquote>

<pre class="line-numbers"><code class="language-javascript">{
    &quot;success&quot;:true,
    &quot;errcode&quot;:,//错误码
    &quot;errmsg&quot;:,//错误信息
    &quot;count&quot;:,//酒店数量
    &quot;hotel&quot;:
        [{
            &quot;hotelid&quot;:,//酒店id
            &quot;hotelname&quot;:,//酒店名称
            &quot;hotelrulecode&quot;:,//酒店切客规则类型码（1001规则A；1002规则B）
            &quot;online&quot;:,//是否在线(T/F)
            &quot;hotelvc&quot;:,//是否有可售房（T/F）该字段根据入参入住时间和离店时间获取该酒店是否有可入住房间，并根据结果返回T、F
            &quot;detailaddr&quot;:,//酒店地址
            &quot;hoteldis&quot;:,//酒店所属区县
            &quot;hotelcity&quot;:,//酒店所属城市
            &quot;hotelprovince&quot;:,//酒店所属省份
            &quot;hotelphone&quot;:,//联系电话
            &quot;hoteldisc&quot;:,//酒店简介
            &quot;longitude&quot;:, //酒店坐标(经度)
            &quot;latitude&quot;:,//酒店坐标(纬度)
            &quot;distance&quot;:,//酒店距离xxx米，该距离表示屏幕坐标到酒店坐标的距离
            &quot;userdistance&quot;:,//距您xxx米，该距离表示用户坐标到屏幕坐标的距离
            &quot;isnear&quot;:,//是否最近酒店，distance值最小的酒店为T,其他为F
            &quot;grade&quot;:, //酒店评分
            &quot;scorecount&quot;:, //评价次数
            &quot;minprice&quot;:,//最低价格
            &quot;minpmsprice&quot;,//最低价格对应房型的门市价
            &quot;ispms&quot;:,//是否签约（T/F）
            &quot;hotelpicnum&quot;:,//酒店图片总数
            &quot;avlblroomnum&quot;:,//可订房间数
            &quot;avlblroomdes&quot;:,//可订房描述
            &quot;descolor&quot;:,   //描述字体颜色  （状态: &quot;&gt;3间房间&quot;    绿色   32ab18 状态：&quot;&lt;=仅剩3间&quot;   红色   fb4b40 状态：满房   灰色    989898）
            &quot;ordernummon&quot;:,//月订单数
            &quot;rcntordertimedes&quot;:, //最近订单时间描述
            &quot;distancestr&quot;: //距离描述
            &quot;isteambuying&quot;:,//是否团购（T/F）
       *「增」&quot;greetscore&quot;:1080,//受欢迎指数
       *「增」 &quot;repairinfo&quot;:&quot;2014年装修&quot;,//装修信息
         *「增」 &quot;highlights&quot;:[
                    { 
                        &quot;name&quot;: &quot;wifi&quot;,//特点描述
                        &quot;icon&quot;:&quot;http://7xip11.com2.z0.glb.qiniucdn.com/view_theme_roomtype_detail_icon_zhuozi.png&quot;,
                         &quot;id&quot;:44
                     }
                ],  //酒店特点
            &quot;isonpromo&quot;:    // 是否特价，是否特价, 0非，&gt;=1特价
            &quot;promoinfo&quot;:[{ // 特价活动信息
                        &quot;promoid&quot;:// 特价活动 id （1：今夜特价 2.今日特价 3 主题酒店 6.一元秒杀）
                        &quot;promotype&quot;: //特价活动类型 id
                        &quot;promoprice&quot;: // 特价活动价格
            
                        }]
            &quot;teambuying&quot;:[{//团购信息
                            &quot;teambuyingname&quot;:,//团购名称
                            &quot;url&quot;://团购地址
                         }],
            &quot;isrecommend&quot;://是否推荐（T/F）
            &quot;hotelpic&quot;:[{//酒店图片
                            &quot;name&quot;:,//图片名称
                            &quot;pic&quot;:[{//图片集合
                                    &quot;url&quot;://图片地址
                                  }]
                       }],
            &quot;hotelfacility&quot;:[{//酒店设施
                                &quot;facid&quot;:,//设施id
                                &quot;facname&quot;://设施名称
                            }],
            //交通
            &quot;businesszone&quot;:[{//商圈
                            &quot;businesszonename&quot;://商圈名称
                            }],
            &quot;roomtype&quot;:[{//房型
                            &quot;roomtypeid&quot;:,//房型id
                            &quot;roomtypename&quot;:,//房型名称
                            &quot;roomtypeprice&quot;:,//房型价格
                            &quot;roomtypepmsprice&quot;:,//门市价格
                            &quot;roomtypevc&quot;:,//是否有可售房（T/F）该字段根据入参入住时间和离店时间获取该房型是否有可入住房间，并根据结果返回T、F
                            &quot;maxarea&quot;:,//最大面积
                            &quot;minarea&quot;:,//最小面积
                            &quot;bednum&quot;:,//床数量（1：单床房，2：双床房，大于2：其他房）
                            &quot;roomnum&quot;:,//房间数量
                            &quot;count&quot;:0, //房间内床数             &quot;beds&quot;:[{//床型信息
                        &quot;bedtypename&quot;:,//床型(双人床，单人床)
                        &quot;bedlength&quot;: //尺寸(1.5米，1.8米)
            &quot;roomtypepic&quot;:[{//主题房房型图片
                              &quot;name&quot;:&#39;&#39;,//图片名称
                            &quot;pic&quot;:[{//图片集合
                                    &quot;url&quot;://图片地址
                                 }],
                 &quot;width&quot;: //图片宽度,
                 &quot;height&quot;: //图片高度
                          }]
                    ]},
            &quot;roomtypepic&quot;:[{//房型图片信息
                              &quot;name&quot;:&#39;&#39;,//图片名称
                            &quot;pic&quot;:[{//图片集合
                                    &quot;url&quot;://图片地址
                                 }],
                 &quot;width&quot;: //图片宽度,
                 &quot;height&quot;: //图片高度
                          }]
            &quot;roomtypefacility&quot;:[{//房间设施
                                &quot;roomtypefacid&quot;://设施id
                                &quot;roomtypefacname&quot;://设施名称
                                }]
        
            &quot;service&quot;:[{//酒店服务
                                &quot;serviceid&quot;:,//服务id
                                &quot;servicename&quot;:,//服务名称
                     }]
            &quot;iscashback&quot;:  //是否返现（T/F）
       }],
       &quot;supplementhotel&quot;:[{
             &quot;hotelid&quot;:,//酒店id
            &quot;hotelname&quot;:,//酒店名称
            &quot;hotelrulecode&quot;:,//酒店切客规则类型码（1001规则A；1002规则B）
            &quot;online&quot;:,//是否在线(T/F)
            &quot;hotelvc&quot;:,//是否有可售房（T/F）该字段根据入参入住时间和离店时间获取该酒店是否有可入住房间，并根据结果返回T、F
            &quot;detailaddr&quot;:,//酒店地址
            &quot;hoteldis&quot;:,//酒店所属区县
            &quot;hotelcity&quot;:,//酒店所属城市
            &quot;hotelprovince&quot;:,//酒店所属省份
            &quot;hotelphone&quot;:,//联系电话
            &quot;hoteldisc&quot;:,//酒店简介
            &quot;longitude&quot;:, //酒店坐标(经度)
            &quot;latitude&quot;:,//酒店坐标(纬度)
            &quot;distance&quot;:,//酒店距离xxx米，该距离表示屏幕坐标到酒店坐标的距离
            &quot;userdistance&quot;:,//距您xxx米，该距离表示用户坐标到屏幕坐标的距离
            &quot;isnear&quot;:,//是否最近酒店，distance值最小的酒店为T,其他为F
            &quot;grade&quot;:, //酒店评分
            &quot;scorecount&quot;:, //评价次数
            &quot;minprice&quot;:,//最低价格
            &quot;minpmsprice&quot;,//最低价格对应房型的门市价
            &quot;ispms&quot;:,//是否签约（T/F）
            &quot;hotelpicnum&quot;:,//酒店图片总数
            &quot;avlblroomnum&quot;:,//可订房间数
            &quot;avlblroomdes&quot;:,//可订房描述
            &quot;descolor&quot;:,   //描述字体颜色  （状态: &quot;&gt;3间房间&quot;    绿色   32ab18 状态：&quot;&lt;=仅剩3间&quot;   红色   fb4b40 状态：满房   灰色    989898）
            &quot;ordernummon&quot;:,//月订单数
            &quot;rcntordertimedes&quot;:, //最近订单时间描述
            &quot;distancestr&quot;: //距离描述
            &quot;isteambuying&quot;:,//是否团购（T/F）
      *「增」&quot;greetscore&quot;:1080,//受欢迎指数
       *「增」 &quot;repairinfo&quot;:&quot;2014年装修&quot;,//装修信息
         *「增」 &quot;highlights&quot;:[
                    { 
                        &quot;name&quot;: &quot;wifi&quot;,//特点描述
                        &quot;icon&quot;:&quot;http://7xip11.com2.z0.glb.qiniucdn.com/view_theme_roomtype_detail_icon_zhuozi.png&quot;,
                         &quot;id&quot;:44
                     }
                ],  //酒店特点
         *「增」 &quot;themetexts&quot;:[
                    { 
                        &quot;text&quot;: &quot;主题tag&quot;,//特点描述
                        &quot;color&quot;:&quot;66FFBB&quot;, // 如果颜色设定,则C端使用,否则C端自己控制
                       },
               { 
                        &quot;text&quot;: &quot;主题tag&quot;,//特点描述
                        &quot;color&quot;:&quot;66FFBB&quot;, // 如果颜色设定,则C端使用,否则C端自己控制
                      }
                ],  //主题酒店特点
            &quot;isonpromo&quot;:    // 是否特价，是否特价, 0非，&gt;=1特价
            &quot;promoinfo&quot;:[{ // 特价活动信息
                        &quot;promoid&quot;:// 特价活动 id （1：今夜特价 2.今日特价 3 主题酒店 6.一元秒杀）
                        &quot;promotype&quot;: //特价活动类型 id
                        &quot;promoprice&quot;: // 特价活动价格
            
                        }]
            &quot;teambuying&quot;:[{//团购信息
                            &quot;teambuyingname&quot;:,//团购名称
                            &quot;url&quot;://团购地址
                         }],
            &quot;isrecommend&quot;://是否推荐（T/F）
            &quot;hotelpic&quot;:[{//酒店图片
                            &quot;name&quot;:,//图片名称
                            &quot;pic&quot;:[{//图片集合
                                    &quot;url&quot;://图片地址
                                  }]
                       }],
            &quot;hotelfacility&quot;:[{//酒店设施
                                &quot;facid&quot;:,//设施id
                                &quot;facname&quot;://设施名称
                            }],
            //交通
            &quot;businesszone&quot;:[{//商圈
                            &quot;businesszonename&quot;://商圈名称
                            }],
            &quot;roomtype&quot;:[{//房型
                            &quot;roomtypeid&quot;:,//房型id
                            &quot;roomtypename&quot;:,//房型名称
                            &quot;roomtypeprice&quot;:,//房型价格
                            &quot;roomtypepmsprice&quot;:,//门市价格
                            &quot;roomtypevc&quot;:,//是否有可售房（T/F）该字段根据入参入住时间和离店时间获取该房型是否有可入住房间，并根据结果返回T、F
                            &quot;maxarea&quot;:,//最大面积
                            &quot;minarea&quot;:,//最小面积
                            &quot;bednum&quot;:,//床数量（1：单床房，2：双床房，大于2：其他房）
                            &quot;roomnum&quot;:,//房间数量
                            &quot;count&quot;:0, //房间内床数             &quot;beds&quot;:[{//床型信息
                        &quot;bedtypename&quot;:,//床型(双人床，单人床)
                        &quot;bedlength&quot;: //尺寸(1.5米，1.8米)
                    ]},
            &quot;roomtypepic&quot;:[{//房型图片信息
                              &quot;name&quot;:&#39;&#39;,//图片名称
                            &quot;pic&quot;:[{//图片集合
                                    &quot;url&quot;://图片地址
                                 }],
                 &quot;width&quot;: //图片宽度,
                 &quot;height&quot;: //图片高度
                          }]
            &quot;roomtypefacility&quot;:[{//房间设施
                                &quot;roomtypefacid&quot;://设施id
                                &quot;roomtypefacname&quot;://设施名称
                                }]
        
            &quot;service&quot;:[{//酒店服务
                                &quot;serviceid&quot;:,//服务id
                                &quot;servicename&quot;:,//服务名称
                     }]
            &quot;iscashback&quot;:  //是否返现（T/F）
       
       }]

}</code></pre>

<blockquote>
<p>API 返回数据示例
<code>js
{
    &quot;errcode&quot;: 0,
    &quot;errmsg&quot;: &quot;&quot;,
    &quot;hotels&quot;: [
        {
            &quot;hotel&quot;: [
                {
                    &quot;hotelid&quot;: &quot;4705&quot;,
                    &quot;hotelname&quot;: &quot;重庆帝临酒店&quot;,
                    &quot;hotelrulecode&quot;: 1002,
                    &quot;online&quot;: &quot;T&quot;,
                    &quot;hotelvc&quot;: &quot;T&quot;,
                    &quot;detailaddr&quot;: &quot;重庆市沙坪坝区双巷子街6号附11号&quot;,
                    &quot;hoteldis&quot;: &quot;S 沙坪坝区&quot;,
                    &quot;hotelcity&quot;: &quot;500000&quot;,
                    &quot;hotelprovince&quot;: &quot;Z 重庆市&quot;,
                    &quot;hotelphone&quot;: &quot;023-65348952&quot;,
                    &quot;hoteldisc&quot;: &quot;酒店地理位置优越，交通方便，经济实惠，期待您的入驻。&quot;,
                    &quot;longitude&quot;: 106.461941,
                    &quot;latitude&quot;: 29.558707,
                    &quot;distance&quot;: 2179413.1303076735,
                    &quot;userdistance&quot;: 2179413.1303076735,
                    &quot;isnear&quot;: &quot;F&quot;,
                    &quot;grade&quot;: 0,
                    &quot;minprice&quot;: 158,
                    &quot;minpmsprice&quot;: 488,
                    &quot;ispms&quot;: &quot;T&quot;,
                    &quot;hotelpicnum&quot;: 40,
                    &quot;avlblroomnum&quot;: 18,
                    &quot;avlblroomdes&quot;: &quot;&quot;,
                    &quot;descolor&quot;: &quot;32ab18&quot;,
                    &quot;ordernummon&quot;: &quot;0&quot;,
                    &quot;rcntordertimedes&quot;: &quot;最近预订1天前&quot;,
                    &quot;greetscore&quot;: 1080,
                    &quot;repairinfo&quot;: &quot;2014年装修&quot;,
                    &quot;highlights&quot;: [
                        {
                            &quot;name&quot;: &quot;wifi&quot;,
                            &quot;icon&quot;: &quot;http://7xip11.com2.z0.glb.qiniucdn.com/view_theme_roomtype_detail_icon_zhuozi.png&quot;,
                            &quot;id&quot;: 44
                        }
                    ],
                    &quot;themetexts&quot;: [
                        {
                            &quot;text&quot;: &quot;主题tag&quot;,
                            &quot;color&quot;: &quot;66FFBB&quot;
                        },
                        {
                            &quot;text&quot;: &quot;主题tag&quot;,
                            &quot;color&quot;: &quot;66FFBB&quot;
                        }
                    ],
                    &quot;promoinfo&quot;: [
                        {
                            &quot;promoprice&quot;: &quot;60&quot;,
                            &quot;promoid&quot;: 1,
                            &quot;promotype&quot;: 2
                        },
                        {
                            &quot;promoprice&quot;: &quot;90&quot;,
                            &quot;promoid&quot;: 1,
                            &quot;promotype&quot;: 3
                        },
                        {
                            &quot;promoid&quot;: 3,
                            &quot;promotype&quot;: 21
                        }
                    ],
                    &quot;teambuying&quot;: [
                        {
                           &quot;teambuyingname&quot;: &quot;&quot;,
                            &quot;url&quot;: &quot;&quot;
                        }
                    ],
                    &quot;isrecommend&quot;: &quot;F&quot;,
                    &quot;hotelpic&quot;: [
                        {
                            &quot;name&quot;: &quot;def&quot;,
                            &quot;pic&quot;: [
                                {
                                    &quot;url&quot;: &quot;https://dn-imke-pro.qbox.me/FlXbAU1AZ_rFNYtdiT6j4N37BylS&quot;
                                }
                            ]
                        },
                        {
                            &quot;name&quot;: &quot;lobby&quot;,
                            &quot;pic&quot;: [
                                {
                                    &quot;url&quot;: &quot;https://dn-imke-pro.qbox.me/FgKBX2nbglK2U0cpMXUVGBKVFXTV&quot;
                                }
                            ]
                        },
                        {
                            &quot;name&quot;: &quot;mainHousing&quot;,
                            &quot;pic&quot;: [
                                {
                                    &quot;url&quot;: &quot;https://dn-imke-pro.qbox.me/FootNlBX0VNiFABYSdE7mTg-T0oq&quot;
                                }
                            ]
                        }
                    ],
                    &quot;themepic&quot;: [
                        {
                            &quot;name&quot;: &quot;sb&quot;,
                &quot;pic&quot;: [
                                {
                                    &quot;url&quot;: &quot;https://dn-imke-pro.qbox.me/FlXbAU1AZ_rFNYtdiT6j4N37BylS&quot;
                                }
                            ]
                        }
                    ],
                    &quot;hotelfacility&quot;: [
                        {
                            &quot;facid&quot;: 10,
                            &quot;facname&quot;: &quot;叫醒服务&quot;
                        },
                        {
                            &quot;facid&quot;: 9,
                            &quot;facname&quot;: &quot;棋牌室&quot;
                        }
                    ],
                    &quot;businesszone&quot;: [                        
                    ]
                }
            ]
        }
    ]
   }
</code></p>
</blockquote>

<h2 id="toc_22">推荐资源配置</h2>

<h3 id="toc_23">获取发现列表页和Banner页</h3>

<p><strong>业务说明：</strong></p>

<blockquote>
<p>根据 cityid 获取 banner 推荐信息</p>
</blockquote>

<p><strong>接口 url：</strong></p>

<blockquote>
<p><a href="http://ip:port/ots/recommend/query">http://ip:port/ots/recommend/query</a></p>
</blockquote>

<p><strong>请求参数：</strong></p>

<table>
<thead>
<tr>
<th>字段</th>
<th>名称</th>
<th>是否必须</th>
<th>说明</th>
</tr>
</thead>

<tbody>
<tr>
<td>citycode</td>
<td>城市编码</td>
<td>是</td>
<td></td>
</tr>
<tr>
<td>platform</td>
<td>推送平台</td>
<td>是</td>
<td>1-Android；<br>2-IOS；<br>4-wechat；</td>
</tr>
<tr>
<td>position</td>
<td>推荐位</td>
<td>是</td>
<td>921A：首页，<br> 921C：发现首页，<br> 921D：发现列表页，<br>921B：广告推荐位</td>
</tr>
<tr>
<td>callmethod</td>
<td>调用来源</td>
<td>是</td>
<td>1-crs；<br>2-web；<br>3-wechat；<br>4-app(ios)；<br>5-app(Android)</td>
</tr>
<tr>
<td>callversion</td>
<td>调用版本</td>
<td>是</td>
<td></td>
</tr>
<tr>
<td>ip</td>
<td>IP地址</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>hardwarecode</td>
<td>硬件编码</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>otsversion</td>
<td>OTS版本</td>
<td>否</td>
<td></td>
</tr>
</tbody>
</table>

<blockquote>
<p>API返回json返回说明：</p>
</blockquote>

<pre class="line-numbers"><code class="language-javascript">{
    &quot;success&quot;: true,
    &quot;banners&quot;: [
        {
            &quot;name&quot;: &quot;上海那些脑洞大开的主题酒店&quot;, //推荐内容名称
            &quot;description&quot;: &quot;上海那些脑洞大开的主题酒店&quot;,//推荐内容描述
            &quot;imgurl&quot;: &quot;http://7xn138.com2.z0.glb.qiniucdn.com/主题酒店滚动条.jpg&quot;, //图片地址
            &quot;url&quot;: &quot;www.imike.com/app&quot;, //推荐外链地址
            &quot;detailid&quot;: 8, //推荐内链 id
            &quot;querytype&quot;: 1, // 推荐类型
            &quot;createtime&quot;: 1443276228000 // 创建时间
        }
    ]
}</code></pre>

<blockquote>
<p>API返回json数据示例：</p>
</blockquote>

<pre class="line-numbers"><code class="language-javascript">{
    &quot;success&quot;: true,
    &quot;banners&quot;: [
        {
            &quot;name&quot;: &quot;上海那些脑洞大开的主题酒店&quot;,
            &quot;description&quot;: &quot;上海那些脑洞大开的主题酒店&quot;,
            &quot;imgurl&quot;: &quot;http://7xn138.com2.z0.glb.qiniucdn.com/主题酒店滚动条.jpg&quot;,
            &quot;detailid&quot;: 8,
            &quot;querytype&quot;: 1,
            &quot;createtime&quot;: 1443276228000
        },
        {
            &quot;name&quot;: &quot;眯客一周年&quot;,
            &quot;description&quot;: &quot;眯客一周年&quot;,
            &quot;imgurl&quot;: &quot;http://7xn138.com2.z0.glb.qiniucdn.com/20151031imike1year.jpg&quot;,
            &quot;url&quot;: &quot;&quot;,
            &quot;detailid&quot;: 11,
            &quot;querytype&quot;: 1,
            &quot;createtime&quot;: 1444912720000
        },
        {
            &quot;name&quot;: &quot;眯客3.0正式上线&quot;,
            &quot;description&quot;: &quot;眯客3.0正式上线&quot;,
            &quot;imgurl&quot;: &quot;http://7xn138.com2.z0.glb.qiniucdn.com/20151031mike3.0.png&quot;,
            &quot;url&quot;: &quot;&quot;,
            &quot;detailid&quot;: 10,
            &quot;querytype&quot;: 1,
            &quot;createtime&quot;: 1444726043000
        }
    ]
}</code></pre>

<h3 id="toc_24">「增」查询首屏推荐信息</h3>

<p><strong>业务说明：</strong></p>

<blockquote>
<p>根据 cityid 获取首屏推荐信息</p>
</blockquote>

<p><strong>接口 url：</strong></p>

<blockquote>
<p><a href="http://ip:port/ots/recommend/queryloading">http://ip:port/ots/recommend/queryloading</a></p>
</blockquote>

<p><strong>请求参数：</strong></p>

<table>
<thead>
<tr>
<th>字段</th>
<th>名称</th>
<th>是否必须</th>
<th>说明</th>
</tr>
</thead>

<tbody>
<tr>
<td>cityid</td>
<td>城市编码</td>
<td>是</td>
<td></td>
</tr>
<tr>
<td>callmethod</td>
<td>调用来源</td>
<td>是</td>
<td>1-crs；<br>2-web；<br>3-wechat；<br>4-app(ios)；<br>5-app(Android)</td>
</tr>
<tr>
<td>callversion</td>
<td>调用版本</td>
<td>是</td>
<td></td>
</tr>
<tr>
<td>ip</td>
<td>IP地址</td>
<td>是</td>
<td></td>
</tr>
<tr>
<td>hardwarecode</td>
<td>硬件编码</td>
<td>是</td>
<td></td>
</tr>
<tr>
<td>otsversion</td>
<td>OTS版本</td>
<td>否</td>
<td></td>
</tr>
</tbody>
</table>

<blockquote>
<p>API返回json返回说明：</p>
</blockquote>

<pre class="line-numbers"><code class="language-javascript">{
    &quot;success&quot;: true,
    &quot;loading&quot;: [ 
        {
            &quot;name&quot;: &quot; 新版本介绍1&quot;, // 图片名称
            &quot;description&quot;: &quot;新版本介绍1&quot;, //图片描述
            &quot;imgurl&quot;: &quot;http://7xn138.com2.z0.glb.qiniucdn.com/主题酒店滚动条.jpg&quot;, // 图片链接
            &quot;url&quot;: &quot;http://www.baidu.com&quot;,  //推荐跳转外链
            &quot;detailid&quot;: 8, //推荐跳转内链 id
            &quot;querytype&quot;: 1, // 推荐类型
            &quot;createtime&quot;: 1443276228000 // 创建时间
        }
            ]
}</code></pre>

<blockquote>
<p>API返回json数据示例：</p>
</blockquote>

<pre class="line-numbers"><code class="language-javascript">{
    &quot;success&quot;: true,
    &quot;loading&quot;: [
        {
            &quot;name&quot;: &quot; 新版本介绍1&quot;,
            &quot;description&quot;: &quot;新版本介绍1&quot;,
            &quot;imgurl&quot;: &quot;http://7xn138.com2.z0.glb.qiniucdn.com/主题酒店滚动条.jpg&quot;,
            &quot;url&quot;: &quot;http://www.baidu.com&quot;,
            &quot;detailid&quot;: 8,
            &quot;querytype&quot;: 1,
            &quot;createtime&quot;: 1443276228000
        },
        {
            &quot;name&quot;: &quot;眯客一周年&quot;,
            &quot;description&quot;: &quot;眯客一周年&quot;,
            &quot;imgurl&quot;: &quot;http://7xn138.com2.z0.glb.qiniucdn.com/20151031imike1year.jpg&quot;,
            &quot;url&quot;: &quot;&quot;,
            &quot;detailid&quot;: 11,
            &quot;querytype&quot;: 1,
            &quot;createtime&quot;: 1444912720000
        },
        {
            &quot;name&quot;: &quot;眯客3.0正式上线&quot;,
            &quot;description&quot;: &quot;眯客3.0正式上线&quot;,
            &quot;imgurl&quot;: &quot;http://7xn138.com2.z0.glb.qiniucdn.com/20151031mike3.0.png&quot;,
            &quot;url&quot;: &quot;&quot;,
            &quot;detailid&quot;: 10,
            &quot;querytype&quot;: 1,
            &quot;createtime&quot;: 1444726043000
        }
    ]
}</code></pre>

<h2 id="toc_25">评分</h2>

<h3 id="toc_26"><code>「修」</code>  获取评分项信息</h3>

<p><strong>业务说明：</strong></p>

<blockquote>
<p>查询系统的已有的酒店评分信息和评价标签</p>
</blockquote>

<p><strong>接口 url：</strong></p>

<blockquote>
<p><a href="http://ip:port/ots/score/subject/querylist">http://ip:port/ots/score/subject/querylist</a></p>
</blockquote>

<p><strong>请求参数：</strong></p>

<table>
<thead>
<tr>
<th>字段</th>
<th>名称</th>
<th>是否必须</th>
<th>说明</th>
</tr>
</thead>

<tbody>
<tr>
<td>subjectid</td>
<td>评分项id</td>
<td>否</td>
<td>|</td>
</tr>
<tr>
<td>callmethod</td>
<td>调用来源</td>
<td>是</td>
<td>1-crs；<br>2-web；<br>3-wechat；<br>4-app(ios)；<br>5-app(Android)</td>
</tr>
<tr>
<td>callversion</td>
<td>调用版本</td>
<td>是</td>
<td></td>
</tr>
<tr>
<td>ip</td>
<td>IP地址</td>
<td>是</td>
<td></td>
</tr>
<tr>
<td>hardwarecode</td>
<td>硬件编码</td>
<td>是</td>
<td></td>
</tr>
<tr>
<td>otsversion</td>
<td>OTS版本</td>
<td>否</td>
<td></td>
</tr>
</tbody>
</table>

<blockquote>
<p>API返回json返回说明：</p>
</blockquote>

<pre class="line-numbers"><code class="language-javascript">{
    &quot;success&quot;:true,
    &quot;errcode&quot;:,//错误码
    &quot;errmsg&quot;:,//错误信息
    &quot;subjects&quot;: [{//评分项
        &quot;subjectid&quot;:,//评分项id
        &quot;subjectname&quot;://评分项名称
        &quot;minno&quot;:,//最小分值
        &quot;maxno&quot;:,//最大分值
        &quot;dno&quot;:,//允许最小值差（每个分值之间的差值，例如：最低分是1分，最高分是5分，值差是1分，则分数分别是1,2,3,4,5分共5个分级）
        &quot;wfun&quot;://权重系数
    }],
*『增』 &quot;hotelmark&quot;:[{
        &quot;id&quot;:1,  //mark主键
        &quot;mark&quot;:&quot;非常好&quot; //mark变签内容
}]

}</code></pre>

<blockquote>
<p>API返回json数据示例：</p>
</blockquote>

<pre class="line-numbers"><code class="language-javascript">{
    &quot;subjects&quot;: [
        {
            &quot;wfun&quot;: 4,
            &quot;maxno&quot;: 5,
            &quot;minno&quot;: 1,
            &quot;dno&quot;: 1,
            &quot;mno&quot;: 1,
            &quot;subjectname&quot;: &quot;卫生&quot;,
            &quot;subjectid&quot;: 23981766981189704
        },
        {
            &quot;wfun&quot;: 3,
            &quot;maxno&quot;: 5,
            &quot;minno&quot;: 1,
            &quot;dno&quot;: 1,
            &quot;mno&quot;: 1,
            &quot;subjectname&quot;: &quot;交通&quot;,
            &quot;subjectid&quot;: 23981766981189704
        },
        {
            &quot;wfun&quot;: 3,
            &quot;maxno&quot;: 5,
            &quot;minno&quot;: 1,
            &quot;dno&quot;: 1,
            &quot;mno&quot;: 1,
            &quot;subjectname&quot;: &quot;性价比&quot;,
            &quot;subjectid&quot;: 23981766981189704
        }
    ],
    &quot;hotelmark&quot;:[{
        &quot;id&quot;:1,
        &quot;mark&quot;:&quot;非常好&quot;
    }],
    &quot;success&quot;: true
}</code></pre>

<h3 id="toc_27"><code>「修」</code> 酒店评价信息维护</h3>

<p><strong>业务说明：</strong></p>

<blockquote>
<p>查询系统的已有的酒店评分信息和评价标签</p>
</blockquote>

<p><strong>接口 url：</strong></p>

<blockquote>
<p><a href="http://ip:port/ots/score/modify">http://ip:port/ots/score/modify</a></p>
</blockquote>

<p><strong>请求参数：</strong></p>

<table>
<thead>
<tr>
<th>字段</th>
<th>名称</th>
<th>是否必须</th>
<th>说明</th>
</tr>
</thead>

<tbody>
<tr>
<td>orderid</td>
<td>订单id</td>
<td>是</td>
<td>|</td>
</tr>
<tr>
<td>token</td>
<td>授权token</td>
<td>是</td>
<td>|</td>
</tr>
<tr>
<td>actiontype</td>
<td>操作类型</td>
<td>是</td>
<td>i添加<br>m修改<br>d删除</td>
</tr>
<tr>
<td>score</td>
<td>评价内容</td>
<td>否</td>
<td>|</td>
</tr>
<tr>
<td>phone</td>
<td>评价人手机号</td>
<td>否</td>
<td>|</td>
</tr>
<tr>
<td>isdefault</td>
<td>默认评价</td>
<td>否</td>
<td>判断是否系统默认评价(T/F)</td>
</tr>
<tr>
<td>*『增』 markids</td>
<td>评论标签id</td>
<td>否</td>
<td>多个标签用逗号”,”隔开</td>
</tr>
<tr>
<td>集合参数(scorepics):</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>scorepictitle</td>
<td>图片标题</td>
<td>否</td>
<td>|</td>
</tr>
<tr>
<td>scorepicurl</td>
<td>评价图片url</td>
<td>否</td>
<td>|</td>
</tr>
<tr>
<td>集合参数(grades)：</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>subjectid</td>
<td>评分项id</td>
<td>否</td>
<td>集合内必填</td>
</tr>
<tr>
<td>grade</td>
<td>分数</td>
<td>否</td>
<td>集合内必填</td>
</tr>
<tr>
<td>callmethod</td>
<td>调用来源</td>
<td>是</td>
<td>1-crs；<br>2-web；<br>3-wechat；<br>4-app(ios)；<br>5-app(Android)</td>
</tr>
<tr>
<td>callversion</td>
<td>调用版本</td>
<td>是</td>
<td></td>
</tr>
<tr>
<td>ip</td>
<td>IP地址</td>
<td>是</td>
<td></td>
</tr>
<tr>
<td>hardwarecode</td>
<td>硬件编码</td>
<td>是</td>
<td></td>
</tr>
<tr>
<td>otsversion</td>
<td>OTS版本</td>
<td>否</td>
<td></td>
</tr>
</tbody>
</table>

<blockquote>
<p>API返回json返回说明：</p>
</blockquote>

<pre class="line-numbers"><code class="language-javascript">{
    &quot;success&quot;:true,
    &quot;errcode&quot;:,//错误码
    &quot;errmsg&quot;</code></pre>

<blockquote>
<p>API返回json返回示例：</p>
</blockquote>

<pre class="line-numbers"><code class="language-javascript">{
    &quot;success&quot;:true,
    &quot;errcode&quot;:0,
    &quot;errmsg&quot;:&quot;&quot;</code></pre>

<h2 id="toc_28">『修』查询酒店评价信息</h2>

<hr>

<p><strong>业务说明：</strong></p>

<blockquote>
<p>2分归入差评，&gt;=2且<3分归入一般，>3分归入好评.</p>
</blockquote>

<p><strong>接口url:</strong></p>

<blockquote>
<p><a href="http://ip:port/ots/score/querylist">http://ip:port/ots/score/querylist</a></p>
</blockquote>

<p><strong>请求参数：</strong></p>

<table>
<thead>
<tr>
<th>字段</th>
<th>名称</th>
<th>是否必须</th>
<th>说明</th>
</tr>
</thead>

<tbody>
<tr>
<td>﻿hotelid</td>
<td>酒店id</td>
<td>是</td>
<td></td>
</tr>
<tr>
<td>roomtypeid</td>
<td>房型id</td>
<td>否</td>
<td>若不为空，则返回数据仅包含该房型的对应信息</td>
</tr>
<tr>
<td>roomid</td>
<td>房间id</td>
<td>否</td>
<td>若不为空，则返回数据仅包含该房间的对应信息</td>
</tr>
<tr>
<td>isdetail</td>
<td>是否返回评价明细</td>
<td>否</td>
<td>(T/F)，若为空或F，则不返回评价明细，若为T则返回评价明细</td>
</tr>
<tr>
<td>maxgrade</td>
<td>最高分值</td>
<td>否</td>
<td>(0-5)取小于等于该分值的评价信息</td>
</tr>
<tr>
<td>mingrade</td>
<td>最低分值</td>
<td>否</td>
<td>(0-5)取大于等于该分值的评价信息</td>
</tr>
<tr>
<td>gradetype</td>
<td>评价分类</td>
<td>否</td>
<td>好：G，中：M,  差：B， 全部：A</td>
</tr>
<tr>
<td>subjectid</td>
<td>评价类型</td>
<td>否</td>
<td>结合t_subject表的评分项目类型</td>
</tr>
<tr>
<td>orderby</td>
<td>排序项</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>startdateday</td>
<td>查询开始日期</td>
<td>否</td>
<td>yyyyMMdd</td>
</tr>
<tr>
<td>enddateday</td>
<td>查询结束日期</td>
<td>否</td>
<td>yyyyMMdd</td>
</tr>
<tr>
<td>starttime</td>
<td>开始时间</td>
<td>否</td>
<td>开始时间，若不为空则明细评价取该时间以后的评价信息；格式yyyyMMddhhmmss</td>
</tr>
<tr>
<td>endtime</td>
<td>结束时间</td>
<td>否</td>
<td>结束时间，若不为空，则明细评价取该时间以前的评价信息；格式yyyyMMddhhmmss</td>
</tr>
<tr>
<td>page</td>
<td>第几页</td>
<td>否</td>
<td>若isdetail是T，则此项必填</td>
</tr>
<tr>
<td>limit</td>
<td>每页多少条</td>
<td>否</td>
<td>若isdetail是T，则此项必填</td>
</tr>
<tr>
<td>callmethod</td>
<td>调用来源</td>
<td>否</td>
<td>1-crs；<br>2-web；<br>3-wechat；<br>4-app(ios)；<br>5-app(Android)</td>
</tr>
<tr>
<td>callversion</td>
<td>调用版本</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>ip</td>
<td>IP地址</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>hardwarecode</td>
<td>硬件编码</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>otsversion</td>
<td>OTS版本</td>
<td>否</td>
<td></td>
</tr>
</tbody>
</table>

<blockquote>
<p>API返回json数据示例：</p>
</blockquote>

<pre class="line-numbers"><code class="language-javascript">{
     &quot;success&quot;:true,
      &quot;errcode&quot;:,//错误码
      &quot;errmsg&quot;:,//错误信息
      &quot;hotel&quot;:[{//酒店信息
                &quot;hotelid&quot;:,//酒店id
                &quot;hotelgrade&quot;:,//酒店总分
                &quot;scorecount&quot;:,//评价次数
        *『增』    &quot;hotelmark&quot;:[{//酒店评价标签
                        &quot;id&quot;:1 , //mark主键
                        &quot;mark&quot;:非常好 ,//mark变签内容
                }],
                &quot;hotelscoresubject&quot;:[{//酒店单项总分
                            &quot;subjectid&quot;:,//评价项目
                            &quot;subjectname&quot;:,//评价名称
                            &quot;grade&quot;:4.5//分值，浮点型，1位小数（4舍5入）
                }]
                &quot;roomtype&quot;:[{//房型评价信息
                            &quot;hotelid&quot;:,//酒店id
                            &quot;roomtypeid&quot;:,//房型id
                            &quot;roomtypegrade&quot;:,//房型总分
                            &quot;scorecount&quot;:,//评价次数
                            &quot;roomtypescoresubject&quot;:[{//房型单项分数
                                    &quot;subjectid&quot;:,//评价项目
                                    &quot;subjectname&quot;:,//评价名称
                                    &quot;grade&quot;://单项总分
                            }],
                }],
                &quot;room&quot;:[{//房间评价信息
                            &quot;roomtypeid&quot;://房型id
                            &quot;roomid&quot;:,//房间id
                            &quot;roomgrade&quot;:,//房间总分
                            &quot;roomscoresubject&quot;:[{//房型单项分数
                                &quot;subjectid&quot;:,//评价项目
                                &quot;subjectname&quot;:,//评价名称
                                &quot;grade&quot;://单项总分
                            }]
                }],
                &quot;scoremxcount&quot;:,//评价明细条数
                &quot;scoremx&quot;:[{ //评价明细
                                &quot;orderid&quot;:,//订单号
                                &quot;phone&quot;:,//评价人手机号
                                &quot;roomtypeid&quot;://房型id
                                &quot;roomid&quot;:,//房间id
                                &quot;score&quot;:,//评价内容
                                &quot;allgrade&quot;:,//综合评分
                                &quot;createtime&quot;:,//评价时间
                                &quot;hotelreply&quot;:,//客服回复
                                &quot;hotelreplytime&quot;:,//客服回复时间
                                &quot;hotelgeireply&quot;:,//酒店回复
                                &quot;hotelgeireplytime&quot;:,//客服回复时间
                                &quot;scorepic&quot;:[{//评价图片信息
                                    &quot;url&quot;://图片地址
                                }],
                &quot;roomscoresubject&quot;:[{//评价项目
                        &quot;subjectid&quot;:,//评价项目
                        &quot;subjectname&quot;:,//评价名称
                        &quot;grade&quot;://分值
                }]
        }]
    }]
}</code></pre>

<h2 id="toc_29">『增』请求日志记录</h2>

<hr>

<p><strong>业务说明：</strong></p>

<blockquote>
<p>记录用户所有请求信息.</p>
</blockquote>

<p><strong>接口url:</strong></p>

<blockquote>
<p><a href="http://ip:port/ots/sys/viewevent">http://ip:port/ots/sys/viewevent</a></p>
</blockquote>

<p><strong>请求参数：</strong></p>

<table>
<thead>
<tr>
<th>字段</th>
<th>名称</th>
<th>是否必须</th>
<th>说明</th>
</tr>
</thead>

<tbody>
<tr>
<td>tourl</td>
<td>view的目标url/事件url</td>
<td>是</td>
<td></td>
</tr>
<tr>
<td>actiontype</td>
<td>event/view</td>
<td>是</td>
<td></td>
</tr>
<tr>
<td>fromurl</td>
<td>view的来源url/事件url</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>params</td>
<td>请求参数</td>
<td>是</td>
<td>json格式字符串[{<q>hotel_id</q>:1,<q>city_code</q>:123 }]</td>
</tr>
<tr>
<td>﻿longitude</td>
<td>用户精度</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>latitude</td>
<td>用户纬度</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>cityid</td>
<td>用户城市id</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>ip</td>
<td>用户ip地址</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>callmethod</td>
<td>请求来源</td>
<td>是</td>
<td>1-crs；<br> 2-web；<br>3-wechat；<br>4-app(ios)；<br>5-app(Android)</td>
</tr>
<tr>
<td>version</td>
<td>app版本</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>wifimacaddr</td>
<td>wifi mac地址</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>bimacaddr</td>
<td>蓝牙 mac地址</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>simsn</td>
<td>msn卡</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>mid</td>
<td>会员id</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>bussinesstype</td>
<td>业务类型</td>
<td>否</td>
<td>类型：<br>1酒店；<br>2：订单<br>3：其它</td>
</tr>
<tr>
<td>bussinessid</td>
<td>业务id</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>hardwarecode</td>
<td>硬件编码</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>imei</td>
<td>imei号</td>
<td>否</td>
<td></td>
</tr>
</tbody>
</table>

<blockquote>
<p>API返回json数据说明：</p>
</blockquote>

<pre class="line-numbers"><code class="language-javascript">{
    &quot;success&quot;:true,
    &quot;errcode&quot;:,//错误码
    &quot;errmsg&quot;:,//错误信息
}</code></pre>

<blockquote>
<p>API返回json数据示例：</p>
</blockquote>

<pre class="line-numbers"><code class="language-javascript">{
    &quot;success&quot;:true,
    &quot;errcode&quot;:0,
    &quot;errmsg&quot;:&quot;&quot;
}</code></pre>

<h2 id="toc_30">订单接口</h2>

<h3 id="toc_31"><code>「修」</code> 查询订单详情</h3>

<hr>

<p><strong>业务说明：</strong></p>

<p>查询订单信息，若订单有删除标记，则不返回该笔订单信息
眯客3.0增加 订单根据业务要求，显示需要给前端显示的状态（3.0暂时不做）</p>

<p><strong>接口url：</strong></p>

<blockquote>
<p><a href="http://ip:port/ots/order/querylist">http://ip:port/ots/order/querylist</a></p>
</blockquote>

<p><strong>请求参数：</strong></p>

<table>
<thead>
<tr>
<th>字段</th>
<th>名称</th>
<th>是否必须</th>
<th>说明</th>
</tr>
</thead>

<tbody>
<tr>
<td>﻿token</td>
<td>授权token</td>
<td>是</td>
<td></td>
</tr>
<tr>
<td>orderid</td>
<td>订单id</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>startdateday</td>
<td>查询开始日期</td>
<td>否</td>
<td>yyyyMMdd</td>
</tr>
<tr>
<td>enddateday</td>
<td>查询结束日期</td>
<td>否</td>
<td>yyyyMMdd</td>
</tr>
<tr>
<td>begintime</td>
<td>查询时间段的开始时</td>
<td>否</td>
<td>yyyyMMddhhmmss</td>
</tr>
<tr>
<td>endtime</td>
<td>查询时间段的结束时</td>
<td>否</td>
<td>yyyyMMddhhmmss</td>
</tr>
<tr>
<td>ordertype</td>
<td>订单状态</td>
<td>否</td>
<td>多状态用”，”隔开</td>
</tr>
<tr>
<td>isscore</td>
<td>是否评价</td>
<td>否</td>
<td>T/F</td>
</tr>
<tr>
<td>page</td>
<td>页数</td>
<td>是</td>
<td>第一页为1</td>
</tr>
<tr>
<td>limit</td>
<td>每页显示记录条数</td>
<td>是</td>
<td>必须为正数</td>
</tr>
<tr>
<td>hotelid</td>
<td>酒店id</td>
<td>否</td>
<td>只查询该酒店订单</td>
</tr>
<tr>
<td>callmethod</td>
<td>调用来源</td>
<td>否</td>
<td>1-crs；2-web；3-wechat；4-app(ios)；5-app(Android)</td>
</tr>
<tr>
<td>callversion</td>
<td>调用版本</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>ip</td>
<td>IP地址</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>hardwarecode</td>
<td>硬件编码</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>otsversion</td>
<td>OTS版本</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>statetype</td>
<td>取值范围</td>
<td>否</td>
<td>[all、doing、done]</td>
</tr>
</tbody>
</table>

<blockquote>
<p>API返回json数据示例：</p>
</blockquote>

<pre class="line-numbers"><code class="language-javascript">{
    success:true,
    errcode:,//错误码
    errmsg:,//错误信息
    count:10, //总数
    order:[{//所有订单
        orderid:1,//订单id
        hotelid:1,//酒店id
        hotelname:,//酒店名称
        hotelphone:,//联系电话
        hoteladdress:,//酒店地址
        hoteldis:,//酒店所属区县
        hotelcity:,//酒店所属城市
        longitude:, //酒店坐标(经度)
        latitude:,//酒店坐标(纬度)
        retentiontime:, //最晚保留时间 6位字符串 hhmmss,
        defaultleavetime:, //默认离店时间  6位字符串 hhmmss,
        ordermethod:1, //预订方式 1-crs；2-web；3-wechat；4-app(ios)；5-app(Android) 
        ordertype:1, //预订方式  1、预付 2、普通        
        pricetype:1, //价格类型 1、时租  2、日租
        begintime:‘20141225171400’, //预抵时间
        endtime:‘20141225171400’,  //预离时间
        createtime:‘20141225171400’, //订单创建时间
        timeouttime:,//订单失效时间（创建订单时，默认是预付，订单失效时间为订单创建后15分钟）
        promotion:F, //是否促销(T/F)
        coupon:F, //是否使用了优惠券(T/F)
        isonpromo:// 是否特价, 0非，1特价
        promotype:  // 是否特价, 0非，1特价
        roomticket：房券代码
        checkcnt:,//可使用优惠券张数
*「增」 paytip:支付提示(当有值的时候需要在支付的时候进行提示，没有或者值为&quot;&quot;则不提示)
        tickets:[{//优惠券信息，按照线上优惠额倒序排序，金额最大的为默认选中
            id:1,//优惠券唯一id
            name:’优惠券名’,
            select:T, //选中,
            check:T, //可以使用
            subprice:12, //线上优惠多少钱
            offlinesubprice:12, //线下优惠多少钱
            type:1, //优惠券类型 1、普通立减 2、切客优惠码 3、议价优惠码
            isticket:T,//  是否是优惠券（T优惠券，F优惠码）
            uselimit://使用限制(1—线上；2—线下；空—全部)
        }],
        totalprice:150.00, //总房价
        price:50,  //房价
        breakfastnum:1,   //早餐数
        contacts:’联系人姓名’,
        contactsphone:’联系人电话’,
        contactsemail:’联系人email’,
        contactsweixin:’联系人微信’,
        note:’备注’,
        orderstatus:100,  //订单状态
        pay:F,  //是否需要支付(T/F)
        payid:1, //需要支付的订单id
        orderretentiontime:’’  订单保留时间  14位
        onlinepay:100.00, //线上客单价
        offlinepay:100.00// 线下客单价
        receipt:F,   //是否需要发票(T/F)
        spreaduser:1,  //切客用户id
        roomorder:[{//订单下客单
            orderroomid:1,  //客单id
            hotelid:1   //酒店id
            hotelname:’酒店名称’,
            roomtypeid:1, //房型id
            roomtypename:’房型名称’,
            roomid:1,
            roomno:’房间号’,
            ordermethod:1,  //预订方式 1、微信、web3、app
            ordertype:1,  //预订方式  1、预付 2、普通
            pricetype:1,  //价格类型 1、时租  2、日租
            begintime:‘20141225171400’,  //预抵时间
            endtime:‘20141225171400’,  //预离时间
            orderday:1, //1天
            createtime:‘20141225171400’, //订单创建时间
            promotion:F, //是否促销(T/F)
            coupon:F, //是否使用了优惠券(T/F)
            totalprice:150.00, //总房价
        payprice:[{房费应支付金额
            actiondate:,// 日期
            price:,//房价金额
        }]  
        breakfastnum:1,   //早餐数
        contacts:’联系人姓名’,
        contactsphone:’联系人电话’,
        contactsemail:’联系人email’,
        contactsweixin:’联系人微信’,
        checkinuser:[{//入住人信息
            cpname:,//入住人姓名
            cpsex:,//入住人性别
            birthday:,//生日
            cardtype:,//证件类型
            cardid:,//证件号
            ethnic:,//民族
            fromaddress:,//户籍地址
            address://联系地址
            phone:‘’手机号
        }]
        note:’备注’,
        orderstatus:100,  //订单状态
        pay:F,  //是否需要支付(T/F)
        receipt:F,   //是否需要发票(T/F)
        promotionno:’促销代码’,
        reeceipttitle:’发票抬头’,续住时需要第三方支付金额
        onlinepay:100.00, //线上客单价
        offlinepay:100.00// 线下客单价
        showtitle:’已取消’, //显示状态

        citycode：城市编码
        walletcost ： //钱包金额
        cashbackcost ： //返还金额
        orderpaydetail: [
            {name:房款 ，cost ： 100},
            {name:优惠券 ，cost ： -10},
            {name:乐住币 ，cost ：-20},
            {name:房券 ，cost ：-20}
        ],//订单明细费用
        orderstatusname：订单状态的汉字描述
        orderstatusid：订单显示状态id
        receivecashback: 1, //（0:无需领取；1:还未领取;  2:已经领取) 是否返现

确认状态显示规则和前端按钮id
        button:[{
            name:’’, //按钮名称
            action:’’, //动作意义    cancel 取消、pay 付款、edit 修改、checkin快速入住、meet约会、refund退款、          evaluation评价、continuedtolive 续住、delete删除
        }]
}]
}

</code></pre>

<h3 id="toc_32">「修」  创建订单</h3>

<hr>

<p><strong>业务说明：</strong></p>

<p><strong>接口url：</strong></p>

<blockquote>
<p><a href="http://ip:port/ots/order/create">http://ip:port/ots/order/create</a></p>
</blockquote>

<p><strong>请求参数：</strong></p>

<table>
<thead>
<tr>
<th>字段</th>
<th>名称</th>
<th>是否必须</th>
<th>说明</th>
</tr>
</thead>

<tbody>
<tr>
<td>﻿token</td>
<td>授权token</td>
<td>是</td>
<td></td>
</tr>
<tr>
<td>activeid</td>
<td>活动ID</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>hotelid</td>
<td>所选酒店id</td>
<td>是</td>
<td></td>
</tr>
<tr>
<td>roomtypeid</td>
<td>所选房型id</td>
<td>是</td>
<td></td>
</tr>
<tr>
<td>pricetype</td>
<td>日租/时租</td>
<td>是</td>
<td>1时租；2日租</td>
</tr>
<tr>
<td>startdateday</td>
<td>查询开始日期</td>
<td>是</td>
<td>yyyyMMdd</td>
</tr>
<tr>
<td>enddateday</td>
<td>查询结束日期</td>
<td>是</td>
<td>yyyyMMdd</td>
</tr>
<tr>
<td>begintime</td>
<td>开始时间</td>
<td>否</td>
<td>yyyyMMddhhmmss</td>
</tr>
<tr>
<td>endtime</td>
<td>结束时间</td>
<td>否</td>
<td>yyyyMMddhhmmss</td>
</tr>
<tr>
<td>userlongitude</td>
<td>用户坐标(经度)</td>
<td>否</td>
<td>用户的经度</td>
</tr>
<tr>
<td>userlatitude</td>
<td>用户坐标(纬度)</td>
<td>否</td>
<td>用户的纬度</td>
</tr>
<tr>
<td>roomid</td>
<td>所选房间id</td>
<td>是</td>
<td></td>
</tr>
<tr>
<td>ordertype</td>
<td>预付类型</td>
<td>是</td>
<td>1预付；2到店支付</td>
</tr>
<tr>
<td>hideorder</td>
<td>是否无痕入住</td>
<td>否</td>
<td>T/F</td>
</tr>
<tr>
<td>breakfastnum</td>
<td>早餐数</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>contacts</td>
<td>联系人</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>contactsphone</td>
<td>联系电话</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>contactsemail</td>
<td>联系邮箱</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>contactsweixin</td>
<td>联系微信</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>note</td>
<td>备注</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>spreaduser</td>
<td>切客用户id</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>ordermethod</td>
<td>订单方式</td>
<td>否</td>
<td>1-crs；2-web；3-wechat；4-app(ios)；5-app(Android)</td>
</tr>
<tr>
<td>promotion</td>
<td>促销代码</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>couponno</td>
<td>优惠券代码</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>quickuserid</td>
<td>常住人主键id</td>
<td>否</td>
<td>可多个，多个使用过 英文逗号分隔</td>
</tr>
<tr>
<td>checkinuser</td>
<td>入住人信息</td>
<td>否</td>
<td>除去常住人之外的入住人信息，格式为json格式[{name:’姓名’,sex:’性别’, ethnic,’民族’,birthday:’生日’,cardtype:’证件类型’,cardid:’证件号’,disid:’身份证地址区县id’,address:’身份证具体地址’,img:’’},{…}]其中性别、名族参照代码表，区县地址可从服务器端获取全国三级省市县id照片使用base64编码具体地址最多100汉字/字符，电话最多25字符，证件号50字符</td>
</tr>
<tr>
<td>sysno</td>
<td>系统号</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>uuid</td>
<td>用户注册应用信息</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>deviceimei</td>
<td>手机唯一识别码imei</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>simsn</td>
<td>sim卡串号</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>wifimacaddr</td>
<td>wifi的mac地址</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>blmacaddr</td>
<td>蓝牙的mac地址</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>callmethod</td>
<td>调用来源</td>
<td>否</td>
<td>1-crs；2-web；3-wechat；4-app(ios)；5-app(Android)</td>
</tr>
<tr>
<td>callversion</td>
<td>调用版本</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>ip</td>
<td>IP地址</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>hardwarecode</td>
<td>硬件编码</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>otsversion</td>
<td>OTS版本</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>cashbackcost</td>
<td>返现金额</td>
<td>否</td>
<td></td>
</tr>
</tbody>
</table>

<blockquote>
<p>API返回json数据示例：</p>
</blockquote>

<pre class="line-numbers"><code class="language-javascript">{
        success:true,
        errcode:,//错误码
        errmsg:,//错误信息
        orderid:1,//订单id
        hotelid:1,//酒店id
        hotelname:,//酒店名称
        hotelphone:,//联系电话
        hoteladdress:,//酒店地址
        hoteldis:,//酒店所属区县
        hotelcity:,//酒店所属城市
        longitude:, //酒店坐标(经度)
        latitude:,//酒店坐标(纬度)
        retentiontime:, //最晚保留时间 6位字符串 hhmmss,
        defaultleavetime:, //默认离店时间  6位字符串 hhmmss,
        ordermethod:1, //预订方式 1-crs；2-web；3-wechat；4-app(ios)；5-app(Android) 
        ordertype:1, //预订方式  1、预付 2、普通
        pricetype:1, //价格类型 1、时租  2、日租
        begintime:‘20141225180000’, //预抵时间
        endtime:‘20141226120000’,  //预离时间
        createtime:‘20141225171400’, //订单创建时间
        timeouttime:,//订单失效时间（创建订单时，默认是预付，订单失效时间为订单创建后15分钟）
        promotion:F, //是否促销(T/F)
        coupon:F, //是否使用了优惠券(T/F)
        isonpromo:// 是否特价, 0非，1特价
        promotype:  // 是否特价, 0非，1特价
        roomticket：房券代码
        checkcnt:,//可使用优惠券张数
        uselimit://选定的优惠券的使用限制(1—线上；2—线下；空—全部)
 *「增」paytip:支付提示(当有值的时候需要在支付的时候进行提示，没有或者值为&quot;&quot;则不提示)
        tickets:[{//优惠券信息，按照线上优惠额倒序排序，金额最大的为默认选中
            id:1,//优惠券唯一id
            name:’优惠券名’,
            select:T, //选中,
            check:T, //可以使用
            subprice:12, //线上优惠多少钱
            offlinesubprice:12, //线下优惠多少钱
            type:1, //优惠券类型 1、普通立减 2、切客优惠码 3、议价优惠码
            isticket:T,//  是否是优惠券（T优惠券，F优惠码）
            uselimit://使用限制(1—线上；2—线下；空—全部)
        }],
        totalprice:150.00, //总房价
        price:50,  //房价
        breakfastnum:1,   //早餐数
        contacts:’联系人姓名’,
        contactsphone:’联系人电话’,
        contactsemail:’联系人email’,
        contactsweixin:’联系人微信’,
        note:’备注’,
        orderstatus:100,  //订单状态
        pay:F,  //是否需要支付(T/F)
        payid:1, //需要支付的订单id
        orderretentiontime:’’  订单保留时间  14位
        onlinepay:100.00, //线上客单价
        offlinepay:100.00// 线下客单价
        receipt:F,   //是否需要发票(T/F)
        spreaduser:1,  //切客用户id
        roomorder:[{//订单下客单
            orderroomid:1,  //客单id
            hotelid:1   //酒店id
            hotelname:’酒店名称’,
            roomtypeid:1, //房型id
            roomtypename:’房型名称’,
            roomid:1,
            roomno:’房间号’,
            ordermethod:1,  //预订方式 1、微信、web3、app
            ordertype:1,  //预订方式  1、预付 2、普通
            pricetype:1,  //价格类型 1、时租  2、日租
            begintime:‘20141225171400’,  //预抵时间
            endtime:‘20141225171400’,  //预离时间
            orderday:1, //1天
            createtime:‘20141225171400’, //订单创建时间
            promotion:F, //是否促销(T/F)
            coupon:F, //是否使用了优惠券(T/F)
            totalprice:150.00, //总房价
            payprice:[{房费应支付金额
                actiondate:,// 日期
                price:,//房价金额
            }]  
            breakfastnum:1,   //早餐数
            contacts:’联系人姓名’,
            contactsphone:’联系人电话’,
            contactsemail:’联系人email’,
            contactsweixin:’联系人微信’,
            note:’备注’,
            orderstatus:100,  //订单状态
            pay:F,  //是否需要支付(T/F)
            receipt:F,   //是否需要发票(T/F)
            promotionno:’促销代码’,
            reeceipttitle:’发票抬头’,续住时需要第三方支付金额
            onlinepay:100.00, //线上客单价
            offlinepay:100.00// 线下客单价
        }]
        walletcost ： //钱包金额
        citycode：城市编码
        cashbackcost:  //返现金额
        orderpaydetail: [
            {name:房款 ，cost ： 100},
            {name:优惠券 ，cost ： -10},
            {name:乐住币 ，cost ：-20},
            {name:房券 ，cost ：-20}
        ],
        orderstatusname：订单状态的汉字描述
        orderstatusid：订单显示状态id

        usermessage：提示信息
内容要求：
（1）您预订的酒店，在入住日期前一天18:00前可进行退款操作；预订今日酒店，付款完成后就不可以修改订单或退款咯
（2）凌晨23:56-2:00下单，可当天办理入住，提示“您最晚可在xxxx年xx月xx日12：00办理退房哦”；
（3）凌晨2:00后下单，必须在12：00后办理入住，提示“您在xxxx年xx月xx日12:00后可办理入住哦”；
}
</code></pre>

<h3 id="toc_33">「修」 修改订单</h3>

<hr>

<p><strong>业务说明：</strong></p>

<p><strong>接口url：</strong></p>

<blockquote>
<p><a href="http://ip:port/ots/order/modify">http://ip:port/ots/order/modify</a></p>
</blockquote>

<p><strong>请求参数：</strong></p>

<table>
<thead>
<tr>
<th>字段</th>
<th>名称</th>
<th>是否必须</th>
<th>说明</th>
</tr>
</thead>

<tbody>
<tr>
<td>﻿token</td>
<td>授权token</td>
<td>是</td>
<td></td>
</tr>
<tr>
<td>orderid</td>
<td>订单ID</td>
<td>是</td>
<td></td>
</tr>
<tr>
<td>hotelid</td>
<td>所选酒店id</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>roomtypeid</td>
<td>所选房型id</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>pricetype</td>
<td>日租/时租</td>
<td>否</td>
<td>1时租；2日租</td>
</tr>
<tr>
<td>startdateday</td>
<td>查询开始日期</td>
<td>否</td>
<td>yyyyMMdd</td>
</tr>
<tr>
<td>enddateday</td>
<td>查询结束日期</td>
<td>否</td>
<td>yyyyMMdd</td>
</tr>
<tr>
<td>begintime</td>
<td>开始时间</td>
<td>否</td>
<td>yyyyMMddhhmmss</td>
</tr>
<tr>
<td>endtime</td>
<td>结束时间</td>
<td>否</td>
<td>yyyyMMddhhmmss</td>
</tr>
<tr>
<td>roomid</td>
<td>所选房间id</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>ordertype</td>
<td>预付类型</td>
<td>否</td>
<td>1预付；2到店支付</td>
</tr>
<tr>
<td>hideorder</td>
<td>是否无痕入住</td>
<td>否</td>
<td>T/F</td>
</tr>
<tr>
<td>breakfastnum</td>
<td>早餐数</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>contacts</td>
<td>联系人</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>contactsphone</td>
<td>联系电话</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>contactsemail</td>
<td>联系邮箱</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>contactsweixin</td>
<td>联系微信</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>note</td>
<td>备注</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>spreaduser</td>
<td>切客用户id</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>ordermethod</td>
<td>订单方式</td>
<td>否</td>
<td>1-crs；2-web；3-wechat；4-app(ios)；5-app(Android)</td>
</tr>
<tr>
<td>promotion</td>
<td>促销代码</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>couponno</td>
<td>优惠券代码</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>quickuserid</td>
<td>常住人主键id</td>
<td>否</td>
<td>可多个，多个使用过 英文逗号分隔</td>
</tr>
<tr>
<td>checkinuser</td>
<td>入住人信息</td>
<td>否</td>
<td>除去常住人之外的入住人信息，格式为json格式</td>
</tr>
<tr>
<td>sysno</td>
<td>系统号</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>uuid</td>
<td>用户注册应用信息</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>deviceimei</td>
<td>手机唯一识别码imei</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>simsn</td>
<td>sim卡串号</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>wifimacaddr</td>
<td>wifi的mac地址</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>blmacaddr</td>
<td>蓝牙的mac地址</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>walletcost</td>
<td>钱包费用</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>callmethod</td>
<td>调用来源</td>
<td>否</td>
<td>1-crs；2-web；3-wechat；4-app(ios)；5-app(Android)</td>
</tr>
<tr>
<td>callversion</td>
<td>调用版本</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>ip</td>
<td>IP地址</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>hardwarecode</td>
<td>硬件编码</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>otsversion</td>
<td>OTS版本</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>isuselewallet</td>
<td>是否使用钱包</td>
<td>否</td>
<td>T/F</td>
</tr>
<tr>
<td>roomticket</td>
<td>房卷代码</td>
<td>否</td>
<td></td>
</tr>
</tbody>
</table>

<blockquote>
<p>API返回json数据示例：</p>
</blockquote>

<pre class="line-numbers"><code class="language-javascript">{
        success:true,
        errcode:,//错误码
        errmsg:,//错误信息
        orderid:1,//订单id
        hotelid:1,//酒店id
        hotelname:,//酒店名称
        hotelphone:,//联系电话
        hoteladdress:,//酒店地址
        hoteldis:,//酒店所属区县
        hotelcity:,//酒店所属城市
        longitude:, //酒店坐标(经度)
        latitude:,//酒店坐标(纬度)
        retentiontime:, //最晚保留时间 6位字符串 hhmmss,
        defaultleavetime:, //默认离店时间  6位字符串 hhmmss,
        ordermethod:1, //预订方式 1-crs；2-web；3-wechat；4-app(ios)；5-app(Android) 
        ordertype:1, //预订方式  1、预付 2、普通      pricetype:1, //价格类型 1、时租  2、日租
        begintime:‘20141225171400’, //预抵时间
        endtime:‘20141225171400’,  //预离时间
        createtime:‘20141225171400’, //订单创建时间
        timeouttime:,//订单失效时间（创建订单时，默认是预付，订单失效时间为订单创建后15分钟）
        promotion:F, //是否促销(T/F)
        coupon:F, //是否使用了优惠券(T/F)
        isonpromo:// 是否特价, 0非，1特价
        promotype:  // 是否特价, 0非，1特价
        roomticket：房券代码
        checkcnt:,//可使用优惠券张数
        uselimit:// 选定的优惠券的使用限制(1—线上；2—线下；空—全部)
*「增」 paytip:支付提示(当有值的时候需要在支付的时候进行提示，没有或者值为&quot;&quot;则不提示)
        tickets:[{//优惠券信息，按照线上优惠额倒序排序，金额最大的为默认选中
            id:1,//优惠券唯一id
            name:’优惠券名’,
            select:T, //选中,
            check:T, //可以使用
            subprice:12, //线上优惠多少钱
            offlinesubprice:12, //线下优惠多少钱
            type:1, //优惠券类型 1、普通立减 2、切客优惠码 3、议价优惠码
            isticket:T,//  是否是优惠券（T优惠券，F优惠码）
            uselimit://使用限制(1—线上；2—线下；空—全部)
        }],
        totalprice:150.00, //总房价
        price:50,  //房价
        breakfastnum:1,   //早餐数
        contacts:’联系人姓名’,
        contactsphone:’联系人电话’,
        contactsemail:’联系人email’,
        contactsweixin:’联系人微信’,
        note:’备注’,
        orderstatus:100,  //订单状态
        pay:F,  //是否需要支付(T/F)
        payid:1, //需要支付的订单id
        orderretentiontime:’’  订单保留时间  14位
        onlinepay:100.00, //线上客单价
        offlinepay:100.00// 线下客单价
        receipt:F,   //是否需要发票(T/F)
        spreaduser:1,  //切客用户id
        roomorder:[{//订单下客单
            orderroomid:1,  //客单id
            hotelid:1   //酒店id
            hotelname:’酒店名称’,
            roomtypeid:1, //房型id
            roomtypename:’房型名称’,
            roomid:1,
            roomno:’房间号’,
            ordermethod:1,  //预订方式 1、微信、web3、app
            ordertype:1,  //预订方式  1、预付 2、普通3、房券支付
            pricetype:1,  //价格类型 1、时租  2、日租
            begintime:‘20141225171400’,  //预抵时间
            endtime:‘20141225171400’,  //预离时间
            orderday:1, //1天
            createtime:‘20141225171400’, //订单创建时间
            promotion:F, //是否促销(T/F)
            coupon:F, //是否使用了优惠券(T/F)
            totalprice:150.00, //总房价
            payprice:[{房费应支付金额
                actiondate:,// 日期
                price:,//房价金额
            }]  
            breakfastnum:1,   //早餐数
            contacts:’联系人姓名’,
            contactsphone:’联系人电话’,
            contactsemail:’联系人email’,
            contactsweixin:’联系人微信’,
            note:’备注’,
            orderstatus:100,  //订单状态
            pay:F,  //是否需要支付(T/F)
            receipt:F,   //是否需要发票(T/F)
            promotionno:’促销代码’,
            reeceipttitle:’发票抬头’,续住时需要第三方支付金额
            onlinepay:100.00, //线上客单价
            offlinepay:100.00// 线下客单价
        }]
        walletcost ： //钱包金额
        citycode：城市编码
        cashbackcost: ， //返现金额
        orderpaydetail: [
            {name:房款 ，cost ： 100},
            {name:优惠券 ，cost ： -10},
            {name:乐住币 ，cost ：-20},
            {name:房券 ，cost ：-20}
        ],

        orderstatusname：订单状态的汉字描述
        orderstatusid：订单显示状态id
        usermessage：提示信息
内容要求：
（1）您预订的酒店，在入住日期前一天18:00前可进行退款操作；预订今日酒店，付款完成后就不可以修改订单或退款咯
（2）凌晨23:56-2:00下单，可当天办理入住，提示“您最晚可在xxxx年xx月xx日12：00办理退房哦”；
（3）凌晨2:00后下单，必须在12：00后办理入住，提示“您在xxxx年xx月xx日12:00后可办理入住哦”；
}

</code></pre>

<h3 id="toc_34">「修」 房型预订创建订单</h3>

<hr>

<p><strong>业务说明：</strong>
根据酒店房型进行预定，系统自动根据房型下能够预定的房间自动分配一个房间进行展示。</p>

<p><strong>接口url：</strong></p>

<blockquote>
<p><a href="http://ip:port/ots/order/createByRoomType">http://ip:port/ots/order/createByRoomType</a></p>
</blockquote>

<p><strong>请求参数：</strong></p>

<table>
<thead>
<tr>
<th>字段</th>
<th>名称</th>
<th>是否必须</th>
<th>说明</th>
</tr>
</thead>

<tbody>
<tr>
<td>﻿token</td>
<td>授权token</td>
<td>是</td>
<td></td>
</tr>
<tr>
<td>activeid</td>
<td>活动ID</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>hotelid</td>
<td>所选酒店id</td>
<td>是</td>
<td></td>
</tr>
<tr>
<td>roomtypeid</td>
<td>所选房型id</td>
<td>是</td>
<td></td>
</tr>
<tr>
<td>pricetype</td>
<td>日租/时租</td>
<td>是</td>
<td>1时租；2日租</td>
</tr>
<tr>
<td>startdateday</td>
<td>查询开始日期</td>
<td>是</td>
<td>yyyyMMdd</td>
</tr>
<tr>
<td>enddateday</td>
<td>查询结束日期</td>
<td>是</td>
<td>yyyyMMdd</td>
</tr>
<tr>
<td>begintime</td>
<td>开始时间</td>
<td>否</td>
<td>yyyyMMddhhmmss</td>
</tr>
<tr>
<td>endtime</td>
<td>结束时间</td>
<td>否</td>
<td>yyyyMMddhhmmss</td>
</tr>
<tr>
<td>userlongitude</td>
<td>用户坐标(经度)</td>
<td>否</td>
<td>用户的经度</td>
</tr>
<tr>
<td>userlatitude</td>
<td>用户坐标(纬度)</td>
<td>否</td>
<td>用户的纬度</td>
</tr>
<tr>
<td>ordertype</td>
<td>预付类型</td>
<td>是</td>
<td>1预付；2到店支付</td>
</tr>
<tr>
<td>hideorder</td>
<td>是否无痕入住</td>
<td>否</td>
<td>T/F</td>
</tr>
<tr>
<td>breakfastnum</td>
<td>早餐数</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>contacts</td>
<td>联系人</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>contactsphone</td>
<td>联系电话</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>contactsemail</td>
<td>联系邮箱</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>contactsweixin</td>
<td>联系微信</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>note</td>
<td>备注</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>spreaduser</td>
<td>切客用户id</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>ordermethod</td>
<td>订单方式</td>
<td>否</td>
<td>1-crs；2-web；3-wechat；4-app(ios)；5-app(Android)</td>
</tr>
<tr>
<td>promotion</td>
<td>促销代码</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>couponno</td>
<td>优惠券代码</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>quickuserid</td>
<td>常住人主键id</td>
<td>否</td>
<td>可多个，多个使用过 英文逗号分隔</td>
</tr>
<tr>
<td>checkinuser</td>
<td>入住人信息</td>
<td>否</td>
<td>除去常住人之外的入住人信息，格式为json格式</td>
</tr>
<tr>
<td>sysno</td>
<td>系统号</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>uuid</td>
<td>用户注册应用信息</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>deviceimei</td>
<td>手机唯一识别码imei</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>simsn</td>
<td>sim卡串号</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>wifimacaddr</td>
<td>wifi的mac地址</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>blmacaddr</td>
<td>蓝牙的mac地址</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>callmethod</td>
<td>调用来源</td>
<td>否</td>
<td>1-crs；2-web；3-wechat；4-app(ios)；5-app(Android)</td>
</tr>
<tr>
<td>callversion</td>
<td>调用版本</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>ip</td>
<td>IP地址</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>hardwarecode</td>
<td>硬件编码</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>otsversion</td>
<td>OTS版本</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>cashbackcost</td>
<td>返现金额</td>
<td>否</td>
<td></td>
</tr>
</tbody>
</table>

<blockquote>
<p>API返回json数据示例：</p>
</blockquote>

<pre class="line-numbers"><code class="language-javascript">{
        success:true,
        errcode:,//错误码
        errmsg:,//错误信息
        orderid:1,//订单id
        hotelid:1,//酒店id
        hotelname:,//酒店名称
        hotelphone:,//联系电话
        hoteladdress:,//酒店地址
        hoteldis:,//酒店所属区县
        hotelcity:,//酒店所属城市
        longitude:, //酒店坐标(经度)
        latitude:,//酒店坐标(纬度)
        retentiontime:, //最晚保留时间 6位字符串 hhmmss,
        defaultleavetime:, //默认离店时间  6位字符串 hhmmss,
        ordermethod:1, //预订方式 1-crs；2-web；3-wechat；4-app(ios)；5-app(Android) 
        ordertype:1, //预订方式  1、预付 2、普通
        pricetype:1, //价格类型 1、时租  2、日租
        begintime:‘20141225171400’, //预抵时间
        endtime:‘20141225171400’,  //预离时间
        createtime:‘20141225171400’, //订单创建时间
        timeouttime:,//订单失效时间（创建订单时，默认是预付，订单失效时间为订单创建后15分钟）
        promotion:F, //是否促销(T/F)
        coupon:F, //是否使用了优惠券(T/F)
        isonpromo:// 是否特价, 0非，1特价
        promotype:  // 是否特价, 0非，1特价
        roomticket：房券代码
        checkcnt:,//可使用优惠券张数
*「增」 paytip,:支付提示(当有值的时候需要在支付的时候进行提示，没有或者值为&quot;&quot;则不提示)
        tickets:[{//优惠券信息，按照线上优惠额倒序排序，金额最大的为默认选中
            id:1,//优惠券唯一id
            name:’优惠券名’,
            select:T, //选中,
            check:T, //可以使用
            subprice:12, //线上优惠多少钱
            offlinesubprice:12, //线下优惠多少钱
            type:1, //优惠券类型 1、普通立减 2、切客优惠码 3、议价优惠码
            isticket:T,//  是否是优惠券（T优惠券，F优惠码）
            uselimit://使用限制(1—线上；2—线下；空—全部)
        }],
        totalprice:150.00, //总房价
        price:50,  //房价
        breakfastnum:1,   //早餐数
        contacts:’联系人姓名’,
        contactsphone:’联系人电话’,
        contactsemail:’联系人email’,
        contactsweixin:’联系人微信’,
        note:’备注’,
        orderstatus:100,  //订单状态
        pay:F,  //是否需要支付(T/F)
        payid:1, //需要支付的订单id
        orderretentiontime:’’  订单保留时间  14位
        onlinepay:100.00, //线上客单价
        offlinepay:100.00// 线下客单价
        receipt:F,   //是否需要发票(T/F)
        spreaduser:1,  //切客用户id
        roomorder:[{//订单下客单
            orderroomid:1,  //客单id
            hotelid:1   //酒店id
            hotelname:’酒店名称’,
            roomtypeid:1, //房型id
            roomtypename:’房型名称’,
            roomid:1,
            roomno:’房间号’,
            ordermethod:1,  //预订方式 1、微信、web3、app
            ordertype:1,  //预订方式  1、预付 2、普通
            pricetype:1,  //价格类型 1、时租  2、日租
            begintime:‘20141225171400’,  //预抵时间
            endtime:‘20141225171400’,  //预离时间
            orderday:1, //1天
            createtime:‘20141225171400’, //订单创建时间
            promotion:F, //是否促销(T/F)
            coupon:F, //是否使用了优惠券(T/F)
            hasroomticket：F, //是否可以使用房券（T/F）
            roomticket：房券代码
            totalprice:150.00, //总房价
            payprice:[{房费应支付金额
                actiondate:,// 日期
                price:,//房价金额
            }]  
            breakfastnum:1,   //早餐数
            contacts:’联系人姓名’,
            contactsphone:’联系人电话’,
            contactsemail:’联系人email’,
            contactsweixin:’联系人微信’,
            note:’备注’,
            orderstatus:100,  //订单状态
            pay:F,  //是否需要支付(T/F)
            receipt:F,   //是否需要发票(T/F)
            promotionno:’促销代码’,
            reeceipttitle:’发票抬头’,续住时需要第三方支付金额
            onlinepay:100.00, //线上客单价
            offlinepay:100.00// 线下客单价
        }]
        cashbackcost:，  //返现金额
        orderpaydetail: [
            {name:房款 ，cost ： 100},
            {name:优惠券 ，cost ： -10},
            {name:乐住币 ，cost ：-20},
            {name:房券 ，cost ：-20}
        ],

        orderstatusname：订单状态的汉字描述
        usermessage：提示信息
内容要求：
（1）您预订的酒店，在入住日期前一天18:00前可进行退款操作；预订今日酒店，付款完成后就不可以修改订单或退款咯
（2）凌晨23:56-2:00下单，可当天办理入住，提示“您最晚可在xxxx年xx月xx日12：00办理退房哦”；
（3）凌晨2:00后下单，必须在12：00后办理入住，提示“您在xxxx年xx月xx日12:00后可办理入住哦”；
}
</code></pre>

<h3 id="toc_35">取消订单</h3>

<hr>

<p><strong>业务说明：</strong></p>

<p><strong>接口url：</strong></p>

<blockquote>
<p><a href="http://ip:port/ots/order/cancel">http://ip:port/ots/order/cancel</a></p>
</blockquote>

<p><strong>请求参数：</strong></p>

<table>
<thead>
<tr>
<th>字段</th>
<th>名称</th>
<th>是否必须</th>
<th>说明</th>
</tr>
</thead>

<tbody>
<tr>
<td>﻿token</td>
<td>授权token</td>
<td>是</td>
<td></td>
</tr>
<tr>
<td>orderid</td>
<td>订单ID</td>
<td>是</td>
<td></td>
</tr>
<tr>
<td>callmethod</td>
<td>调用来源</td>
<td>否</td>
<td>1-crs；2-web；3-wechat；4-app(ios)；5-app(Android)</td>
</tr>
<tr>
<td>callversion</td>
<td>调用版本</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>ip</td>
<td>IP地址</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>hardwarecode</td>
<td>硬件编码</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>otsversion</td>
<td>OTS版本</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>type</td>
<td>取消类型</td>
<td>否</td>
<td>1 用户取消 2 回退取消.为了版本兼容，该参数不传，默认值为1</td>
</tr>
</tbody>
</table>

<blockquote>
<p>API返回json数据示例：</p>
</blockquote>

<pre class="line-numbers"><code class="language-javascript">{
    success:true,
    errcode:,//错误码
    errmsg:,//错误信息
    cancelpay://待退款金额
}</code></pre>

<h3 id="toc_36">删除订单</h3>

<hr>

<p><strong>业务说明：</strong></p>

<p>该接口用于将订单隐藏，不在C端订单列表中显示,OTS订单表需要增加一个标记位，用于判断是否返回订单给C端查询接口</p>

<p><strong>接口url：</strong></p>

<blockquote>
<p><a href="http://ip:port/ots/order/disable">http://ip:port/ots/order/disable</a></p>
</blockquote>

<p><strong>请求参数：</strong></p>

<table>
<thead>
<tr>
<th>字段</th>
<th>名称</th>
<th>是否必须</th>
<th>说明</th>
</tr>
</thead>

<tbody>
<tr>
<td>﻿token</td>
<td>授权token</td>
<td>是</td>
<td></td>
</tr>
<tr>
<td>orderid</td>
<td>订单ID</td>
<td>是</td>
<td></td>
</tr>
<tr>
<td>callmethod</td>
<td>调用来源</td>
<td>否</td>
<td>1-crs；2-web；3-wechat；4-app(ios)；5-app(Android)</td>
</tr>
<tr>
<td>callversion</td>
<td>调用版本</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>ip</td>
<td>IP地址</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>hardwarecode</td>
<td>硬件编码</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>otsversion</td>
<td>OTS版本</td>
<td>否</td>
<td></td>
</tr>
</tbody>
</table>

<blockquote>
<p>API返回json数据示例：</p>
</blockquote>

<pre class="line-numbers"><code class="language-javascript">{
    success:true,
    errcode:,//错误码
    errmsg:,//错误信息
}
</code></pre>

<h3 id="toc_37">订单数量统计</h3>

<hr>

<p><strong>业务说明：</strong></p>

<p>该接口用于统计某些订单状态对应的订单数量</p>

<p><strong>接口url：</strong></p>

<blockquote>
<p><a href="http://ip:port/ots/order/selectcount">http://ip:port/ots/order/selectcount</a></p>
</blockquote>

<p><strong>请求参数：</strong></p>

<table>
<thead>
<tr>
<th>字段</th>
<th>名称</th>
<th>是否必须</th>
<th>说明</th>
</tr>
</thead>

<tbody>
<tr>
<td>﻿orderid</td>
<td>订单id</td>
<td>是</td>
<td>必填</td>
</tr>
<tr>
<td>promotionno</td>
<td>促销代码</td>
<td>否</td>
<td>若多个，则用“，”分割</td>
</tr>
<tr>
<td>couponno</td>
<td>优惠券代码</td>
<td>否</td>
<td>若多个，则用“，”分割</td>
</tr>
<tr>
<td>paytype</td>
<td>支付类型</td>
<td>是</td>
<td>1预付；2到付</td>
</tr>
<tr>
<td>onlinepaytype</td>
<td>预付支付类型</td>
<td>否（若预付，则必填）</td>
<td>1微信；2支付宝3网银4其他；5房卷支付</td>
</tr>
<tr>
<td>房卷号</td>
<td>否</td>
<td></td>
<td></td>
</tr>
<tr>
<td>callmethod</td>
<td>调用来源</td>
<td>否</td>
<td>1-crs；2-web；3-wechat；4-app(ios)；5-app(Android)</td>
</tr>
<tr>
<td>callversion</td>
<td>调用版本</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>ip</td>
<td>IP地址</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>hardwarecode</td>
<td>硬件编码</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>otsversion</td>
<td>OTS版本</td>
<td>否</td>
<td></td>
</tr>
</tbody>
</table>

<blockquote>
<p>API返回json数据示例：</p>
</blockquote>

<pre class="line-numbers"><code class="language-javascript">{
    success:true,
    errcode:,//错误码
    errmsg:,//错误信息
    statuscount:[{
        sqnum:,//顺序号
        ordercount:,//订单数量
    }]
}

</code></pre>

<h3 id="toc_38">支付接口</h3>

<hr>

<p><strong>业务说明：</strong></p>

<p>在ota系统中为一个已经创建的订单提交支付</p>

<p><strong>接口url：</strong></p>

<blockquote>
<p><a href="http://ip:port/ots/pay/create">http://ip:port/ots/pay/create</a></p>
</blockquote>

<p><strong>请求参数：</strong></p>

<table>
<thead>
<tr>
<th>字段</th>
<th>名称</th>
<th>是否必须</th>
<th>说明</th>
</tr>
</thead>

<tbody>
<tr>
<td>﻿orderid</td>
<td>订单id</td>
<td>是</td>
<td>必填</td>
</tr>
<tr>
<td>promotionno</td>
<td>促销代码</td>
<td>否</td>
<td>若多个，则用“，”分割</td>
</tr>
<tr>
<td>couponno</td>
<td>优惠券代码</td>
<td>否</td>
<td>若多个，则用“，”分割</td>
</tr>
<tr>
<td>paytype</td>
<td>支付类型</td>
<td>是</td>
<td>1预付；2到付</td>
</tr>
<tr>
<td>onlinepaytype</td>
<td>预付支付类型</td>
<td>否（若预付，则必填）</td>
<td>1微信；2支付宝3网银4其他；5房卷支付</td>
</tr>
<tr>
<td>房卷号</td>
<td>否</td>
<td></td>
<td></td>
</tr>
<tr>
<td>callmethod</td>
<td>调用来源</td>
<td>否</td>
<td>1-crs；2-web；3-wechat；4-app(ios)；5-app(Android)</td>
</tr>
<tr>
<td>callversion</td>
<td>调用版本</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>ip</td>
<td>IP地址</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>hardwarecode</td>
<td>硬件编码</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>otsversion</td>
<td>OTS版本</td>
<td>否</td>
<td></td>
</tr>
</tbody>
</table>

<blockquote>
<p>API返回json数据示例：</p>
</blockquote>

<pre class="line-numbers"><code class="language-javascript">{
        success:true,
        errcode:,//错误码
        errmsg:,//错误信息
        weinxinpay:[{//微信支付信息
            appid:,//以下所有返回内容意义产看微信支付文档
            appkey:,
            noncestr:,
            packagevalue:,//原demo中的package字段
            partnerid:,
            prepayid:,
            timestamp:,
            sign:
        }],
        alipay:[{ //支付宝支付信息
            alipayselleremail:,// 商家支付宝email
            alipaypartner:,// 支付宝合作者id
            alipaykey:,// 支付宝商户私钥
            alipaynotifyurl:// 支付宝异步调用url
        }] 
}
</code></pre>

<h3 id="toc_39">检验支付通知</h3>

<hr>

<p><strong>业务说明：</strong></p>

<p><strong>接口url：</strong></p>

<blockquote>
<p><a href="http://ip:port/ots/pay/check">http://ip:port/ots/pay/check</a></p>
</blockquote>

<p><strong>请求参数：</strong></p>

<table>
<thead>
<tr>
<th>字段</th>
<th>名称</th>
<th>是否必须</th>
<th>说明</th>
</tr>
</thead>

<tbody>
<tr>
<td>﻿orderid</td>
<td>订单号</td>
<td>是</td>
<td></td>
</tr>
<tr>
<td>onlinepaytype</td>
<td>预付支付类型</td>
<td>是</td>
<td>1微信；2支付宝；3网银；4其他</td>
</tr>
<tr>
<td>payno</td>
<td>第三方交易号</td>
<td>否</td>
<td>若预付类型是微信，则必填</td>
</tr>
<tr>
<td>paytime</td>
<td>支付时间</td>
<td>是</td>
<td></td>
</tr>
<tr>
<td>price</td>
<td>支付的价格</td>
<td>是</td>
<td></td>
</tr>
<tr>
<td>callmethod</td>
<td>调用来源</td>
<td>否</td>
<td>1-crs；2-web；3-wechat；4-app(ios)；5-app(Android)</td>
</tr>
<tr>
<td>callversion</td>
<td>调用版本</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>ip</td>
<td>IP地址</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>hardwarecode</td>
<td>硬件编码</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>otsversion</td>
<td>OTS版本</td>
<td>否</td>
<td></td>
</tr>
</tbody>
</table>

<blockquote>
<p>API返回json数据示例：</p>
</blockquote>

<pre class="line-numbers"><code class="language-javascript">{
    success:true,
}
</code></pre>

<h3 id="toc_40">微信支付成功后回调</h3>

<hr>

<p><strong>业务说明：</strong></p>

<p>微信公众号在接收到第三方回调后，调用pay/weixin接口，如不成功，则反复调用。</p>

<p><strong>接口url：</strong></p>

<blockquote>
<p><a href="http://ip:port/ots/pay/weixin">http://ip:port/ots/pay/weixin</a></p>
</blockquote>

<p><strong>请求参数：</strong></p>

<table>
<thead>
<tr>
<th>字段</th>
<th>名称</th>
<th>是否必须</th>
<th>说明</th>
</tr>
</thead>

<tbody>
<tr>
<td>﻿orderid</td>
<td>订单号</td>
<td>是</td>
<td></td>
</tr>
<tr>
<td>onlinepaytype</td>
<td>预付支付类型</td>
<td>是</td>
<td>1微信；2支付宝；3网银；4其他</td>
</tr>
<tr>
<td>payno</td>
<td>第三方交易号</td>
<td>否</td>
<td>若预付类型是微信，则必填</td>
</tr>
<tr>
<td>paytime</td>
<td>支付时间</td>
<td>是</td>
<td></td>
</tr>
<tr>
<td>price</td>
<td>支付的价格</td>
<td>是</td>
<td></td>
</tr>
<tr>
<td>callmethod</td>
<td>调用来源</td>
<td>否</td>
<td>1-crs；2-web；3-wechat；4-app(ios)；5-app(Android)</td>
</tr>
<tr>
<td>callversion</td>
<td>调用版本</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>ip</td>
<td>IP地址</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>hardwarecode</td>
<td>硬件编码</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>otsversion</td>
<td>OTS版本</td>
<td>否</td>
<td></td>
</tr>
</tbody>
</table>

<blockquote>
<p>API返回json数据示例：</p>
</blockquote>

<pre class="line-numbers"><code class="language-javascript">{
    success:true,
    errcode:,//错误码
    errmsg:,//错误信息
}
</code></pre>

<h3 id="toc_41">入住人查询接口</h3>

<hr>

<p><strong>业务说明：</strong></p>

<p>查询用户历史入住人信息</p>

<p><strong>接口url：</strong></p>

<blockquote>
<p><a href="http://ip:port/ots/order/selectcheckinuser">http://ip:port/ots/order/selectcheckinuser</a></p>
</blockquote>

<p><strong>请求参数：</strong></p>

<table>
<thead>
<tr>
<th>字段</th>
<th>名称</th>
<th>是否必须</th>
<th>说明</th>
</tr>
</thead>

<tbody>
<tr>
<td>﻿token</td>
<td>授权token</td>
<td>是</td>
<td></td>
</tr>
<tr>
<td>callmethod</td>
<td>调用来源</td>
<td>否</td>
<td>1-crs；2-web；3-wechat；4-app(ios)；5-app(Android)</td>
</tr>
<tr>
<td>callversion</td>
<td>调用版本</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>ip</td>
<td>IP地址</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>hardwarecode</td>
<td>硬件编码</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>otsversion</td>
<td>OTS版本</td>
<td>否</td>
<td></td>
</tr>
</tbody>
</table>

<blockquote>
<p>API返回json数据示例：</p>
</blockquote>

<pre class="line-numbers"><code class="language-javascript">{
    success:true,
    errcode:,//错误码
    errmsg:,//错误信息
    datas: [{
        username: ‘’//入住人姓名
        phone ： ‘’ //入住人手机号
    }]
}

</code></pre>

<h3 id="toc_42">修改入住人接口</h3>

<hr>

<p><strong>业务说明：</strong></p>

<p>当订单预定后，用户需要修改入住人信息时，请调用该接口进行处理。
注意：如果订单已经入住，则用户修改入住人信息时，系统报“订单入住后，不能进行入住人信息修改”</p>

<p><strong>接口url：</strong></p>

<blockquote>
<p><a href="http://ip:port/ots/order/modifycheckinuser">http://ip:port/ots/order/modifycheckinuser</a></p>
</blockquote>

<p><strong>请求参数：</strong></p>

<table>
<thead>
<tr>
<th>字段</th>
<th>名称</th>
<th>是否必须</th>
<th>说明</th>
</tr>
</thead>

<tbody>
<tr>
<td>﻿token</td>
<td>授权token</td>
<td>是</td>
<td></td>
</tr>
<tr>
<td>orderid</td>
<td>订单id</td>
<td>是</td>
<td></td>
</tr>
<tr>
<td>checkinuser</td>
<td>入住人信息</td>
<td>是</td>
<td>除去常住人之外的入住人信息，格式为json格式</td>
</tr>
<tr>
<td>callmethod</td>
<td>调用来源</td>
<td>否</td>
<td>1-crs；2-web；3-wechat；4-app(ios)；5-app(Android)</td>
</tr>
<tr>
<td>callversion</td>
<td>调用版本</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>ip</td>
<td>IP地址</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>hardwarecode</td>
<td>硬件编码</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>otsversion</td>
<td>OTS版本</td>
<td>否</td>
<td></td>
</tr>
</tbody>
</table>

<blockquote>
<p>API返回json数据示例：</p>
</blockquote>

<pre class="line-numbers"><code class="language-javascript">{
    success:true,
    errcode:,//错误码
    errmsg:,//错误信息
}
</code></pre>

<h2 id="toc_43">首页</h2>

<h3 id="toc_44">『增』 首页今夜特价房</h3>

<hr>

<p><strong>业务说明：</strong>
根据 citycode 拉取特价城市的特价活动信息</p>

<p><strong>接口url：</strong></p>

<blockquote>
<p><a href="http://ip:port/ots/homepage/promolist">http://ip:port/ots/homepage/promolist</a></p>
</blockquote>

<p><strong>请求参数：</strong></p>

<table>
<thead>
<tr>
<th>字段</th>
<th>名称</th>
<th>是否必须</th>
<th>说明</th>
</tr>
</thead>

<tbody>
<tr>
<td>﻿cityid</td>
<td>城市编码</td>
<td>是</td>
<td></td>
</tr>
<tr>
<td>﻿page</td>
<td>第几页</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>﻿limit</td>
<td>每页显示几条记录</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>userlatitude</td>
<td>用户坐标(纬度)</td>
<td>是</td>
<td></td>
</tr>
<tr>
<td>userlongitude</td>
<td>用户坐标(经度)</td>
<td>是</td>
<td></td>
</tr>
<tr>
<td>pillowlongitude</td>
<td>查询坐标(经度)</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>pillowlatitude</td>
<td>查询坐标(纬度)</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>callmethod</td>
<td>调用来源</td>
<td>否</td>
<td>1-crs；2-web；3-wechat；4-app(ios)；5-app(Android)</td>
</tr>
<tr>
<td>callversion</td>
<td>调用版本</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>ip</td>
<td>IP地址</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>hardwarecode</td>
<td>硬件编码</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>otsversion</td>
<td>OTS版本</td>
<td>否</td>
<td></td>
</tr>
</tbody>
</table>

<blockquote>
<p>API返回json数据示例：</p>
</blockquote>

<pre class="line-numbers"><code class="language-javascript">{
    &quot;success&quot;:true,
    &quot;errcode&quot;:,//错误码
    &quot;errmsg&quot;:,//错误信息
    &quot;count&quot;:,//酒店数量
     &quot;promonote&quot;: &quot;每天20:00-02:00,订房30元起&quot;,
     &quot;promoid&quot;: 1,
      &quot;promoicon&quot;: &quot;http://7xip11.com2.z0.glb.qiniucdn.com/frontpage_icon_jinyetejia.png&quot;,
     &quot;normalid&quot;: -1,
    &quot;promosec&quot;:0,             //距离特价活动开始的秒数
    &quot;promosecend&quot;:25235， //距离特价活动结束的秒数
    &quot;nextpromosec&quot;:71975，      //距离下一次特价活动开始的秒数
    &quot;hotel&quot;:
        [{
            &quot;hotelid&quot;:,//酒店id
            &quot;hotelname&quot;:,//酒店名称
            &quot;hotelrulecode&quot;:,//酒店切客规则类型码（1001规则A；1002规则B）
            &quot;online&quot;:,//是否在线(T/F)
            &quot;hotelvc&quot;:,//是否有可售房（T/F）该字段根据入参入住时间和离店时间获取该酒店是否有可入住房间，并根据结果返回T、F
            &quot;detailaddr&quot;:,//酒店地址
            &quot;hoteldis&quot;:,//酒店所属区县
            &quot;hotelcity&quot;:,//酒店所属城市
            &quot;hotelprovince&quot;:,//酒店所属省份
            &quot;hotelphone&quot;:,//联系电话
            &quot;hoteldisc&quot;:,//酒店简介
            &quot;longitude&quot;:, //酒店坐标(经度)
            &quot;latitude&quot;:,//酒店坐标(纬度)
            &quot;distance&quot;:,//酒店距离xxx米，该距离表示屏幕坐标到酒店坐标的距离
            &quot;userdistance&quot;:,//距您xxx米，该距离表示用户坐标到屏幕坐标的距离
            &quot;isnear&quot;:,//是否最近酒店，distance值最小的酒店为T,其他为F
            &quot;grade&quot;:, //酒店评分
            &quot;scorecount&quot;:, //评价次数
            &quot;minprice&quot;:,//最低价格
            &quot;minpmsprice&quot;,//最低价格对应房型的门市价
            &quot;ispms&quot;:,//是否签约（T/F）
            &quot;hotelpicnum&quot;:,//酒店图片总数
            &quot;avlblroomnum&quot;:,//可订房间数
            &quot;avlblroomdes&quot;:,//可订房描述
            &quot;descolor&quot;:,   //描述字体颜色  （状态: &quot;&gt;3间房间&quot;    绿色   32ab18 状态：&quot;&lt;=仅剩3间&quot;   红色   fb4b40 状态：满房   灰色    989898）
            &quot;ordernummon&quot;:,//月订单数
            &quot;rcntordertimedes&quot;:, //最近订单时间描述
            &quot;distancestr&quot;: //距离描述
            &quot;isteambuying&quot;:,//是否团购（T/F）
       *「增」&quot;greetscore&quot;:1080,//受欢迎指数
       *「增」 &quot;repairinfo&quot;:&quot;2014年装修&quot;,//装修信息
       *「增」 &quot;highlights&quot;:[{ 
                        &quot;name&quot;: &quot;wifi&quot;,//特点描述
                        &quot;icon&quot;:&quot;http://7xip11.com2.z0.glb.qiniucdn.com/view_theme_roomtype_detail_icon_zhuozi.png&quot;,
                         &quot;id&quot;:44
                     }
                ],  //酒店特点
            &quot;isonpromo&quot;:    // 是否特价，是否特价, 0非，&gt;=1特价
            &quot;promoinfo&quot;:[{ // 特价活动信息
                        &quot;promoid&quot;:// 特价活动 id （1：今夜特价 2.今日特价 3 主题酒店 6.一元秒杀）
                        &quot;promotype&quot;: //特价活动类型 id
                        &quot;promoprice&quot;: // 特价活动价格
            
                        }]
            &quot;teambuying&quot;:[{//团购信息
                            &quot;teambuyingname&quot;:,//团购名称
                            &quot;url&quot;://团购地址
                         }],
            &quot;isrecommend&quot;://是否推荐（T/F）
            &quot;hotelpic&quot;:[{//酒店图片
                            &quot;name&quot;:,//图片名称
                            &quot;pic&quot;:[{//图片集合
                                    &quot;url&quot;://图片地址
                                  }],
                 &quot;width&quot;: //图片宽度,
                 &quot;height&quot;: //图片高度
                       }],
            &quot;hotelfacility&quot;:[{//酒店设施
                                &quot;facid&quot;:,//设施id
                                &quot;facname&quot;://设施名称
                            }],
            //交通
            &quot;businesszone&quot;:[{//商圈
                            &quot;businesszonename&quot;://商圈名称
                            }],
            &quot;roomtype&quot;:[{//房型
                            &quot;roomtypeid&quot;:,//房型id
                            &quot;roomtypename&quot;:,//房型名称
                            &quot;roomtypeprice&quot;:,//房型价格
                            &quot;roomtypepmsprice&quot;:,//门市价格
                            &quot;roomtypevc&quot;:,//是否有可售房（T/F）该字段根据入参入住时间和离店时间获取该房型是否有可入住房间，并根据结果返回T、F
                            &quot;maxarea&quot;:,//最大面积
                            &quot;minarea&quot;:,//最小面积
                            &quot;bednum&quot;:,//床数量（1：单床房，2：双床房，大于2：其他房）
                            &quot;roomnum&quot;:,//房间数量
                            &quot;count&quot;:0, //房间内床数             &quot;beds&quot;:[{//床型信息
                        &quot;bedtypename&quot;:,//床型(双人床，单人床)
                        &quot;bedlength&quot;: //尺寸(1.5米，1.8米)
                    ]},
            &quot;roomtypepic&quot;:[{//房型图片信息
                              &quot;name&quot;:&#39;&#39;,//图片名称
                            &quot;pic&quot;:[{//图片集合
                                    &quot;url&quot;://图片地址
                                 }],
                 &quot;width&quot;: //图片宽度,
                 &quot;height&quot;: //图片高度
                          }]
            &quot;roomtypefacility&quot;:[{//房间设施
                                &quot;roomtypefacid&quot;://设施id
                                &quot;roomtypefacname&quot;://设施名称
                                }]
        
            &quot;service&quot;:[{//酒店服务
                                &quot;serviceid&quot;:,//服务id
                                &quot;servicename&quot;:,//服务名称
                     }]
            &quot;iscashback&quot;:  //是否返现（T/F）
       }],
       &quot;supplementhotel&quot;:[{
             &quot;hotelid&quot;:,//酒店id
            &quot;hotelname&quot;:,//酒店名称
            &quot;hotelrulecode&quot;:,//酒店切客规则类型码（1001规则A；1002规则B）
            &quot;online&quot;:,//是否在线(T/F)
            &quot;hotelvc&quot;:,//是否有可售房（T/F）该字段根据入参入住时间和离店时间获取该酒店是否有可入住房间，并根据结果返回T、F
            &quot;detailaddr&quot;:,//酒店地址
            &quot;hoteldis&quot;:,//酒店所属区县
            &quot;hotelcity&quot;:,//酒店所属城市
            &quot;hotelprovince&quot;:,//酒店所属省份
            &quot;hotelphone&quot;:,//联系电话
            &quot;hoteldisc&quot;:,//酒店简介
            &quot;longitude&quot;:, //酒店坐标(经度)
            &quot;latitude&quot;:,//酒店坐标(纬度)
            &quot;distance&quot;:,//酒店距离xxx米，该距离表示屏幕坐标到酒店坐标的距离
            &quot;userdistance&quot;:,//距您xxx米，该距离表示用户坐标到屏幕坐标的距离
            &quot;isnear&quot;:,//是否最近酒店，distance值最小的酒店为T,其他为F
            &quot;grade&quot;:, //酒店评分
            &quot;scorecount&quot;:, //评价次数
            &quot;minprice&quot;:,//最低价格
            &quot;minpmsprice&quot;,//最低价格对应房型的门市价
            &quot;ispms&quot;:,//是否签约（T/F）
            &quot;hotelpicnum&quot;:,//酒店图片总数
            &quot;avlblroomnum&quot;:,//可订房间数
            &quot;avlblroomdes&quot;:,//可订房描述
            &quot;descolor&quot;:,   //描述字体颜色  （状态: &quot;&gt;3间房间&quot;    绿色   32ab18 状态：&quot;&lt;=仅剩3间&quot;   红色   fb4b40 状态：满房   灰色    989898）
            &quot;ordernummon&quot;:,//月订单数
            &quot;rcntordertimedes&quot;:, //最近订单时间描述
            &quot;distancestr&quot;: //距离描述
            &quot;isteambuying&quot;:,//是否团购（T/F）
       *「增」&quot;greetscore&quot;:1080,//受欢迎指数
       *「增」 &quot;repairinfo&quot;:&quot;2014年装修&quot;,//装修信息
        *「增」 &quot;highlights&quot;:[
                    { 
                        &quot;name&quot;: &quot;wifi&quot;,//特点描述
                        &quot;icon&quot;:&quot;http://7xip11.com2.z0.glb.qiniucdn.com/view_theme_roomtype_detail_icon_zhuozi.png&quot;,
                         &quot;id&quot;:44
                     }
                ],  //酒店特点
            &quot;isonpromo&quot;:    // 是否特价，是否特价, 0非，&gt;=1特价
            &quot;promoinfo&quot;:[{ // 特价活动信息
                        &quot;promoid&quot;:// 特价活动 id （1：今夜特价 2.今日特价 3 主题酒店 6.一元秒杀）
                        &quot;promotype&quot;: //特价活动类型 id
                        &quot;promoprice&quot;: // 特价活动价格
            
                        }]
            &quot;teambuying&quot;:[{//团购信息
                            &quot;teambuyingname&quot;:,//团购名称
                            &quot;url&quot;://团购地址
                         }],
            &quot;isrecommend&quot;://是否推荐（T/F）
            &quot;hotelpic&quot;:[{//酒店图片
                            &quot;name&quot;:,//图片名称
                            &quot;pic&quot;:[{//图片集合
                                    &quot;url&quot;://图片地址
                                  }]
                       }],
            &quot;hotelfacility&quot;:[{//酒店设施
                                &quot;facid&quot;:,//设施id
                                &quot;facname&quot;://设施名称
                            }],
            //交通
            &quot;businesszone&quot;:[{//商圈
                            &quot;businesszonename&quot;://商圈名称
                            }],
            &quot;roomtype&quot;:[{//房型
                            &quot;roomtypeid&quot;:,//房型id
                            &quot;roomtypename&quot;:,//房型名称
                            &quot;roomtypeprice&quot;:,//房型价格
                            &quot;roomtypepmsprice&quot;:,//门市价格
                            &quot;roomtypevc&quot;:,//是否有可售房（T/F）该字段根据入参入住时间和离店时间获取该房型是否有可入住房间，并根据结果返回T、F
                            &quot;maxarea&quot;:,//最大面积
                            &quot;minarea&quot;:,//最小面积
                            &quot;bednum&quot;:,//床数量（1：单床房，2：双床房，大于2：其他房）
                            &quot;roomnum&quot;:,//房间数量
                            &quot;count&quot;:0, //房间内床数             &quot;beds&quot;:[{//床型信息
                        &quot;bedtypename&quot;:,//床型(双人床，单人床)
                        &quot;bedlength&quot;: //尺寸(1.5米，1.8米)
                    ]},
            &quot;roomtypepic&quot;:[{//房型图片信息
                              &quot;name&quot;:&#39;&#39;,//图片名称
                            &quot;pic&quot;:[{//图片集合
                                    &quot;url&quot;://图片地址
                                 }],
                 &quot;width&quot;: //图片宽度,
                 &quot;height&quot;: //图片高度
                          }]
            &quot;roomtypefacility&quot;:[{//房间设施
                                &quot;roomtypefacid&quot;://设施id
                                &quot;roomtypefacname&quot;://设施名称
                                }]
        
            &quot;service&quot;:[{//酒店服务
                                &quot;serviceid&quot;:,//服务id
                                &quot;servicename&quot;:,//服务名称
                     }]
            &quot;iscashback&quot;:  //是否返现（T/F）
       
       }]

}</code></pre>

<h3 id="toc_45">『增』首页快捷入口</h3>

<hr>

<p><strong>业务说明：</strong>
根据 citycode 获取快捷入口信息</p>

<p><strong>接口url：</strong></p>

<blockquote>
<p><a href="http://ip:port/ots/recommend/shortcut">http://ip:port/ots/recommend/shortcut</a></p>
</blockquote>

<p><strong>请求参数：</strong></p>

<table>
<thead>
<tr>
<th>字段</th>
<th>名称</th>
<th>是否必须</th>
<th>说明</th>
</tr>
</thead>

<tbody>
<tr>
<td>﻿ cityid</td>
<td>城市编码</td>
<td>是</td>
<td></td>
</tr>
<tr>
<td>callmethod</td>
<td>调用来源</td>
<td>否</td>
<td>1-crs；2-web；3-wechat；4-app(ios)；5-app(Android)</td>
</tr>
<tr>
<td>callversion</td>
<td>调用版本</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>ip</td>
<td>IP地址</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>hardwarecode</td>
<td>硬件编码</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>otsversion</td>
<td>OTS版本</td>
<td>否</td>
<td></td>
</tr>
</tbody>
</table>

<blockquote>
<p>API返回json数据示例：</p>
</blockquote>

<pre class="line-numbers"><code class="language-javascript">{
    &quot;shortcut&quot;: [
        {
            &quot;id&quot;: 1,
            &quot;imgurl&quot;: &quot;http://7xip11.com2.z0.glb.qiniucdn.com/frontpage_btn_jinyetejia.png&quot;,
            &quot;name&quot;: &quot;一元秒杀&quot;,
            &quot;description&quot;: &quot;HOT&quot;,
            &quot;url&quot;: &quot;http://www.baidu.com&quot;,
            &quot;detailid&quot;: 8,
            &quot;querytype&quot;: 800,
            &quot;createtime&quot;: 1443276228000

        },
        {
            &quot;id&quot;: 2,
             &quot;imgurl&quot;: &quot;http://7xip11.com2.z0.glb.qiniucdn.com/frontpage_btn_jinyetejia.png&quot;,
            &quot;name&quot;: &quot;评价返现&quot;,
            &quot;description&quot;: &quot;评价返现&quot;,
            &quot;url&quot;: &quot;http://www.baidu.com&quot;,
            &quot;detailid&quot;: 8,
            &quot;querytype&quot;: 801,
            &quot;createtime&quot;: 1443276228000

        },
        {
            &quot;id&quot;: 3,
             &quot;imgurl&quot;: &quot;http://7xip11.com2.z0.glb.qiniucdn.com/frontpage_btn_jinyetejia.png&quot;,
            &quot;name&quot;: &quot;一省到底&quot;,
            &quot;description&quot;: &quot;一省到底&quot;,
            &quot;url&quot;: &quot;http://www.baidu.com&quot;,
            &quot;detailid&quot;: 8,
            &quot;querytype&quot;: 802,
            &quot;createtime&quot;: 1443276228000
        },
        {
            &quot;id&quot;: 4,
             &quot;imgurl&quot;: &quot;http://7xip11.com2.z0.glb.qiniucdn.com/frontpage_btn_jinyetejia.png&quot;,
            &quot;name&quot;: &quot;车站酒店&quot;,
            &quot;description&quot;: &quot;车站酒店&quot;,
            &quot;url&quot;: &quot;http://www.baidu.com&quot;,
            &quot;detailid&quot;: 8,
            &quot;querytype&quot;: 803,
            &quot;createtime&quot;: 1443276228000
        }
    ],
    &quot;errmsg&quot;: &quot;&quot;,
    &quot;errcode&quot;: 0
}
</code></pre>

<h3 id="toc_46">『增』 首页主题房</h3>

<h3 id="toc_47">获取首页主题房推荐</h3>

<p><strong>业务说明：</strong></p>

<blockquote>
<p>根据 cityid 获取 主题房推荐信息</p>
</blockquote>

<p><strong>接口 url：</strong></p>

<blockquote>
<p><a href="http://ip:port/ots/homepage/themes">http://ip:port/ots/homepage/themes</a></p>
</blockquote>

<p><strong>请求参数：</strong></p>

<table>
<thead>
<tr>
<th>字段</th>
<th>名称</th>
<th>是否必须</th>
<th>说明</th>
</tr>
</thead>

<tbody>
<tr>
<td>cityid</td>
<td>城市编码</td>
<td>是</td>
<td></td>
</tr>
<tr>
<td>callmethod</td>
<td>调用来源</td>
<td>是</td>
<td>1-crs；<br>2-web；<br>3-wechat；<br>4-app(ios)；<br>5-app(Android)</td>
</tr>
<tr>
<td>callversion</td>
<td>调用版本</td>
<td>是</td>
<td></td>
</tr>
<tr>
<td>ip</td>
<td>IP地址</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>hardwarecode</td>
<td>硬件编码</td>
<td>否</td>
<td></td>
</tr>
<tr>
<td>otsversion</td>
<td>OTS版本</td>
<td>否</td>
<td></td>
</tr>
</tbody>
</table>

<blockquote>
<p>API返回json返回说明：</p>
</blockquote>

<pre class="line-numbers"><code class="language-javascript">{
    &quot;errcode&quot;: 0,
    &quot;errmsg&quot;: &quot;&quot;,
    &quot;hotels&quot;: [
        {
    &quot;hotel&quot;:
        [{
            &quot;hotelid&quot;:,//酒店id
            &quot;hotelname&quot;:,//酒店名称
            &quot;hotelrulecode&quot;:,//酒店切客规则类型码（1001规则A；1002规则B）
            &quot;online&quot;:,//是否在线(T/F)
            &quot;hotelvc&quot;:,//是否有可售房（T/F）该字段根据入参入住时间和离店时间获取该酒店是否有可入住房间，并根据结果返回T、F
            &quot;detailaddr&quot;:,//酒店地址
            &quot;hoteldis&quot;:,//酒店所属区县
            &quot;hotelcity&quot;:,//酒店所属城市
            &quot;hotelprovince&quot;:,//酒店所属省份
            &quot;hotelphone&quot;:,//联系电话
            &quot;hoteldisc&quot;:,//酒店简介
            &quot;longitude&quot;:, //酒店坐标(经度)
            &quot;latitude&quot;:,//酒店坐标(纬度)
            &quot;distance&quot;:,//酒店距离xxx米，该距离表示屏幕坐标到酒店坐标的距离
            &quot;userdistance&quot;:,//距您xxx米，该距离表示用户坐标到屏幕坐标的距离
            &quot;isnear&quot;:,//是否最近酒店，distance值最小的酒店为T,其他为F
            &quot;grade&quot;:, //酒店评分
            &quot;scorecount&quot;:, //评价次数
            &quot;minprice&quot;:,//最低价格
            &quot;minpmsprice&quot;,//最低价格对应房型的门市价
            &quot;ispms&quot;:,//是否签约（T/F）
            &quot;hotelpicnum&quot;:,//酒店图片总数
            &quot;avlblroomnum&quot;:,//可订房间数
            &quot;avlblroomdes&quot;:,//可订房描述
            &quot;descolor&quot;:,   //描述字体颜色  （状态: &quot;&gt;3间房间&quot;    绿色   32ab18 状态：&quot;&lt;=仅剩3间&quot;   红色   fb4b40 状态：满房   灰色    989898）
            &quot;ordernummon&quot;:,//月订单数
            &quot;rcntordertimedes&quot;:, //最近订单时间描述
            &quot;distancestr&quot;: //距离描述
            &quot;isteambuying&quot;:,//是否团购（T/F）
       *「增」&quot;greetscore&quot;:1080,//受欢迎指数
       *「增」 &quot;repairinfo&quot;:&quot;2014年装修&quot;,//装修信息
         *「增」 &quot;highlights&quot;:[
                    { 
                        &quot;name&quot;: &quot;wifi&quot;,//特点描述
                        &quot;icon&quot;:&quot;http://7xip11.com2.z0.glb.qiniucdn.com/view_theme_roomtype_detail_icon_zhuozi.png&quot;,
                         &quot;id&quot;:44
                     }
                ],  //酒店特点
         *「增」 &quot;themetexts&quot;:[
                    { 
                        &quot;text&quot;: &quot;主题tag&quot;,//特点描述
                        &quot;color&quot;:&quot;&quot;, // 如果颜色设定,则C端使用,否则C端自己控制
                     }
                ],  //酒店特点
            &quot;isonpromo&quot;:    // 是否特价，是否特价, 0非，&gt;=1特价
            &quot;promoinfo&quot;:[{ // 特价活动信息
                        &quot;promoid&quot;:// 特价活动 id （1：今夜特价 2.今日特价 3 主题酒店 6.一元秒杀）
                        &quot;promotype&quot;: //特价活动类型 id
                        &quot;promoprice&quot;: // 特价活动价格
            
                        }]
            &quot;teambuying&quot;:[{//团购信息
                            &quot;teambuyingname&quot;:,//团购名称
                            &quot;url&quot;://团购地址
                         }],
            &quot;isrecommend&quot;://是否推荐（T/F）
            &quot;hotelpic&quot;:[{//酒店图片
                            &quot;name&quot;:,//图片名称
                            &quot;pic&quot;:[{//图片集合
                                    &quot;url&quot;://图片地址
                                  }]
                       }],
            &quot;themepic&quot;:[{//主题酒店图片
                            &quot;name&quot;:,//图片名称
                            &quot;pic&quot;:[{//图片集合
                                    &quot;url&quot;://图片地址
                                  }]
                       }],
        &quot;hotelfacility&quot;:[{//酒店设施
                                &quot;facid&quot;:,//设施id
                                &quot;facname&quot;://设施名称
                            }],
            //交通
            &quot;businesszone&quot;:[{//商圈
                            &quot;businesszonename&quot;://商圈名称
                            }]
        }
    ]
}</code></pre>

<blockquote>
<p>API json 数据示例</p>
</blockquote>

<pre class="line-numbers"><code class="language-javascript">{
    &quot;errcode&quot;: 0,
    &quot;errmsg&quot;: &quot;&quot;,
    &quot;hotels&quot;: [
        {
            &quot;hotel&quot;: [
                {
                    &quot;hotelid&quot;: &quot;4705&quot;,
                    &quot;hotelname&quot;: &quot;重庆帝临酒店&quot;,
                    &quot;hotelrulecode&quot;: 1002,
                    &quot;online&quot;: &quot;T&quot;,
                    &quot;hotelvc&quot;: &quot;T&quot;,
                    &quot;detailaddr&quot;: &quot;重庆市沙坪坝区双巷子街6号附11号&quot;,
                    &quot;hoteldis&quot;: &quot;S 沙坪坝区&quot;,
                    &quot;hotelcity&quot;: &quot;500000&quot;,
                    &quot;hotelprovince&quot;: &quot;Z 重庆市&quot;,
                    &quot;hotelphone&quot;: &quot;023-65348952&quot;,
                    &quot;hoteldisc&quot;: &quot;酒店地理位置优越，交通方便，经济实惠，期待您的入驻。&quot;,
                    &quot;longitude&quot;: 106.461941,
                    &quot;latitude&quot;: 29.558707,
                    &quot;distance&quot;: 2179413.1303076735,
                    &quot;userdistance&quot;: 2179413.1303076735,
                    &quot;isnear&quot;: &quot;F&quot;,
                    &quot;grade&quot;: 0,
                    &quot;minprice&quot;: 158,
                    &quot;minpmsprice&quot;: 488,
                    &quot;ispms&quot;: &quot;T&quot;,
                    &quot;hotelpicnum&quot;: 40,
                    &quot;avlblroomnum&quot;: 18,
                    &quot;avlblroomdes&quot;: &quot;&quot;,
                    &quot;descolor&quot;: &quot;32ab18&quot;,
                    &quot;ordernummon&quot;: &quot;0&quot;,
                    &quot;rcntordertimedes&quot;: &quot;最近预订1天前&quot;,
                    &quot;greetscore&quot;: 1080,
                    &quot;repairinfo&quot;: &quot;2014年装修&quot;,
                    &quot;highlights&quot;: [
                        {
                            &quot;name&quot;: &quot;wifi&quot;,
                            &quot;icon&quot;: &quot;http://7xip11.com2.z0.glb.qiniucdn.com/view_theme_roomtype_detail_icon_zhuozi.png&quot;,
                            &quot;id&quot;: 44
                        }
                    ],
                    &quot;themetexts&quot;: [
                        {
                            &quot;text&quot;: &quot;主题tag&quot;,
                            &quot;color&quot;: &quot;66FFBB&quot;
                        },
                        {
                            &quot;text&quot;: &quot;主题tag&quot;,
                            &quot;color&quot;: &quot;66FFBB&quot;
                        }
                    ],
                    &quot;promoinfo&quot;: [
                        {
                            &quot;promoprice&quot;: &quot;60&quot;,
                            &quot;promoid&quot;: 1,
                            &quot;promotype&quot;: 2
                        },
                        {
                            &quot;promoprice&quot;: &quot;90&quot;,
                            &quot;promoid&quot;: 1,
                            &quot;promotype&quot;: 3
                        },
                        {
                            &quot;promoid&quot;: 3,
                            &quot;promotype&quot;: 21
                        }
                    ],
                    &quot;teambuying&quot;: [
                        {
                           &quot;teambuyingname&quot;: &quot;&quot;,
                            &quot;url&quot;: &quot;&quot;
                        }
                    ],
                    &quot;isrecommend&quot;: &quot;F&quot;,
                    &quot;hotelpic&quot;: [
                        {
                            &quot;name&quot;: &quot;def&quot;,
                            &quot;pic&quot;: [
                                {
                                    &quot;url&quot;: &quot;https://dn-imke-pro.qbox.me/FlXbAU1AZ_rFNYtdiT6j4N37BylS&quot;
                                }
                            ]
                        },
                        {
                            &quot;name&quot;: &quot;lobby&quot;,
                            &quot;pic&quot;: [
                                {
                                    &quot;url&quot;: &quot;https://dn-imke-pro.qbox.me/FgKBX2nbglK2U0cpMXUVGBKVFXTV&quot;
                                }
                            ]
                        },
                        {
                            &quot;name&quot;: &quot;mainHousing&quot;,
                            &quot;pic&quot;: [
                                {
                                    &quot;url&quot;: &quot;https://dn-imke-pro.qbox.me/FootNlBX0VNiFABYSdE7mTg-T0oq&quot;
                                }
                            ]
                        }
                    ],
                    &quot;themepic&quot;: [
                        {
                            &quot;name&quot;: &quot;sb&quot;,
                &quot;pic&quot;: [
                                {
                                    &quot;url&quot;: &quot;https://dn-imke-pro.qbox.me/FlXbAU1AZ_rFNYtdiT6j4N37BylS&quot;
                                }
                            ]
                        }
                    ],
                    &quot;hotelfacility&quot;: [
                        {
                            &quot;facid&quot;: 10,
                            &quot;facname&quot;: &quot;叫醒服务&quot;
                        },
                        {
                            &quot;facid&quot;: 9,
                            &quot;facname&quot;: &quot;棋牌室&quot;
                        }
                    ],
                    &quot;businesszone&quot;: [                        
                    ]
                }
            ]
        }
    ]
   }</code></pre>

<h3 id="toc_48">『增』  首页特色推荐</h3>

<p></article></p>

<p><link href="asset/css/zTreeStyle.css" media="all" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="asset/js/jquery-1.4.4.min.js"></script>
<script type="text/javascript" src="asset/js/jquery.ztree.all-3.5.min.js"></script>
<script type="text/javascript" src="asset/js/ztree_toc.js"></script>
<script type="text/javascript" src="asset/js/mdtree.js"></script></p>

<script type="text/javascript">
self="undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:{};var Prism=function(){var e=/\blang(?:uage)?-(?!\*)(\w+)\b/i,t=self.Prism={util:{encode:function(e){return e instanceof n?new n(e.type,t.util.encode(e.content),e.alias):"Array"===t.util.type(e)?e.map(t.util.encode):e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(e){return Object.prototype.toString.call(e).match(/\[object (\w+)\]/)[1]},clone:function(e){var n=t.util.type(e);switch(n){case"Object":var a={};for(var r in e)e.hasOwnProperty(r)&&(a[r]=t.util.clone(e[r]));return a;case"Array":return e.map(function(e){return t.util.clone(e)})}return e}},languages:{extend:function(e,n){var a=t.util.clone(t.languages[e]);for(var r in n)a[r]=n[r];return a},insertBefore:function(e,n,a,r){r=r||t.languages;var i=r[e];if(2==arguments.length){a=arguments[1];for(var l in a)a.hasOwnProperty(l)&&(i[l]=a[l]);return i}var o={};for(var s in i)if(i.hasOwnProperty(s)){if(s==n)for(var l in a)a.hasOwnProperty(l)&&(o[l]=a[l]);o[s]=i[s]}return t.languages.DFS(t.languages,function(t,n){n===r[e]&&t!=e&&(this[t]=o)}),r[e]=o},DFS:function(e,n,a){for(var r in e)e.hasOwnProperty(r)&&(n.call(e,r,e[r],a||r),"Object"===t.util.type(e[r])?t.languages.DFS(e[r],n):"Array"===t.util.type(e[r])&&t.languages.DFS(e[r],n,r))}},highlightAll:function(e,n){for(var a,r=document.querySelectorAll('code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'),i=0;a=r[i++];)t.highlightElement(a,e===!0,n)},highlightElement:function(a,r,i){for(var l,o,s=a;s&&!e.test(s.className);)s=s.parentNode;if(s&&(l=(s.className.match(e)||[,""])[1],o=t.languages[l]),o){a.className=a.className.replace(e,"").replace(/\s+/g," ")+" language-"+l,s=a.parentNode,/pre/i.test(s.nodeName)&&(s.className=s.className.replace(e,"").replace(/\s+/g," ")+" language-"+l);var g=a.textContent;if(g){g=g.replace(/^(?:\r?\n|\r)/,"");var u={element:a,language:l,grammar:o,code:g};if(t.hooks.run("before-highlight",u),r&&self.Worker){var c=new Worker(t.filename);c.onmessage=function(e){u.highlightedCode=n.stringify(JSON.parse(e.data),l),t.hooks.run("before-insert",u),u.element.innerHTML=u.highlightedCode,i&&i.call(u.element),t.hooks.run("after-highlight",u)},c.postMessage(JSON.stringify({language:u.language,code:u.code}))}else u.highlightedCode=t.highlight(u.code,u.grammar,u.language),t.hooks.run("before-insert",u),u.element.innerHTML=u.highlightedCode,i&&i.call(a),t.hooks.run("after-highlight",u)}}},highlight:function(e,a,r){var i=t.tokenize(e,a);return n.stringify(t.util.encode(i),r)},tokenize:function(e,n){var a=t.Token,r=[e],i=n.rest;if(i){for(var l in i)n[l]=i[l];delete n.rest}e:for(var l in n)if(n.hasOwnProperty(l)&&n[l]){var o=n[l];o="Array"===t.util.type(o)?o:[o];for(var s=0;s<o.length;++s){var g=o[s],u=g.inside,c=!!g.lookbehind,f=0,h=g.alias;g=g.pattern||g;for(var p=0;p<r.length;p++){var d=r[p];if(r.length>e.length)break e;if(!(d instanceof a)){g.lastIndex=0;var m=g.exec(d);if(m){c&&(f=m[1].length);var y=m.index-1+f,m=m[0].slice(f),v=m.length,k=y+v,b=d.slice(0,y+1),w=d.slice(k+1),O=[p,1];b&&O.push(b);var N=new a(l,u?t.tokenize(m,u):m,h);O.push(N),w&&O.push(w),Array.prototype.splice.apply(r,O)}}}}}return r},hooks:{all:{},add:function(e,n){var a=t.hooks.all;a[e]=a[e]||[],a[e].push(n)},run:function(e,n){var a=t.hooks.all[e];if(a&&a.length)for(var r,i=0;r=a[i++];)r(n)}}},n=t.Token=function(e,t,n){this.type=e,this.content=t,this.alias=n};if(n.stringify=function(e,a,r){if("string"==typeof e)return e;if("[object Array]"==Object.prototype.toString.call(e))return e.map(function(t){return n.stringify(t,a,e)}).join("");var i={type:e.type,content:n.stringify(e.content,a,r),tag:"span",classes:["token",e.type],attributes:{},language:a,parent:r};if("comment"==i.type&&(i.attributes.spellcheck="true"),e.alias){var l="Array"===t.util.type(e.alias)?e.alias:[e.alias];Array.prototype.push.apply(i.classes,l)}t.hooks.run("wrap",i);var o="";for(var s in i.attributes)o+=s+'="'+(i.attributes[s]||"")+'"';return"<"+i.tag+' class="'+i.classes.join(" ")+'" '+o+">"+i.content+"</"+i.tag+">"},!self.document)return self.addEventListener?(self.addEventListener("message",function(e){var n=JSON.parse(e.data),a=n.language,r=n.code;self.postMessage(JSON.stringify(t.util.encode(t.tokenize(r,t.languages[a])))),self.close()},!1),self.Prism):self.Prism;var a=document.getElementsByTagName("script");return a=a[a.length-1],a&&(t.filename=a.src,document.addEventListener&&!a.hasAttribute("data-manual")&&document.addEventListener("DOMContentLoaded",t.highlightAll)),self.Prism}();"undefined"!=typeof module&&module.exports&&(module.exports=Prism);
</script>
<script type="text/javascript">
Prism.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\w\W]*?\*\//g,lookbehind:!0},{pattern:/(^|[^\\:])\/\/.*?(\r?\n|$)/g,lookbehind:!0}],string:/("|')(\\\n|\\?.)*?\1/g,"class-name":{pattern:/((?:(?:class|interface|extends|implements|trait|instanceof|new)\s+)|(?:catch\s+\())[a-z0-9_\.\\]+/gi,lookbehind:!0,inside:{punctuation:/(\.|\\)/}},keyword:/\b(if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\b/g,"boolean":/\b(true|false)\b/g,"function":{pattern:/[a-z0-9_]+\(/gi,inside:{punctuation:/\(/}},number:/\b-?(0x[\dA-Fa-f]+|\d*\.?\d+([Ee]-?\d+)?)\b/g,operator:/[-+]{1,2}|!|<=?|>=?|={1,3}|&{1,2}|\|?\||\?|\*|\/|~|\^|%/g,ignore:/&(lt|gt|amp);/gi,punctuation:/[{}[\];(),.:]/g};
</script>
<script type="text/javascript">
Prism.languages.javascript=Prism.languages.extend("clike",{keyword:/\b(break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|false|finally|for|function|get|if|implements|import|in|instanceof|interface|let|new|null|package|private|protected|public|return|set|static|super|switch|this|throw|true|try|typeof|var|void|while|with|yield)\b/g,number:/\b-?(0x[\dA-Fa-f]+|\d*\.?\d+([Ee][+-]?\d+)?|NaN|-?Infinity)\b/g,"function":/(?!\d)[a-z0-9_$]+(?=\()/gi}),Prism.languages.insertBefore("javascript","keyword",{regex:{pattern:/(^|[^/])\/(?!\/)(\[.+?]|\\.|[^/\r\n])+\/[gim]{0,3}(?=\s*($|[\r\n,.;})]))/g,lookbehind:!0}}),Prism.languages.markup&&Prism.languages.insertBefore("markup","tag",{script:{pattern:/<script[\w\W]*?>[\w\W]*?<\/script>/gi,inside:{tag:{pattern:/<script[\w\W]*?>|<\/script>/gi,inside:Prism.languages.markup.tag.inside},rest:Prism.languages.javascript},alias:"language-javascript"}});
</script>
<script type="text/javascript">
Prism.hooks.add("after-highlight",function(e){var n=e.element.parentNode;if(n&&/pre/i.test(n.nodeName)&&-1!==n.className.indexOf("line-numbers")){var t,a=1+e.code.split("\n").length;lines=new Array(a),lines=lines.join("<span></span>"),t=document.createElement("span"),t.className="line-numbers-rows",t.innerHTML=lines,n.hasAttribute("data-start")&&(n.style.counterReset="linenumber "+(parseInt(n.getAttribute("data-start"),10)-1)),e.element.appendChild(t)}});
</script>
</body>

</html>
